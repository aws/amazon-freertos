<!-- This file provides the custom header for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.20"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>
        OTA: aws_iot_ota_agent.h File Reference
    </title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="foobar.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
    <tbody>
        <tr style="height: 56px;">
            <td id="projectalign" style="padding-left: 0.5em;">
                <div id="projectname">
                    <span id="afrprefix">FreeRTOS:</span>
                    OTA
                </div>
                <div id="projectbrief">
                    Over the Air Update library
                </div>
            </td>
        </tr>
        <tr>
            <td id="returntomain">
                <a href="../main/index.html">Return to main page &uarr;</a>
            </td>
        </tr>
    </tbody>
    </table>
    </div>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<!-- end header part --><!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('aws__iot__ota__agent_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">aws_iot_ota_agent.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>OTA Agent Interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;FreeRTOS.h&quot;</code><br />
<code>#include &quot;timers.h&quot;</code><br />
</div>
<p><a href="aws__iot__ota__agent_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_sig256__t.html">Sig256_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_t_a___file_context__t.html">OTA_FileContext_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA File Context Information.  <a href="struct_o_t_a___file_context__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_t_a___connection_context__t.html">OTA_ConnectionContext_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Connection context.  <a href="struct_o_t_a___connection_context__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_t_a___p_a_l___callbacks__t.html">OTA_PAL_Callbacks_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA PAL callback structure.  <a href="struct_o_t_a___p_a_l___callbacks__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2714f6afa56c8777b5e570a390a69a58"><td class="memItemLeft" align="right" valign="top"><a id="a2714f6afa56c8777b5e570a390a69a58"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONST_STRLEN</b>(s)&#160;&#160;&#160;( ( ( uint32_t ) sizeof( s ) ) - 1UL )</td></tr>
<tr class="separator:a2714f6afa56c8777b5e570a390a69a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8baee291088322fecd736ff0b03fb730"><td class="memItemLeft" align="right" valign="top"><a id="a8baee291088322fecd736ff0b03fb730"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OTA_FILE_SIG_KEY_STR_MAX_LENGTH</b>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a8baee291088322fecd736ff0b03fb730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae42219e07ba0882145d2709c7f0cbaf1"><td class="memItemLeft" align="right" valign="top"><a id="ae42219e07ba0882145d2709c7f0cbaf1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#ae42219e07ba0882145d2709c7f0cbaf1">OTA_DEBUG_LOG_LEVEL</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ae42219e07ba0882145d2709c7f0cbaf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special OTA Agent printing definition. <br /></td></tr>
<tr class="separator:ae42219e07ba0882145d2709c7f0cbaf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa92e773ec687af4d07c1eaa509fa34"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFINE_OTA_METHOD_NAME</b>(name)</td></tr>
<tr class="separator:a2fa92e773ec687af4d07c1eaa509fa34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d755db114d70407a35f7bb2b89ad287"><td class="memItemLeft" align="right" valign="top"><a id="a5d755db114d70407a35f7bb2b89ad287"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OTA_LOG_L1</b>&#160;&#160;&#160;vLoggingPrintf</td></tr>
<tr class="separator:a5d755db114d70407a35f7bb2b89ad287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4152935ba79eb57ded14f2e1b615a1b"><td class="memItemLeft" align="right" valign="top"><a id="ab4152935ba79eb57ded14f2e1b615a1b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFINE_OTA_METHOD_NAME_L2</b>(name)</td></tr>
<tr class="separator:ab4152935ba79eb57ded14f2e1b615a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe24ba4b248cfd2c4a754ee9549efb4"><td class="memItemLeft" align="right" valign="top"><a id="a8fe24ba4b248cfd2c4a754ee9549efb4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OTA_LOG_L2</b>(...)</td></tr>
<tr class="separator:a8fe24ba4b248cfd2c4a754ee9549efb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a761f3dd5d3e4f0047d87bd12c738bf89"><td class="memItemLeft" align="right" valign="top"><a id="a761f3dd5d3e4f0047d87bd12c738bf89"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFINE_OTA_METHOD_NAME_L3</b>(name)</td></tr>
<tr class="separator:a761f3dd5d3e4f0047d87bd12c738bf89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ab729b986b3c214f8723fad8f6d0f0"><td class="memItemLeft" align="right" valign="top"><a id="ac7ab729b986b3c214f8723fad8f6d0f0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OTA_LOG_L3</b>(...)</td></tr>
<tr class="separator:ac7ab729b986b3c214f8723fad8f6d0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a374cf454c7a4f641bb31433c410c49b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a374cf454c7a4f641bb31433c410c49b7">kOTA_MaxSignatureSize</a>&#160;&#160;&#160;256        /* Max bytes supported for a file signature (2048 bit RSA is 256 bytes). */</td></tr>
<tr class="separator:a374cf454c7a4f641bb31433c410c49b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0966831bd017278016028ee58fa6c219"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a0966831bd017278016028ee58fa6c219">kOTA_Err_Panic</a>&#160;&#160;&#160;0xfe000000UL</td></tr>
<tr class="memdesc:a0966831bd017278016028ee58fa6c219"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Agent error codes returned by OTA agent API.  <a href="aws__iot__ota__agent_8h.html#a0966831bd017278016028ee58fa6c219">More...</a><br /></td></tr>
<tr class="separator:a0966831bd017278016028ee58fa6c219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d050d86291f0dbdf7855fd2ae49a28"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a30d050d86291f0dbdf7855fd2ae49a28">kOTA_Err_Uninitialized</a>&#160;&#160;&#160;0xff000000UL</td></tr>
<tr class="separator:a30d050d86291f0dbdf7855fd2ae49a28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34d40e13c15bd923c9208f67f03648d"><td class="memItemLeft" align="right" valign="top"><a id="aa34d40e13c15bd923c9208f67f03648d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>kOTA_Err_None</b>&#160;&#160;&#160;0x00000000UL</td></tr>
<tr class="separator:aa34d40e13c15bd923c9208f67f03648d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b11a20ee91509f88c82e14716eb5d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a70b11a20ee91509f88c82e14716eb5d7">kOTA_Err_SignatureCheckFailed</a>&#160;&#160;&#160;0x01000000UL</td></tr>
<tr class="separator:a70b11a20ee91509f88c82e14716eb5d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9983ebbc9ca5a06ea4c598f66f4e9144"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a9983ebbc9ca5a06ea4c598f66f4e9144">kOTA_Err_BadSignerCert</a>&#160;&#160;&#160;0x02000000UL</td></tr>
<tr class="separator:a9983ebbc9ca5a06ea4c598f66f4e9144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c23aaa410cd7d49be3dc4e00e35d688"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a5c23aaa410cd7d49be3dc4e00e35d688">kOTA_Err_OutOfMemory</a>&#160;&#160;&#160;0x03000000UL</td></tr>
<tr class="separator:a5c23aaa410cd7d49be3dc4e00e35d688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8245184ee9c1f547a31972133cf1e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a5c8245184ee9c1f547a31972133cf1e6">kOTA_Err_ActivateFailed</a>&#160;&#160;&#160;0x04000000UL</td></tr>
<tr class="separator:a5c8245184ee9c1f547a31972133cf1e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52cbfbef51475f7ac0f716b9c0062181"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a52cbfbef51475f7ac0f716b9c0062181">kOTA_Err_CommitFailed</a>&#160;&#160;&#160;0x05000000UL</td></tr>
<tr class="separator:a52cbfbef51475f7ac0f716b9c0062181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4347fe919df55a2184ca54735db30c8c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a4347fe919df55a2184ca54735db30c8c">kOTA_Err_RejectFailed</a>&#160;&#160;&#160;0x06000000UL</td></tr>
<tr class="separator:a4347fe919df55a2184ca54735db30c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5aca7732329641e06a01d20e6d9eabd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#aa5aca7732329641e06a01d20e6d9eabd">kOTA_Err_AbortFailed</a>&#160;&#160;&#160;0x07000000UL</td></tr>
<tr class="separator:aa5aca7732329641e06a01d20e6d9eabd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbdd433e0380e2f19a9d9e5c4fce7e23"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#abbdd433e0380e2f19a9d9e5c4fce7e23">kOTA_Err_PublishFailed</a>&#160;&#160;&#160;0x08000000UL</td></tr>
<tr class="separator:abbdd433e0380e2f19a9d9e5c4fce7e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a5272fab4b57164ace5a4a3e972395b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a7a5272fab4b57164ace5a4a3e972395b">kOTA_Err_BadImageState</a>&#160;&#160;&#160;0x09000000UL</td></tr>
<tr class="separator:a7a5272fab4b57164ace5a4a3e972395b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af507b51c9d8c824c4a7a4ef7e4b2654f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#af507b51c9d8c824c4a7a4ef7e4b2654f">kOTA_Err_NoActiveJob</a>&#160;&#160;&#160;0x0a000000UL</td></tr>
<tr class="separator:af507b51c9d8c824c4a7a4ef7e4b2654f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03927af21a4e744a47dd48747bc35f99"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a03927af21a4e744a47dd48747bc35f99">kOTA_Err_NoFreeContext</a>&#160;&#160;&#160;0x0b000000UL</td></tr>
<tr class="separator:a03927af21a4e744a47dd48747bc35f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fcec3ec208ed22c88a15c72316ebae5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a2fcec3ec208ed22c88a15c72316ebae5">kOTA_Err_HTTPInitFailed</a>&#160;&#160;&#160;0x0c000000UL</td></tr>
<tr class="separator:a2fcec3ec208ed22c88a15c72316ebae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bf9f2f9fbd1392d34c38d969c28c30b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a2bf9f2f9fbd1392d34c38d969c28c30b">kOTA_Err_HTTPRequestFailed</a>&#160;&#160;&#160;0x0d000000UL</td></tr>
<tr class="separator:a2bf9f2f9fbd1392d34c38d969c28c30b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cfd8cca1b4c00540d705103bca5a1d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a0cfd8cca1b4c00540d705103bca5a1d3">kOTA_Err_FileAbort</a>&#160;&#160;&#160;0x10000000UL</td></tr>
<tr class="separator:a0cfd8cca1b4c00540d705103bca5a1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30428c44b3cfac58e5aa11c3b2b0282a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a30428c44b3cfac58e5aa11c3b2b0282a">kOTA_Err_FileClose</a>&#160;&#160;&#160;0x11000000UL</td></tr>
<tr class="separator:a30428c44b3cfac58e5aa11c3b2b0282a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221253b172af008fed6eab65b9fdf141"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a221253b172af008fed6eab65b9fdf141">kOTA_Err_RxFileCreateFailed</a>&#160;&#160;&#160;0x12000000UL</td></tr>
<tr class="separator:a221253b172af008fed6eab65b9fdf141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad02b06dd9ca1ecb8a1dc8a2f441179e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#ad02b06dd9ca1ecb8a1dc8a2f441179e4">kOTA_Err_BootInfoCreateFailed</a>&#160;&#160;&#160;0x13000000UL</td></tr>
<tr class="separator:ad02b06dd9ca1ecb8a1dc8a2f441179e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a052fd3ba800b3cd9996a19e65132761a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a052fd3ba800b3cd9996a19e65132761a">kOTA_Err_RxFileTooLarge</a>&#160;&#160;&#160;0x14000000UL</td></tr>
<tr class="separator:a052fd3ba800b3cd9996a19e65132761a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b7a812eb903f22143b2212a60ccaec2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a3b7a812eb903f22143b2212a60ccaec2">kOTA_Err_NullFilePtr</a>&#160;&#160;&#160;0x20000000UL</td></tr>
<tr class="separator:a3b7a812eb903f22143b2212a60ccaec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93bafa645c97dd78b197a7ab29990b9d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a93bafa645c97dd78b197a7ab29990b9d">kOTA_Err_MomentumAbort</a>&#160;&#160;&#160;0x21000000UL</td></tr>
<tr class="separator:a93bafa645c97dd78b197a7ab29990b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf50fb4d540294eb67fa9f3115917a6b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#abf50fb4d540294eb67fa9f3115917a6b">kOTA_Err_DowngradeNotAllowed</a>&#160;&#160;&#160;0x22000000UL</td></tr>
<tr class="separator:abf50fb4d540294eb67fa9f3115917a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd1de3c6529654735232bc497302ff8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#affd1de3c6529654735232bc497302ff8">kOTA_Err_SameFirmwareVersion</a>&#160;&#160;&#160;0x23000000UL</td></tr>
<tr class="separator:affd1de3c6529654735232bc497302ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0ac18b5cf7cce0201c5eb6cb01f693c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#af0ac18b5cf7cce0201c5eb6cb01f693c">kOTA_Err_JobParserError</a>&#160;&#160;&#160;0x24000000UL</td></tr>
<tr class="separator:af0ac18b5cf7cce0201c5eb6cb01f693c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fde83b932d97968ac4e538e5af8b395"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a6fde83b932d97968ac4e538e5af8b395">kOTA_Err_FailedToEncodeCBOR</a>&#160;&#160;&#160;0x25000000UL</td></tr>
<tr class="separator:a6fde83b932d97968ac4e538e5af8b395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01b5250d8dd341cd6264ec94d8f6b6b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#af01b5250d8dd341cd6264ec94d8f6b6b">kOTA_Err_ImageStateMismatch</a>&#160;&#160;&#160;0x26000000UL</td></tr>
<tr class="separator:af01b5250d8dd341cd6264ec94d8f6b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381f92adfa7c4706d6ac32157c5d6461"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a381f92adfa7c4706d6ac32157c5d6461">kOTA_Err_GenericIngestError</a>&#160;&#160;&#160;0x27000000UL</td></tr>
<tr class="separator:a381f92adfa7c4706d6ac32157c5d6461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f36c42abe006b3e4116ed4c5891992"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a38f36c42abe006b3e4116ed4c5891992">kOTA_Err_UserAbort</a>&#160;&#160;&#160;0x28000000UL</td></tr>
<tr class="separator:a38f36c42abe006b3e4116ed4c5891992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879e2508a9fbf027d2b59bb8fb3c52a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a879e2508a9fbf027d2b59bb8fb3c52a7">kOTA_Err_ResetNotSupported</a>&#160;&#160;&#160;0x29000000UL</td></tr>
<tr class="separator:a879e2508a9fbf027d2b59bb8fb3c52a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fa51d591efef9519b7ad47df6081c23"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a0fa51d591efef9519b7ad47df6081c23">kOTA_Err_TopicTooLarge</a>&#160;&#160;&#160;0x2a000000UL</td></tr>
<tr class="separator:a0fa51d591efef9519b7ad47df6081c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ffb66de118db08153a372d6d5b6709a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a7ffb66de118db08153a372d6d5b6709a">kOTA_Err_SelfTestTimerFailed</a>&#160;&#160;&#160;0x2b000000UL</td></tr>
<tr class="separator:a7ffb66de118db08153a372d6d5b6709a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0efecd73b4c9c9b03be112592717daa7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a0efecd73b4c9c9b03be112592717daa7">kOTA_Err_EventQueueSendFailed</a>&#160;&#160;&#160;0x2c000000UL</td></tr>
<tr class="separator:a0efecd73b4c9c9b03be112592717daa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada6a950df3b87cad318980db1e402605"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#ada6a950df3b87cad318980db1e402605">kOTA_Err_InvalidDataProtocol</a>&#160;&#160;&#160;0x2d000000UL</td></tr>
<tr class="separator:ada6a950df3b87cad318980db1e402605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b710dccfccb9130846fa1997a39b21d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a9b710dccfccb9130846fa1997a39b21d">kOTA_Err_OTAAgentStopped</a>&#160;&#160;&#160;0x2e000000UL</td></tr>
<tr class="separator:a9b710dccfccb9130846fa1997a39b21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bb4eeee0b63d81ab1567ea0bca8e8f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a8bb4eeee0b63d81ab1567ea0bca8e8f4">kOTA_PAL_ErrMask</a>&#160;&#160;&#160;0xffffffUL</td></tr>
<tr class="separator:a8bb4eeee0b63d81ab1567ea0bca8e8f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b7d5cf4b9551dcd6d16ed5dd71d94f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a75b7d5cf4b9551dcd6d16ed5dd71d94f">kOTA_Main_ErrMask</a>&#160;&#160;&#160;0xff000000UL</td></tr>
<tr class="separator:a75b7d5cf4b9551dcd6d16ed5dd71d94f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc670320701bc64f260e73c323b4bbf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#accc670320701bc64f260e73c323b4bbf">kOTA_MainErrShiftDownBits</a>&#160;&#160;&#160;24U</td></tr>
<tr class="separator:accc670320701bc64f260e73c323b4bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aae3b526aacc1a1df0db9889f8549c766"><td class="memItemLeft" align="right" valign="top">typedef struct OTA_FileContext&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#aae3b526aacc1a1df0db9889f8549c766">OTA_FileContext_t</a></td></tr>
<tr class="separator:aae3b526aacc1a1df0db9889f8549c766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad65b7bf247fac4ec69a7dcff1bf7999c"><td class="memItemLeft" align="right" valign="top"><a id="ad65b7bf247fac4ec69a7dcff1bf7999c"></a>
typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a></td></tr>
<tr class="memdesc:ad65b7bf247fac4ec69a7dcff1bf7999c"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Error type. <br /></td></tr>
<tr class="separator:ad65b7bf247fac4ec69a7dcff1bf7999c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c3cb025cb25e7e1f67dc7f72264f936"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a8c3cb025cb25e7e1f67dc7f72264f936">pxOTACompleteCallback_t</a>) (<a class="el" href="aws__iot__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16e">OTA_JobEvent_t</a> eEvent)</td></tr>
<tr class="memdesc:a8c3cb025cb25e7e1f67dc7f72264f936"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA update complete callback function typedef.  <a href="aws__iot__ota__agent_8h.html#a8c3cb025cb25e7e1f67dc7f72264f936">More...</a><br /></td></tr>
<tr class="separator:a8c3cb025cb25e7e1f67dc7f72264f936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb647cb5204924b67cfae42eba2a573"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a7eb647cb5204924b67cfae42eba2a573">pxOTAPALAbortCallback_t</a>) (<a class="el" href="struct_o_t_a___file_context__t.html">OTA_FileContext_t</a> *const C)</td></tr>
<tr class="memdesc:a7eb647cb5204924b67cfae42eba2a573"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA abort callback function typedef.  <a href="aws__iot__ota__agent_8h.html#a7eb647cb5204924b67cfae42eba2a573">More...</a><br /></td></tr>
<tr class="separator:a7eb647cb5204924b67cfae42eba2a573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa30d350feccfb1d7a6158b64a4d18a11"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#aa30d350feccfb1d7a6158b64a4d18a11">pxOTAPALActivateNewImageCallback_t</a>) (uint32_t ulServerFileID)</td></tr>
<tr class="memdesc:aa30d350feccfb1d7a6158b64a4d18a11"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA new image received callback function typedef.  <a href="aws__iot__ota__agent_8h.html#aa30d350feccfb1d7a6158b64a4d18a11">More...</a><br /></td></tr>
<tr class="separator:aa30d350feccfb1d7a6158b64a4d18a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb98b4d65ec3f55de61ce2acaa59ae5e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#afb98b4d65ec3f55de61ce2acaa59ae5e">pxOTAPALCloseFileCallback_t</a>) (<a class="el" href="struct_o_t_a___file_context__t.html">OTA_FileContext_t</a> *const C)</td></tr>
<tr class="memdesc:afb98b4d65ec3f55de61ce2acaa59ae5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA close file callback function typedef.  <a href="aws__iot__ota__agent_8h.html#afb98b4d65ec3f55de61ce2acaa59ae5e">More...</a><br /></td></tr>
<tr class="separator:afb98b4d65ec3f55de61ce2acaa59ae5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d7f3cce6af0838935a00b3370b2a66f"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a1d7f3cce6af0838935a00b3370b2a66f">pxOTAPALCreateFileForRxCallback_t</a>) (<a class="el" href="struct_o_t_a___file_context__t.html">OTA_FileContext_t</a> *const C)</td></tr>
<tr class="memdesc:a1d7f3cce6af0838935a00b3370b2a66f"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA create file to store received data callback function typedef.  <a href="aws__iot__ota__agent_8h.html#a1d7f3cce6af0838935a00b3370b2a66f">More...</a><br /></td></tr>
<tr class="separator:a1d7f3cce6af0838935a00b3370b2a66f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c984c8806c01476a0e65bd6987cd4c"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="aws__iot__ota__agent_8h.html#af1eafdaf1ba8ba1b332784151dc51100">OTA_PAL_ImageState_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a37c984c8806c01476a0e65bd6987cd4c">pxOTAPALGetPlatformImageStateCallback_t</a>) (uint32_t ulServerFileID)</td></tr>
<tr class="memdesc:a37c984c8806c01476a0e65bd6987cd4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Get Platform Image State callback function typedef.  <a href="aws__iot__ota__agent_8h.html#a37c984c8806c01476a0e65bd6987cd4c">More...</a><br /></td></tr>
<tr class="separator:a37c984c8806c01476a0e65bd6987cd4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f628e3ca83bd07f0caddb7fbf572f0"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a16f628e3ca83bd07f0caddb7fbf572f0">pxOTAPALResetDeviceCallback_t</a>) (uint32_t ulServerFileID)</td></tr>
<tr class="memdesc:a16f628e3ca83bd07f0caddb7fbf572f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Reset Device callback function typedef.  <a href="aws__iot__ota__agent_8h.html#a16f628e3ca83bd07f0caddb7fbf572f0">More...</a><br /></td></tr>
<tr class="separator:a16f628e3ca83bd07f0caddb7fbf572f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2717e17a80417033ec64ed5ef9bba771"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a2717e17a80417033ec64ed5ef9bba771">pxOTAPALSetPlatformImageStateCallback_t</a>) (uint32_t ulServerFileID, <a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a> eState)</td></tr>
<tr class="memdesc:a2717e17a80417033ec64ed5ef9bba771"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Set Platform Image State callback function typedef.  <a href="aws__iot__ota__agent_8h.html#a2717e17a80417033ec64ed5ef9bba771">More...</a><br /></td></tr>
<tr class="separator:a2717e17a80417033ec64ed5ef9bba771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f2b070fc6075865f14118b62c84dcd"><td class="memItemLeft" align="right" valign="top">typedef int16_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a29f2b070fc6075865f14118b62c84dcd">pxOTAPALWriteBlockCallback_t</a>) (<a class="el" href="struct_o_t_a___file_context__t.html">OTA_FileContext_t</a> *const C, uint32_t iOffset, uint8_t *const pacData, uint32_t iBlockSize)</td></tr>
<tr class="memdesc:a29f2b070fc6075865f14118b62c84dcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Write Block callback function typedef.  <a href="aws__iot__ota__agent_8h.html#a29f2b070fc6075865f14118b62c84dcd">More...</a><br /></td></tr>
<tr class="separator:a29f2b070fc6075865f14118b62c84dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef44fff7c30dc32f6eed489b8035663"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="aws__iot__ota__agent_8h.html#a57f25917832ea39b522c7c062c16615d">OTA_JobParseErr_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a3ef44fff7c30dc32f6eed489b8035663">pxOTACustomJobCallback_t</a>) (const char *pcJSON, uint32_t ulMsgLen)</td></tr>
<tr class="memdesc:a3ef44fff7c30dc32f6eed489b8035663"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom Job callback function typedef.  <a href="aws__iot__ota__agent_8h.html#a3ef44fff7c30dc32f6eed489b8035663">More...</a><br /></td></tr>
<tr class="separator:a3ef44fff7c30dc32f6eed489b8035663"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a8eddffdd56ba01c6bd0a3275241af74c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a> { <br />
&#160;&#160;<b>eOTA_AgentState_NoTransition</b> = -1, 
<b>eOTA_AgentState_Init</b> = 0, 
<b>eOTA_AgentState_Ready</b>, 
<b>eOTA_AgentState_RequestingJob</b>, 
<br />
&#160;&#160;<b>eOTA_AgentState_WaitingForJob</b>, 
<b>eOTA_AgentState_CreatingFile</b>, 
<b>eOTA_AgentState_RequestingFileBlock</b>, 
<b>eOTA_AgentState_WaitingForFileBlock</b>, 
<br />
&#160;&#160;<b>eOTA_AgentState_ClosingFile</b>, 
<b>eOTA_AgentState_Suspended</b>, 
<b>eOTA_AgentState_ShuttingDown</b>, 
<b>eOTA_AgentState_Stopped</b>, 
<br />
&#160;&#160;<b>eOTA_AgentState_All</b>
<br />
 }</td></tr>
<tr class="memdesc:a8eddffdd56ba01c6bd0a3275241af74c"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Agent states.  <a href="aws__iot__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">More...</a><br /></td></tr>
<tr class="separator:a8eddffdd56ba01c6bd0a3275241af74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d0f677f09590baf1e74a8731877975"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a86d0f677f09590baf1e74a8731877975">OTA_Event_t</a> { <br />
&#160;&#160;<b>eOTA_AgentEvent_Start</b> = 0, 
<b>eOTA_AgentEvent_StartSelfTest</b>, 
<b>eOTA_AgentEvent_RequestJobDocument</b>, 
<b>eOTA_AgentEvent_ReceivedJobDocument</b>, 
<br />
&#160;&#160;<b>eOTA_AgentEvent_CreateFile</b>, 
<b>eOTA_AgentEvent_RequestFileBlock</b>, 
<b>eOTA_AgentEvent_ReceivedFileBlock</b>, 
<b>eOTA_AgentEvent_RequestTimer</b>, 
<br />
&#160;&#160;<b>eOTA_AgentEvent_CloseFile</b>, 
<b>eOTA_AgentEvent_Suspend</b>, 
<b>eOTA_AgentEvent_Resume</b>, 
<b>eOTA_AgentEvent_UserAbort</b>, 
<br />
&#160;&#160;<b>eOTA_AgentEvent_Shutdown</b>, 
<b>eOTA_AgentEvent_Max</b>
<br />
 }</td></tr>
<tr class="memdesc:a86d0f677f09590baf1e74a8731877975"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Agent Events.  <a href="aws__iot__ota__agent_8h.html#a86d0f677f09590baf1e74a8731877975">More...</a><br /></td></tr>
<tr class="separator:a86d0f677f09590baf1e74a8731877975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1eafdaf1ba8ba1b332784151dc51100"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#af1eafdaf1ba8ba1b332784151dc51100">OTA_PAL_ImageState_t</a> { <b>eOTA_PAL_ImageState_Unknown</b> = 0, 
<b>eOTA_PAL_ImageState_PendingCommit</b>, 
<b>eOTA_PAL_ImageState_Valid</b>, 
<b>eOTA_PAL_ImageState_Invalid</b>
 }</td></tr>
<tr class="memdesc:af1eafdaf1ba8ba1b332784151dc51100"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Platform Image State.  <a href="aws__iot__ota__agent_8h.html#af1eafdaf1ba8ba1b332784151dc51100">More...</a><br /></td></tr>
<tr class="separator:af1eafdaf1ba8ba1b332784151dc51100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f25917832ea39b522c7c062c16615d"><td class="memItemLeft" align="right" valign="top"><a id="a57f25917832ea39b522c7c062c16615d"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a57f25917832ea39b522c7c062c16615d">OTA_JobParseErr_t</a> { <br />
&#160;&#160;<b>eOTA_JobParseErr_Unknown</b> = -1, 
<b>eOTA_JobParseErr_None</b> = 0, 
<b>eOTA_JobParseErr_BusyWithExistingJob</b>, 
<b>eOTA_JobParseErr_NullJob</b>, 
<br />
&#160;&#160;<b>eOTA_JobParseErr_UpdateCurrentJob</b>, 
<b>eOTA_JobParseErr_ZeroFileSize</b>, 
<b>eOTA_JobParseErr_NonConformingJobDoc</b>, 
<b>eOTA_JobParseErr_BadModelInitParams</b>, 
<br />
&#160;&#160;<b>eOTA_JobParseErr_NoContextAvailable</b>, 
<b>eOTA_JobParseErr_NoActiveJobs</b>
<br />
 }</td></tr>
<tr class="memdesc:a57f25917832ea39b522c7c062c16615d"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA job document parser error codes. <br /></td></tr>
<tr class="separator:a57f25917832ea39b522c7c062c16615d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85403792655b68f99981c9229dfa16e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16e">OTA_JobEvent_t</a> { <a class="el" href="aws__iot__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16ea114fb550ca7ce7ca983c8b8b56246e33">eOTA_JobEvent_Activate</a> = 0, 
<a class="el" href="aws__iot__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16eaffe7acba7849e0a844e4a664321e1d6f">eOTA_JobEvent_Fail</a> = 1, 
<a class="el" href="aws__iot__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16ea298b43f57160345ef78ad80a8a3acead">eOTA_JobEvent_StartTest</a> = 2, 
<b>eOTA_LastJobEvent</b> = eOTA_JobEvent_StartTest
 }</td></tr>
<tr class="memdesc:ab85403792655b68f99981c9229dfa16e"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Job callback events.  <a href="aws__iot__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16e">More...</a><br /></td></tr>
<tr class="separator:ab85403792655b68f99981c9229dfa16e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75288843c3e7c89eb390525f67a66b25"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a> { <br />
&#160;&#160;<a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25a6c218365f1c071ae4f6f657a7bca2e0a">eOTA_ImageState_Unknown</a> = 0, 
<a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25a3eaede105fc88165c501ca09b04d5289">eOTA_ImageState_Testing</a> = 1, 
<a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25a12975ca3b62a523383dd62ab2cafb53d">eOTA_ImageState_Accepted</a> = 2, 
<a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25acad30f8b6288aec4686215dbaa74c21a">eOTA_ImageState_Rejected</a> = 3, 
<br />
&#160;&#160;<a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25ad12abedcd867e5394040c6e3271e7bae">eOTA_ImageState_Aborted</a> = 4, 
<b>eOTA_LastImageState</b> = eOTA_ImageState_Aborted
<br />
 }</td></tr>
<tr class="memdesc:a75288843c3e7c89eb390525f67a66b25"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Image states.  <a href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">More...</a><br /></td></tr>
<tr class="separator:a75288843c3e7c89eb390525f67a66b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a277a883031dfa97680cab57847de7594"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a277a883031dfa97680cab57847de7594">OTA_AgentInit</a> (void *pvConnectionContext, const uint8_t *pucThingName, <a class="el" href="aws__iot__ota__agent_8h.html#a8c3cb025cb25e7e1f67dc7f72264f936">pxOTACompleteCallback_t</a> xFunc, TickType_t xTicksToWait)</td></tr>
<tr class="memdesc:a277a883031dfa97680cab57847de7594"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Agent initialization function.  <a href="aws__iot__ota__agent_8h.html#a277a883031dfa97680cab57847de7594">More...</a><br /></td></tr>
<tr class="separator:a277a883031dfa97680cab57847de7594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cae4cd9f827e84988771a08ced87a10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a7cae4cd9f827e84988771a08ced87a10">OTA_AgentInit_internal</a> (void *pvConnectionContext, const uint8_t *pucThingName, const <a class="el" href="struct_o_t_a___p_a_l___callbacks__t.html">OTA_PAL_Callbacks_t</a> *pxCallbacks, TickType_t xTicksToWait)</td></tr>
<tr class="memdesc:a7cae4cd9f827e84988771a08ced87a10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal OTA Agent initialization function.  <a href="aws__iot__ota__agent_8h.html#a7cae4cd9f827e84988771a08ced87a10">More...</a><br /></td></tr>
<tr class="separator:a7cae4cd9f827e84988771a08ced87a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c0b607cc1356d51e4e4c8c25f4c050"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a34c0b607cc1356d51e4e4c8c25f4c050">OTA_AgentShutdown</a> (TickType_t xTicksToWait)</td></tr>
<tr class="memdesc:a34c0b607cc1356d51e4e4c8c25f4c050"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal to the OTA Agent to shut down.  <a href="aws__iot__ota__agent_8h.html#a34c0b607cc1356d51e4e4c8c25f4c050">More...</a><br /></td></tr>
<tr class="separator:a34c0b607cc1356d51e4e4c8c25f4c050"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae15e4aa0f46a43e9282e5bc6ee70c2b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#ae15e4aa0f46a43e9282e5bc6ee70c2b9">OTA_GetAgentState</a> (void)</td></tr>
<tr class="memdesc:ae15e4aa0f46a43e9282e5bc6ee70c2b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current state of the OTA agent.  <a href="aws__iot__ota__agent_8h.html#ae15e4aa0f46a43e9282e5bc6ee70c2b9">More...</a><br /></td></tr>
<tr class="separator:ae15e4aa0f46a43e9282e5bc6ee70c2b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97ccf7aec8a7a1ceae33acab26a7cf3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#af97ccf7aec8a7a1ceae33acab26a7cf3">OTA_ActivateNewImage</a> (void)</td></tr>
<tr class="memdesc:af97ccf7aec8a7a1ceae33acab26a7cf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate the newest MCU image received via OTA.  <a href="aws__iot__ota__agent_8h.html#af97ccf7aec8a7a1ceae33acab26a7cf3">More...</a><br /></td></tr>
<tr class="separator:af97ccf7aec8a7a1ceae33acab26a7cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c2b0a1bbb0e17baf9269df8bd31184"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a91c2b0a1bbb0e17baf9269df8bd31184">OTA_SetImageState</a> (<a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a> eState)</td></tr>
<tr class="memdesc:a91c2b0a1bbb0e17baf9269df8bd31184"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the state of the current MCU image.  <a href="aws__iot__ota__agent_8h.html#a91c2b0a1bbb0e17baf9269df8bd31184">More...</a><br /></td></tr>
<tr class="separator:a91c2b0a1bbb0e17baf9269df8bd31184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d6f4963c036ef7552361316aed2250"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#af5d6f4963c036ef7552361316aed2250">OTA_GetImageState</a> (void)</td></tr>
<tr class="memdesc:af5d6f4963c036ef7552361316aed2250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the state of the currently running MCU image.  <a href="aws__iot__ota__agent_8h.html#af5d6f4963c036ef7552361316aed2250">More...</a><br /></td></tr>
<tr class="separator:af5d6f4963c036ef7552361316aed2250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d6dfbaee5d9428fffc91b1830f1cfd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a70d6dfbaee5d9428fffc91b1830f1cfd">OTA_CheckForUpdate</a> (void)</td></tr>
<tr class="memdesc:a70d6dfbaee5d9428fffc91b1830f1cfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request for the next available OTA job from the job service.  <a href="aws__iot__ota__agent_8h.html#a70d6dfbaee5d9428fffc91b1830f1cfd">More...</a><br /></td></tr>
<tr class="separator:a70d6dfbaee5d9428fffc91b1830f1cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab83a4488ec87b1c1dfed84ba361a2afc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#ab83a4488ec87b1c1dfed84ba361a2afc">OTA_Suspend</a> (void)</td></tr>
<tr class="memdesc:ab83a4488ec87b1c1dfed84ba361a2afc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspend OTA agent operations .  <a href="aws__iot__ota__agent_8h.html#ab83a4488ec87b1c1dfed84ba361a2afc">More...</a><br /></td></tr>
<tr class="separator:ab83a4488ec87b1c1dfed84ba361a2afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a665434a1f53b700fea2fa82a50f5e926"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a665434a1f53b700fea2fa82a50f5e926">OTA_Resume</a> (void *pxConnection)</td></tr>
<tr class="memdesc:a665434a1f53b700fea2fa82a50f5e926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume OTA agent operations .  <a href="aws__iot__ota__agent_8h.html#a665434a1f53b700fea2fa82a50f5e926">More...</a><br /></td></tr>
<tr class="separator:a665434a1f53b700fea2fa82a50f5e926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5853484481fcf8ad51d9d2d8d214aa5d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a5853484481fcf8ad51d9d2d8d214aa5d">OTA_GetPacketsReceived</a> (void)</td></tr>
<tr class="memdesc:a5853484481fcf8ad51d9d2d8d214aa5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of OTA message packets received by the OTA agent.  <a href="aws__iot__ota__agent_8h.html#a5853484481fcf8ad51d9d2d8d214aa5d">More...</a><br /></td></tr>
<tr class="separator:a5853484481fcf8ad51d9d2d8d214aa5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acccd0652d654306770eca5aa9b680b8d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#acccd0652d654306770eca5aa9b680b8d">OTA_GetPacketsQueued</a> (void)</td></tr>
<tr class="memdesc:acccd0652d654306770eca5aa9b680b8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of OTA message packets queued by the OTA agent.  <a href="aws__iot__ota__agent_8h.html#acccd0652d654306770eca5aa9b680b8d">More...</a><br /></td></tr>
<tr class="separator:acccd0652d654306770eca5aa9b680b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a183b18b12df36666a9924b0956a1fa"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#a0a183b18b12df36666a9924b0956a1fa">OTA_GetPacketsProcessed</a> (void)</td></tr>
<tr class="memdesc:a0a183b18b12df36666a9924b0956a1fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of OTA message packets processed by the OTA agent.  <a href="aws__iot__ota__agent_8h.html#a0a183b18b12df36666a9924b0956a1fa">More...</a><br /></td></tr>
<tr class="separator:a0a183b18b12df36666a9924b0956a1fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2a07c3d269402c2fcb90ae918b56c3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__ota__agent_8h.html#aea2a07c3d269402c2fcb90ae918b56c3">OTA_GetPacketsDropped</a> (void)</td></tr>
<tr class="memdesc:aea2a07c3d269402c2fcb90ae918b56c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of OTA message packets dropped by the OTA agent.  <a href="aws__iot__ota__agent_8h.html#aea2a07c3d269402c2fcb90ae918b56c3">More...</a><br /></td></tr>
<tr class="separator:aea2a07c3d269402c2fcb90ae918b56c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa6d0fc8e3cde34458a2c65664d05d65b"><td class="memItemLeft" align="right" valign="top"><a id="aa6d0fc8e3cde34458a2c65664d05d65b"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><b>cOTA_JSON_FileSignatureKey</b> [OTA_FILE_SIG_KEY_STR_MAX_LENGTH]</td></tr>
<tr class="separator:aa6d0fc8e3cde34458a2c65664d05d65b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>OTA Agent Interface. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2fa92e773ec687af4d07c1eaa509fa34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fa92e773ec687af4d07c1eaa509fa34">&#9670;&nbsp;</a></span>DEFINE_OTA_METHOD_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFINE_OTA_METHOD_NAME</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> OTA_METHOD_NAME[] = name; \</div>
<div class="line">    ( void ) OTA_METHOD_NAME;</div>
</div><!-- fragment -->
</div>
</div>
<a id="a374cf454c7a4f641bb31433c410c49b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a374cf454c7a4f641bb31433c410c49b7">&#9670;&nbsp;</a></span>kOTA_MaxSignatureSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_MaxSignatureSize&#160;&#160;&#160;256        /* Max bytes supported for a file signature (2048 bit RSA is 256 bytes). */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>@structs{ota,OTA library} </p>

</div>
</div>
<a id="a0966831bd017278016028ee58fa6c219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0966831bd017278016028ee58fa6c219">&#9670;&nbsp;</a></span>kOTA_Err_Panic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_Panic&#160;&#160;&#160;0xfe000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Agent error codes returned by OTA agent API. </p>
<p>@constantspage{ota,OTA library}</p>
<h1><a class="anchor" id="ota_constants_err_codes"></a>
OTA Error Codes</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#define kOTA_Err_Panic                   0xfe000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_Uninitialized           0xff000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_None                    0x00000000UL</span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_SignatureCheckFailed    0x01000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_BadSignerCert           0x02000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_OutOfMemory             0x03000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_ActivateFailed          0x04000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_CommitFailed            0x05000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_RejectFailed            0x06000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_AbortFailed             0x07000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_PublishFailed           0x08000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_BadImageState           0x09000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_NoActiveJob             0x0a000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_NoFreeContext           0x0b000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_HTTPInitFailed          0x0c000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_HTTPRequestFailed       0x0d000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_FileAbort               0x10000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_FileClose               0x11000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_RxFileCreateFailed      0x12000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_BootInfoCreateFailed    0x13000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_RxFileTooLarge          0x14000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_NullFilePtr             0x20000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_MomentumAbort           0x21000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_DowngradeNotAllowed     0x22000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_SameFirmwareVersion     0x23000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_JobParserError          0x24000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_FailedToEncodeCBOR      0x25000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_ImageStateMismatch      0x26000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_GenericIngestError      0x27000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_UserAbort               0x28000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_ResetNotSupported       0x29000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_TopicTooLarge           0x2a000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_SelfTestTimerFailed     0x2b000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_EventQueueSendFailed    0x2c000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_InvalidDataProtocol     0x2d000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Err_OTAAgentStopped         0x2e000000UL     </span></div>
</div><!-- fragment --><p> OTA agent error codes are in the upper 8 bits of the 32 bit OTA error word, OTA_Err_t.</p>
<h1><a class="anchor" id="ota_constants_err_code_helpers"></a>
OTA Error Code Helper constants</h1>
<p>OTA Error code helper constant for extracting the error code from the OTA error returned.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define kOTA_PAL_ErrMask             0xffffffUL       </span></div>
<div class="line"><span class="preprocessor">#define kOTA_Main_ErrMask            0xff000000UL     </span></div>
<div class="line"><span class="preprocessor">#define kOTA_MainErrShiftDownBits    24U              </span></div>
</div><!-- fragment --><p> OTA error codes consist of an agent code in the upper 8 bits of a 32 bit word and sometimes merged with a platform specific code in the lower 24 bits. You must refer to the platform PAL layer in use to determine the meaning of the lower 24 bits. Unrecoverable FW error. Probably should log error and reboot. </p>

</div>
</div>
<a id="a30d050d86291f0dbdf7855fd2ae49a28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30d050d86291f0dbdf7855fd2ae49a28">&#9670;&nbsp;</a></span>kOTA_Err_Uninitialized</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_Uninitialized&#160;&#160;&#160;0xff000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The error code has not yet been set by a logic path. </p>

</div>
</div>
<a id="a70b11a20ee91509f88c82e14716eb5d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70b11a20ee91509f88c82e14716eb5d7">&#9670;&nbsp;</a></span>kOTA_Err_SignatureCheckFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_SignatureCheckFailed&#160;&#160;&#160;0x01000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The signature check failed for the specified file. </p>

</div>
</div>
<a id="a9983ebbc9ca5a06ea4c598f66f4e9144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9983ebbc9ca5a06ea4c598f66f4e9144">&#9670;&nbsp;</a></span>kOTA_Err_BadSignerCert</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_BadSignerCert&#160;&#160;&#160;0x02000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The signer certificate was not readable or zero length. </p>

</div>
</div>
<a id="a5c23aaa410cd7d49be3dc4e00e35d688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c23aaa410cd7d49be3dc4e00e35d688">&#9670;&nbsp;</a></span>kOTA_Err_OutOfMemory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_OutOfMemory&#160;&#160;&#160;0x03000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>General out of memory error. </p>

</div>
</div>
<a id="a5c8245184ee9c1f547a31972133cf1e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c8245184ee9c1f547a31972133cf1e6">&#9670;&nbsp;</a></span>kOTA_Err_ActivateFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_ActivateFailed&#160;&#160;&#160;0x04000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The activation of the new OTA image failed. </p>

</div>
</div>
<a id="a52cbfbef51475f7ac0f716b9c0062181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52cbfbef51475f7ac0f716b9c0062181">&#9670;&nbsp;</a></span>kOTA_Err_CommitFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_CommitFailed&#160;&#160;&#160;0x05000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The acceptance commit of the new OTA image failed. </p>

</div>
</div>
<a id="a4347fe919df55a2184ca54735db30c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4347fe919df55a2184ca54735db30c8c">&#9670;&nbsp;</a></span>kOTA_Err_RejectFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_RejectFailed&#160;&#160;&#160;0x06000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error trying to reject the OTA image. </p>

</div>
</div>
<a id="aa5aca7732329641e06a01d20e6d9eabd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5aca7732329641e06a01d20e6d9eabd">&#9670;&nbsp;</a></span>kOTA_Err_AbortFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_AbortFailed&#160;&#160;&#160;0x07000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error trying to abort the OTA. </p>

</div>
</div>
<a id="abbdd433e0380e2f19a9d9e5c4fce7e23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbdd433e0380e2f19a9d9e5c4fce7e23">&#9670;&nbsp;</a></span>kOTA_Err_PublishFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_PublishFailed&#160;&#160;&#160;0x08000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt to publish a MQTT message failed. </p>

</div>
</div>
<a id="a7a5272fab4b57164ace5a4a3e972395b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a5272fab4b57164ace5a4a3e972395b">&#9670;&nbsp;</a></span>kOTA_Err_BadImageState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_BadImageState&#160;&#160;&#160;0x09000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The specified OTA image state was out of range. </p>

</div>
</div>
<a id="af507b51c9d8c824c4a7a4ef7e4b2654f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af507b51c9d8c824c4a7a4ef7e4b2654f">&#9670;&nbsp;</a></span>kOTA_Err_NoActiveJob</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_NoActiveJob&#160;&#160;&#160;0x0a000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt to set final image state without an active job. </p>

</div>
</div>
<a id="a03927af21a4e744a47dd48747bc35f99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03927af21a4e744a47dd48747bc35f99">&#9670;&nbsp;</a></span>kOTA_Err_NoFreeContext</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_NoFreeContext&#160;&#160;&#160;0x0b000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>There wasn't an OTA file context available for processing. </p>

</div>
</div>
<a id="a2fcec3ec208ed22c88a15c72316ebae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fcec3ec208ed22c88a15c72316ebae5">&#9670;&nbsp;</a></span>kOTA_Err_HTTPInitFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_HTTPInitFailed&#160;&#160;&#160;0x0c000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error initializing the HTTP connection. </p>

</div>
</div>
<a id="a2bf9f2f9fbd1392d34c38d969c28c30b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bf9f2f9fbd1392d34c38d969c28c30b">&#9670;&nbsp;</a></span>kOTA_Err_HTTPRequestFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_HTTPRequestFailed&#160;&#160;&#160;0x0d000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error sending the HTTP request. </p>

</div>
</div>
<a id="a0cfd8cca1b4c00540d705103bca5a1d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cfd8cca1b4c00540d705103bca5a1d3">&#9670;&nbsp;</a></span>kOTA_Err_FileAbort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_FileAbort&#160;&#160;&#160;0x10000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error in low level file abort. </p>

</div>
</div>
<a id="a30428c44b3cfac58e5aa11c3b2b0282a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30428c44b3cfac58e5aa11c3b2b0282a">&#9670;&nbsp;</a></span>kOTA_Err_FileClose</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_FileClose&#160;&#160;&#160;0x11000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error in low level file close. </p>

</div>
</div>
<a id="a221253b172af008fed6eab65b9fdf141"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a221253b172af008fed6eab65b9fdf141">&#9670;&nbsp;</a></span>kOTA_Err_RxFileCreateFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_RxFileCreateFailed&#160;&#160;&#160;0x12000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The PAL failed to create the OTA receive file. </p>

</div>
</div>
<a id="ad02b06dd9ca1ecb8a1dc8a2f441179e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad02b06dd9ca1ecb8a1dc8a2f441179e4">&#9670;&nbsp;</a></span>kOTA_Err_BootInfoCreateFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_BootInfoCreateFailed&#160;&#160;&#160;0x13000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The PAL failed to create the OTA boot info file. </p>

</div>
</div>
<a id="a052fd3ba800b3cd9996a19e65132761a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a052fd3ba800b3cd9996a19e65132761a">&#9670;&nbsp;</a></span>kOTA_Err_RxFileTooLarge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_RxFileTooLarge&#160;&#160;&#160;0x14000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The OTA receive file is too big for the platform to support. </p>

</div>
</div>
<a id="a3b7a812eb903f22143b2212a60ccaec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b7a812eb903f22143b2212a60ccaec2">&#9670;&nbsp;</a></span>kOTA_Err_NullFilePtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_NullFilePtr&#160;&#160;&#160;0x20000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt to use a null file pointer. </p>

</div>
</div>
<a id="a93bafa645c97dd78b197a7ab29990b9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93bafa645c97dd78b197a7ab29990b9d">&#9670;&nbsp;</a></span>kOTA_Err_MomentumAbort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_MomentumAbort&#160;&#160;&#160;0x21000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Too many OTA stream requests without any response. </p>

</div>
</div>
<a id="abf50fb4d540294eb67fa9f3115917a6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf50fb4d540294eb67fa9f3115917a6b">&#9670;&nbsp;</a></span>kOTA_Err_DowngradeNotAllowed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_DowngradeNotAllowed&#160;&#160;&#160;0x22000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Firmware version is older than the previous version. </p>

</div>
</div>
<a id="affd1de3c6529654735232bc497302ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affd1de3c6529654735232bc497302ff8">&#9670;&nbsp;</a></span>kOTA_Err_SameFirmwareVersion</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_SameFirmwareVersion&#160;&#160;&#160;0x23000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Firmware version is the same as previous. New firmware could have failed to commit. </p>

</div>
</div>
<a id="af0ac18b5cf7cce0201c5eb6cb01f693c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0ac18b5cf7cce0201c5eb6cb01f693c">&#9670;&nbsp;</a></span>kOTA_Err_JobParserError</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_JobParserError&#160;&#160;&#160;0x24000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An error occurred during job document parsing. See reason sub-code. </p>

</div>
</div>
<a id="a6fde83b932d97968ac4e538e5af8b395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fde83b932d97968ac4e538e5af8b395">&#9670;&nbsp;</a></span>kOTA_Err_FailedToEncodeCBOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_FailedToEncodeCBOR&#160;&#160;&#160;0x25000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Failed to encode CBOR object. </p>

</div>
</div>
<a id="af01b5250d8dd341cd6264ec94d8f6b6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af01b5250d8dd341cd6264ec94d8f6b6b">&#9670;&nbsp;</a></span>kOTA_Err_ImageStateMismatch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_ImageStateMismatch&#160;&#160;&#160;0x26000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The OTA job was in Self Test but the platform image state was not. Possible tampering. </p>

</div>
</div>
<a id="a381f92adfa7c4706d6ac32157c5d6461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a381f92adfa7c4706d6ac32157c5d6461">&#9670;&nbsp;</a></span>kOTA_Err_GenericIngestError</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_GenericIngestError&#160;&#160;&#160;0x27000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A failure in block ingestion not caused by the PAL. See the error sub code. </p>

</div>
</div>
<a id="a38f36c42abe006b3e4116ed4c5891992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38f36c42abe006b3e4116ed4c5891992">&#9670;&nbsp;</a></span>kOTA_Err_UserAbort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_UserAbort&#160;&#160;&#160;0x28000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>User aborted the active OTA. </p>

</div>
</div>
<a id="a879e2508a9fbf027d2b59bb8fb3c52a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879e2508a9fbf027d2b59bb8fb3c52a7">&#9670;&nbsp;</a></span>kOTA_Err_ResetNotSupported</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_ResetNotSupported&#160;&#160;&#160;0x29000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>We tried to reset the device but the device doesn't support it. </p>

</div>
</div>
<a id="a0fa51d591efef9519b7ad47df6081c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fa51d591efef9519b7ad47df6081c23">&#9670;&nbsp;</a></span>kOTA_Err_TopicTooLarge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_TopicTooLarge&#160;&#160;&#160;0x2a000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt to build a topic string larger than the supplied buffer. </p>

</div>
</div>
<a id="a7ffb66de118db08153a372d6d5b6709a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ffb66de118db08153a372d6d5b6709a">&#9670;&nbsp;</a></span>kOTA_Err_SelfTestTimerFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_SelfTestTimerFailed&#160;&#160;&#160;0x2b000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt to start self-test timer faield. </p>

</div>
</div>
<a id="a0efecd73b4c9c9b03be112592717daa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0efecd73b4c9c9b03be112592717daa7">&#9670;&nbsp;</a></span>kOTA_Err_EventQueueSendFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_EventQueueSendFailed&#160;&#160;&#160;0x2c000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Posting event message to the event queue failed. </p>

</div>
</div>
<a id="ada6a950df3b87cad318980db1e402605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada6a950df3b87cad318980db1e402605">&#9670;&nbsp;</a></span>kOTA_Err_InvalidDataProtocol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_InvalidDataProtocol&#160;&#160;&#160;0x2d000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Job does not have a valid protocol for data transfer. </p>

</div>
</div>
<a id="a9b710dccfccb9130846fa1997a39b21d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b710dccfccb9130846fa1997a39b21d">&#9670;&nbsp;</a></span>kOTA_Err_OTAAgentStopped</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_OTAAgentStopped&#160;&#160;&#160;0x2e000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returned when operations are performed that requires OTA Agent running &amp; its stopped. </p>

</div>
</div>
<a id="a8bb4eeee0b63d81ab1567ea0bca8e8f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bb4eeee0b63d81ab1567ea0bca8e8f4">&#9670;&nbsp;</a></span>kOTA_PAL_ErrMask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_PAL_ErrMask&#160;&#160;&#160;0xffffffUL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The PAL layer uses the signed low 24 bits of the OTA error code. </p>

</div>
</div>
<a id="a75b7d5cf4b9551dcd6d16ed5dd71d94f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b7d5cf4b9551dcd6d16ed5dd71d94f">&#9670;&nbsp;</a></span>kOTA_Main_ErrMask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Main_ErrMask&#160;&#160;&#160;0xff000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mask out all but the OTA Agent error code (high 8 bits). </p>

</div>
</div>
<a id="accc670320701bc64f260e73c323b4bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc670320701bc64f260e73c323b4bbf">&#9670;&nbsp;</a></span>kOTA_MainErrShiftDownBits</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_MainErrShiftDownBits&#160;&#160;&#160;24U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The OTA Agent error code is the highest 8 bits of the word. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aae3b526aacc1a1df0db9889f8549c766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae3b526aacc1a1df0db9889f8549c766">&#9670;&nbsp;</a></span>OTA_FileContext_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct OTA_FileContext <a class="el" href="struct_o_t_a___file_context__t.html">OTA_FileContext_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>@functionpointers{ota,OTA library} </p>

</div>
</div>
<a id="a8c3cb025cb25e7e1f67dc7f72264f936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c3cb025cb25e7e1f67dc7f72264f936">&#9670;&nbsp;</a></span>pxOTACompleteCallback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* pxOTACompleteCallback_t) (<a class="el" href="aws__iot__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16e">OTA_JobEvent_t</a> eEvent)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA update complete callback function typedef. </p>
<p>The user may register a callback function when initializing the OTA Agent. This callback is used to notify the main application when the OTA update job is complete. Typically, it is used to reset the device after a successful update by calling ota_function_activatenewimage and may also be used to kick off user specified self tests during the Self Test phase. If the user does not supply a custom callback function, a default callback handler is used that automatically calls ota_function_activatenewimage after a successful update.</p>
<p>The callback function is called with one of the following arguments: </p><pre class="fragment"> eOTA_JobEvent_Activate      OTA update is authenticated and ready to activate.
 eOTA_JobEvent_Fail          OTA update failed. Unable to use this update.
 eOTA_JobEvent_StartTest     OTA job is now ready for optional user self tests.
</pre><p>When eOTA_JobEvent_Activate is received, the job status details have been updated with the state as ready for Self Test. After reboot, the new firmware will (normally) be notified that it is in the Self Test phase via the callback and the application may then optionally run its own tests before committing the new image.</p>
<p>If the callback function is called with a result of eOTA_JobEvent_Fail, the OTA update job has failed in some way and should be rejected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eEvent</td><td>An OTA update event from the OTA_JobEvent_t enum. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7eb647cb5204924b67cfae42eba2a573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eb647cb5204924b67cfae42eba2a573">&#9670;&nbsp;</a></span>pxOTAPALAbortCallback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>(* pxOTAPALAbortCallback_t) (<a class="el" href="struct_o_t_a___file_context__t.html">OTA_FileContext_t</a> *const C)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA abort callback function typedef. </p>
<p>The user may register a callback function when initializing the OTA Agent. This callback is used to override the behavior of how a job is aborted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">C</td><td>File context of the job being aborted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa30d350feccfb1d7a6158b64a4d18a11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa30d350feccfb1d7a6158b64a4d18a11">&#9670;&nbsp;</a></span>pxOTAPALActivateNewImageCallback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>(* pxOTAPALActivateNewImageCallback_t) (uint32_t ulServerFileID)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA new image received callback function typedef. </p>
<p>The user may register a callback function when initializing the OTA Agent. This callback is used to override the behavior of what happens when a new image is activated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ulServerFileID</td><td>File ID of the image received </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afb98b4d65ec3f55de61ce2acaa59ae5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb98b4d65ec3f55de61ce2acaa59ae5e">&#9670;&nbsp;</a></span>pxOTAPALCloseFileCallback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>(* pxOTAPALCloseFileCallback_t) (<a class="el" href="struct_o_t_a___file_context__t.html">OTA_FileContext_t</a> *const C)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA close file callback function typedef. </p>
<p>The user may register a callback function when initializing the OTA Agent. This callback is used to override the behavior of what happens when a file is closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">C</td><td>File context of the job being aborted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1d7f3cce6af0838935a00b3370b2a66f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d7f3cce6af0838935a00b3370b2a66f">&#9670;&nbsp;</a></span>pxOTAPALCreateFileForRxCallback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>(* pxOTAPALCreateFileForRxCallback_t) (<a class="el" href="struct_o_t_a___file_context__t.html">OTA_FileContext_t</a> *const C)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA create file to store received data callback function typedef. </p>
<p>The user may register a callback function when initializing the OTA Agent. This callback is used to override the behavior of how a new file is created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">C</td><td>File context of the job being aborted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a37c984c8806c01476a0e65bd6987cd4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37c984c8806c01476a0e65bd6987cd4c">&#9670;&nbsp;</a></span>pxOTAPALGetPlatformImageStateCallback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="aws__iot__ota__agent_8h.html#af1eafdaf1ba8ba1b332784151dc51100">OTA_PAL_ImageState_t</a>(* pxOTAPALGetPlatformImageStateCallback_t) (uint32_t ulServerFileID)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Get Platform Image State callback function typedef. </p>
<p>The user may register a callback function when initializing the OTA Agent. This callback is used to override the behavior of returning the platform image state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ulServerFileID</td><td>File ID of the image received </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a16f628e3ca83bd07f0caddb7fbf572f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16f628e3ca83bd07f0caddb7fbf572f0">&#9670;&nbsp;</a></span>pxOTAPALResetDeviceCallback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>(* pxOTAPALResetDeviceCallback_t) (uint32_t ulServerFileID)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Reset Device callback function typedef. </p>
<p>The user may register a callback function when initializing the OTA Agent. This callback is used to override the behavior of what happens when the OTA agent resets the device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ulServerFileID</td><td>File ID of the image received </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2717e17a80417033ec64ed5ef9bba771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2717e17a80417033ec64ed5ef9bba771">&#9670;&nbsp;</a></span>pxOTAPALSetPlatformImageStateCallback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>(* pxOTAPALSetPlatformImageStateCallback_t) (uint32_t ulServerFileID, <a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a> eState)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Set Platform Image State callback function typedef. </p>
<p>The user may register a callback function when initializing the OTA Agent. This callback is used to override the behavior of how a platform image state is stored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ulServerFileID</td><td>File ID of the image received </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">eState</td><td>Platform Image State to be state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a29f2b070fc6075865f14118b62c84dcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29f2b070fc6075865f14118b62c84dcd">&#9670;&nbsp;</a></span>pxOTAPALWriteBlockCallback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int16_t(* pxOTAPALWriteBlockCallback_t) (<a class="el" href="struct_o_t_a___file_context__t.html">OTA_FileContext_t</a> *const C, uint32_t iOffset, uint8_t *const pacData, uint32_t iBlockSize)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Write Block callback function typedef. </p>
<p>The user may register a callback function when initializing the OTA Agent. This callback is used to override the behavior of how a block is written to a file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">C</td><td>File context of the job being aborted </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">iOffset</td><td>Offset into the file to write the data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pacData</td><td>Data to be written at the offset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">iBlocksize</td><td>Block size of the data to be written </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3ef44fff7c30dc32f6eed489b8035663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ef44fff7c30dc32f6eed489b8035663">&#9670;&nbsp;</a></span>pxOTACustomJobCallback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="aws__iot__ota__agent_8h.html#a57f25917832ea39b522c7c062c16615d">OTA_JobParseErr_t</a>(* pxOTACustomJobCallback_t) (const char *pcJSON, uint32_t ulMsgLen)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Custom Job callback function typedef. </p>
<p>The user may register a callback function when initializing the OTA Agent. This callback will be called when the OTA agent cannot parse a job document.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcJSON</td><td>Pointer to the json document received by the OTA agent </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulMsgLen</td><td>Length of the json document received by the agent </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a8eddffdd56ba01c6bd0a3275241af74c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eddffdd56ba01c6bd0a3275241af74c">&#9670;&nbsp;</a></span>OTA_State_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="aws__iot__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Agent states. </p>
<p>@enums{ota,OTA library}</p>
<p>The current state of the OTA Task (OTA Agent).</p>
<dl class="section note"><dt>Note</dt><dd>There is currently support only for a single OTA context. </dd></dl>

</div>
</div>
<a id="a86d0f677f09590baf1e74a8731877975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d0f677f09590baf1e74a8731877975">&#9670;&nbsp;</a></span>OTA_Event_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="aws__iot__ota__agent_8h.html#a86d0f677f09590baf1e74a8731877975">OTA_Event_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Agent Events. </p>
<p>The events sent to OTA agent. </p>

</div>
</div>
<a id="af1eafdaf1ba8ba1b332784151dc51100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1eafdaf1ba8ba1b332784151dc51100">&#9670;&nbsp;</a></span>OTA_PAL_ImageState_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="aws__iot__ota__agent_8h.html#af1eafdaf1ba8ba1b332784151dc51100">OTA_PAL_ImageState_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Platform Image State. </p>
<p>The image state set by platform implementation. </p>

</div>
</div>
<a id="ab85403792655b68f99981c9229dfa16e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab85403792655b68f99981c9229dfa16e">&#9670;&nbsp;</a></span>OTA_JobEvent_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="aws__iot__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16e">OTA_JobEvent_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Job callback events. </p>
<p>After an OTA update image is received and authenticated, the agent calls the user callback (set with the ota_function_init API) with the value eOTA_JobEvent_Activate to signal that the device must be rebooted to activate the new image. When the device boots, if the OTA job status is in self test mode, the agent calls the user callback with the value eOTA_JobEvent_StartTest, signaling that any additional self tests should be performed.</p>
<p>If the OTA receive fails for any reason, the agent calls the user callback with the value eOTA_JobEvent_Fail instead to allow the user to log the failure and take any action deemed appropriate by the user code.</p>
<p>See the OTA_ImageState_t type for more information. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab85403792655b68f99981c9229dfa16ea114fb550ca7ce7ca983c8b8b56246e33"></a>eOTA_JobEvent_Activate&#160;</td><td class="fielddoc"><p>OTA receive is authenticated and ready to activate. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab85403792655b68f99981c9229dfa16eaffe7acba7849e0a844e4a664321e1d6f"></a>eOTA_JobEvent_Fail&#160;</td><td class="fielddoc"><p>OTA receive failed. Unable to use this update. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab85403792655b68f99981c9229dfa16ea298b43f57160345ef78ad80a8a3acead"></a>eOTA_JobEvent_StartTest&#160;</td><td class="fielddoc"><p>OTA job is now in self test, perform user tests. </p>
</td></tr>
</table>

</div>
</div>
<a id="a75288843c3e7c89eb390525f67a66b25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75288843c3e7c89eb390525f67a66b25">&#9670;&nbsp;</a></span>OTA_ImageState_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Image states. </p>
<p>After an OTA update image is received and authenticated, it is logically moved to the Self Test state by the OTA agent pending final acceptance. After the image is activated and tested by your user code, you should put it into either the Accepted or Rejected state by calling ota_function_setimagestate( eOTA_ImageState_Accepted ) or ota_function_setimagestate( eOTA_ImageState_Rejected ). If the image is accepted, it becomes the main firmware image to be booted from then on. If it is rejected, the image is no longer valid and shall not be used, reverting to the last known good image.</p>
<p>If you want to abort an active OTA transfer, you may do so by calling the API ota_function_setimagestate( eOTA_ImageState_Aborted ). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a75288843c3e7c89eb390525f67a66b25a6c218365f1c071ae4f6f657a7bca2e0a"></a>eOTA_ImageState_Unknown&#160;</td><td class="fielddoc"><p>The initial state of the OTA MCU Image. </p>
</td></tr>
<tr><td class="fieldname"><a id="a75288843c3e7c89eb390525f67a66b25a3eaede105fc88165c501ca09b04d5289"></a>eOTA_ImageState_Testing&#160;</td><td class="fielddoc"><p>The state of the OTA MCU Image post successful download and reboot. </p>
</td></tr>
<tr><td class="fieldname"><a id="a75288843c3e7c89eb390525f67a66b25a12975ca3b62a523383dd62ab2cafb53d"></a>eOTA_ImageState_Accepted&#160;</td><td class="fielddoc"><p>The state of the OTA MCU Image post successful download and successful self_test. </p>
</td></tr>
<tr><td class="fieldname"><a id="a75288843c3e7c89eb390525f67a66b25acad30f8b6288aec4686215dbaa74c21a"></a>eOTA_ImageState_Rejected&#160;</td><td class="fielddoc"><p>The state of the OTA MCU Image when the job has been rejected. </p>
</td></tr>
<tr><td class="fieldname"><a id="a75288843c3e7c89eb390525f67a66b25ad12abedcd867e5394040c6e3271e7bae"></a>eOTA_ImageState_Aborted&#160;</td><td class="fielddoc"><p>The state of the OTA MCU Image after a timeout publish to the stream request fails. Also if the OTA MCU image is aborted in the middle of a stream. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a277a883031dfa97680cab57847de7594"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a277a883031dfa97680cab57847de7594">&#9670;&nbsp;</a></span>OTA_AgentInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a> OTA_AgentInit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvConnectionContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pucThingName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aws__iot__ota__agent_8h.html#a8c3cb025cb25e7e1f67dc7f72264f936">pxOTACompleteCallback_t</a>&#160;</td>
          <td class="paramname"><em>xFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TickType_t&#160;</td>
          <td class="paramname"><em>xTicksToWait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Agent initialization function. </p>
<p>@functionspage{ota,OTA library}</p><ul>
<li>@functionname{ota_function_init}</li>
<li>@functionname{ota_function_shutdown}</li>
<li>@functionname{ota_function_getagentstate}</li>
<li>@functionname{ota_function_activatenewimage}</li>
<li>@functionname{ota_function_setimagestate}</li>
<li>@functionname{ota_function_getimagestate}</li>
<li>@functionname{ota_function_checkforupdate}</li>
<li>@functionname{ota_function_suspend}</li>
<li>@functionname{ota_function_resume}</li>
<li>@functionname{ota_function_getpacketsreceived}</li>
<li>@functionname{ota_function_getpacketsqueued}</li>
<li>@functionname{ota_function_getpacketsprocessed}</li>
<li>@functionname{ota_function_getpacketsdropped} @functionpage{OTA_AgentInit,ota,init} @functionpage{OTA_AgentShutdown,ota,shutdown} @functionpage{OTA_GetAgentState,ota,getagentstate} @functionpage{OTA_ActivateNewImage,ota,activatenewimage} @functionpage{OTA_SetImageState,ota,setimagestate} @functionpage{OTA_GetImageState,ota,getimagestate} @functionpage{OTA_CheckForUpdate,ota,checkforupdate} @functionpage{OTA_Suspend,ota,suspend} @functionpage{OTA_Resume,ota,resume} @functionpage{OTA_GetPacketsReceived,ota,getpacketsreceived} @functionpage{OTA_GetPacketsQueued,ota,getpacketsqueued} @functionpage{OTA_GetPacketsProcessed,ota,getpacketsprocessed} @functionpage{OTA_GetPacketsDropped,ota,getpacketsdropped}</li>
</ul>
<p>Initialize the OTA engine by starting the OTA Agent ("OTA Task") in the system. This function must be called with the connection client context before calling ota_function_checkforupdate. Only one OTA Agent may exist.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pvConnectionContext</td><td>A pointer to a <a class="el" href="struct_o_t_a___connection_context__t.html" title="OTA Connection context.">OTA_ConnectionContext_t</a> object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pucThingName</td><td>A pointer to a C string holding the Thing name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xFunc</td><td>Static callback function for when an OTA job is complete. This function will have input of the state of the OTA image after download and during self-test. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xTicksToWait</td><td>The number of ticks to wait until the OTA Task signals that it is ready. If this is set to zero, then the function will return immediately after creating the OTA task but the OTA task may not be ready to operate yet. The state may be queried with ota_function_getagentstate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The state of the OTA Agent upon return from the OTA_State_t enum. If the agent was successfully initialized and ready to operate, the state will be eOTA_AgentState_Ready. Otherwise, it will be one of the other OTA_State_t enum values. </dd></dl>

</div>
</div>
<a id="a7cae4cd9f827e84988771a08ced87a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cae4cd9f827e84988771a08ced87a10">&#9670;&nbsp;</a></span>OTA_AgentInit_internal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a> OTA_AgentInit_internal </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvConnectionContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pucThingName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_o_t_a___p_a_l___callbacks__t.html">OTA_PAL_Callbacks_t</a> *&#160;</td>
          <td class="paramname"><em>pxCallbacks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TickType_t&#160;</td>
          <td class="paramname"><em>xTicksToWait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal OTA Agent initialization function. </p>
<p>Initialize the OTA engine by starting the OTA Agent ("OTA Task") in the system. This function must be called with the MQTT messaging client context before calling ota_function_checkforupdate. Only one OTA Agent may exist.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pvConnectionContext</td><td>A pointer to a <a class="el" href="struct_o_t_a___connection_context__t.html" title="OTA Connection context.">OTA_ConnectionContext_t</a> object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pucThingName</td><td>A pointer to a C string holding the Thing name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxCallbacks</td><td>Static callback structure for various OTA events. This function will have input of the state of the OTA image after download and during self-test. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xTicksToWait</td><td>The number of ticks to wait until the OTA Task signals that it is ready. If this is set to zero, then the function will return immediately after creating the OTA task but the OTA task may not be ready to operate yet. The state may be queried with ota_function_getagentstate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The state of the OTA Agent upon return from the OTA_State_t enum. If the agent was successfully initialized and ready to operate, the state will be eOTA_AgentState_Ready. Otherwise, it will be one of the other OTA_State_t enum values. </dd></dl>

</div>
</div>
<a id="a34c0b607cc1356d51e4e4c8c25f4c050"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34c0b607cc1356d51e4e4c8c25f4c050">&#9670;&nbsp;</a></span>OTA_AgentShutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a> OTA_AgentShutdown </td>
          <td>(</td>
          <td class="paramtype">TickType_t&#160;</td>
          <td class="paramname"><em>xTicksToWait</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal to the OTA Agent to shut down. </p>
<p>Signals the OTA agent task to shut down. The OTA agent will unsubscribe from all MQTT job notification topics, stop in progress OTA jobs, if any, and clear all resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">xTicksToWait</td><td>The number of ticks to wait for the OTA Agent to complete the shutdown process. If this is set to zero, the function will return immediately without waiting. The actual state is returned to the caller.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the OTA agent states from the OTA_State_t enum. A normal shutdown will return eOTA_AgentState_NotReady. Otherwise, refer to the OTA_State_t enum for details. </dd></dl>

</div>
</div>
<a id="ae15e4aa0f46a43e9282e5bc6ee70c2b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae15e4aa0f46a43e9282e5bc6ee70c2b9">&#9670;&nbsp;</a></span>OTA_GetAgentState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a> OTA_GetAgentState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current state of the OTA agent. </p>
<dl class="section return"><dt>Returns</dt><dd>The current state of the OTA agent. </dd></dl>

</div>
</div>
<a id="af97ccf7aec8a7a1ceae33acab26a7cf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af97ccf7aec8a7a1ceae33acab26a7cf3">&#9670;&nbsp;</a></span>OTA_ActivateNewImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a> OTA_ActivateNewImage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate the newest MCU image received via OTA. </p>
<p>This function should reset the MCU and cause a reboot of the system to execute the newly updated firmware. It should be called by the user code sometime after the eOTA_JobEvent_Activate event is passed to the users application via the OTA Job Complete Callback mechanism. Refer to the ota_function_init function for more information about configuring the callback.</p>
<dl class="section return"><dt>Returns</dt><dd>kOTA_Err_None if successful, otherwise an error code prefixed with 'kOTA_Err_' from the list above. </dd></dl>

</div>
</div>
<a id="a91c2b0a1bbb0e17baf9269df8bd31184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c2b0a1bbb0e17baf9269df8bd31184">&#9670;&nbsp;</a></span>OTA_SetImageState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a> OTA_SetImageState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a>&#160;</td>
          <td class="paramname"><em>eState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the state of the current MCU image. </p>
<p>The states are eOTA_ImageState_Testing, eOTA_ImageState_Accepted, eOTA_ImageState_Aborted or eOTA_ImageState_Rejected; see OTA_ImageState_t documentation. This will update the status of the current image and publish to the active job status topic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">The</td><td>state to set of the OTA image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kOTA_Err_None if successful, otherwise an error code prefixed with 'kOTA_Err_' from the list above. </dd></dl>

</div>
</div>
<a id="af5d6f4963c036ef7552361316aed2250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d6f4963c036ef7552361316aed2250">&#9670;&nbsp;</a></span>OTA_GetImageState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a> OTA_GetImageState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the state of the currently running MCU image. </p>
<p>The states are eOTA_ImageState_Testing, eOTA_ImageState_Accepted, eOTA_ImageState_Aborted or eOTA_ImageState_Rejected; see OTA_ImageState_t documentation.</p>
<dl class="section return"><dt>Returns</dt><dd>The state of the current context's OTA image. </dd></dl>

</div>
</div>
<a id="a70d6dfbaee5d9428fffc91b1830f1cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70d6dfbaee5d9428fffc91b1830f1cfd">&#9670;&nbsp;</a></span>OTA_CheckForUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a> OTA_CheckForUpdate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request for the next available OTA job from the job service. </p>
<dl class="section return"><dt>Returns</dt><dd>kOTA_Err_None if successful, otherwise an error code prefixed with 'kOTA_Err_' from the list above. </dd></dl>

</div>
</div>
<a id="ab83a4488ec87b1c1dfed84ba361a2afc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab83a4488ec87b1c1dfed84ba361a2afc">&#9670;&nbsp;</a></span>OTA_Suspend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a> OTA_Suspend </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Suspend OTA agent operations . </p>
<dl class="section return"><dt>Returns</dt><dd>kOTA_Err_None if successful, otherwise an error code prefixed with 'kOTA_Err_' from the list above. </dd></dl>

</div>
</div>
<a id="a665434a1f53b700fea2fa82a50f5e926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a665434a1f53b700fea2fa82a50f5e926">&#9670;&nbsp;</a></span>OTA_Resume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__iot__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a> OTA_Resume </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pxConnection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume OTA agent operations . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pxConnection</td><td>Update connection context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kOTA_Err_None if successful, otherwise an error code prefixed with 'kOTA_Err_' from the list above. </dd></dl>

</div>
</div>
<a id="a5853484481fcf8ad51d9d2d8d214aa5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5853484481fcf8ad51d9d2d8d214aa5d">&#9670;&nbsp;</a></span>OTA_GetPacketsReceived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OTA_GetPacketsReceived </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of OTA message packets received by the OTA agent. </p>
<dl class="section note"><dt>Note</dt><dd>Calling ota_function_init will reset this statistic.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The number of OTA packets that have been received but not necessarily queued for processing by the OTA agent. </dd></dl>

</div>
</div>
<a id="acccd0652d654306770eca5aa9b680b8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acccd0652d654306770eca5aa9b680b8d">&#9670;&nbsp;</a></span>OTA_GetPacketsQueued()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OTA_GetPacketsQueued </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of OTA message packets queued by the OTA agent. </p>
<dl class="section note"><dt>Note</dt><dd>Calling ota_function_init will reset this statistic.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The number of OTA packets that have been queued for processing. This implies there was a free message queue entry so it can be passed to the agent for processing. </dd></dl>

</div>
</div>
<a id="a0a183b18b12df36666a9924b0956a1fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a183b18b12df36666a9924b0956a1fa">&#9670;&nbsp;</a></span>OTA_GetPacketsProcessed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OTA_GetPacketsProcessed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of OTA message packets processed by the OTA agent. </p>
<dl class="section note"><dt>Note</dt><dd>Calling ota_function_init will reset this statistic.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the number of OTA packets that have actually been processed. </dd></dl>

</div>
</div>
<a id="aea2a07c3d269402c2fcb90ae918b56c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea2a07c3d269402c2fcb90ae918b56c3">&#9670;&nbsp;</a></span>OTA_GetPacketsDropped()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OTA_GetPacketsDropped </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of OTA message packets dropped by the OTA agent. </p>
<dl class="section note"><dt>Note</dt><dd>Calling ota_function_init will reset this statistic.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the number of OTA packets that have been dropped because of either no queue or at shutdown cleanup. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- This file provides the custom footer for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Generated by
      <a href="http://www.doxygen.org/index.html">
      <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20
    </li>
    <li class="footer">
      Last updated Wed Apr 21 2021
    </li>
    <li class="footer" style="float:left">
    </li>
  </ul>
</div>
</body>
</html>