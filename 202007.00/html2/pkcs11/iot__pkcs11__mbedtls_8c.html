<!-- This file provides the custom header for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.20"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>
        PKCS11: iot_pkcs11_mbedtls.c File Reference
    </title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="foobar.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
    <tbody>
        <tr style="height: 56px;">
            <td id="projectalign" style="padding-left: 0.5em;">
                <div id="projectname">
                    <span id="afrprefix">FreeRTOS:</span>
                    PKCS11
                </div>
                <div id="projectbrief">
                    PKCS11 Cryptoki Library
                </div>
            </td>
        </tr>
        <tr>
            <td id="returntomain">
                <a href="../main/index.html">Return to main page &uarr;</a>
            </td>
        </tr>
    </tbody>
    </table>
    </div>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<!-- end header part --><!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('iot__pkcs11__mbedtls_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">iot_pkcs11_mbedtls.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>mbedTLS-based PKCS#11 implementation for software keys. This file deviates from the FreeRTOS style standard for some function names and data types in order to maintain compliance with the PKCS #11 standard.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;FreeRTOS.h&quot;</code><br />
<code>#include &quot;iot_pkcs11_config.h&quot;</code><br />
<code>#include &quot;iot_crypto.h&quot;</code><br />
<code>#include &quot;<a class="el" href="iot__pkcs11_8h_source.html">iot_pkcs11.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="iot__pkcs11__pal_8h_source.html">iot_pkcs11_pal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="iot__pki__utils_8h_source.html">iot_pki_utils.h</a>&quot;</code><br />
<code>#include &quot;mbedtls/pk.h&quot;</code><br />
<code>#include &quot;mbedtls/pk_internal.h&quot;</code><br />
<code>#include &quot;mbedtls/x509_crt.h&quot;</code><br />
<code>#include &quot;mbedtls/ctr_drbg.h&quot;</code><br />
<code>#include &quot;mbedtls/entropy.h&quot;</code><br />
<code>#include &quot;mbedtls/sha256.h&quot;</code><br />
<code>#include &quot;mbedtls/base64.h&quot;</code><br />
<code>#include &quot;threading_alt.h&quot;</code><br />
<code>#include &quot;mbedtls_error.h&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p11_object__t.html">P11Object_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PKCS #11 object container.  <a href="struct_p11_object__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p11_object_list__t.html">P11ObjectList_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PKCS #11 object container list.  <a href="struct_p11_object_list__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p11_struct__t.html">P11Struct_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">PKCS #11 Module Object.  <a href="struct_p11_struct__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_p11_session__t.html">P11Session_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Session structure.  <a href="struct_p11_session__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa1bcea7ee24f5533138e1b0ad327bd24"><td class="memItemLeft" align="right" valign="top"><a id="aa1bcea7ee24f5533138e1b0ad327bd24"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#aa1bcea7ee24f5533138e1b0ad327bd24">pkcs11configSUPPRESS_ECDSA_MECHANISM</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:aa1bcea7ee24f5533138e1b0ad327bd24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default EC operations to ON. <br /></td></tr>
<tr class="separator:aa1bcea7ee24f5533138e1b0ad327bd24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92427274c3174ef89fbf82a0ad25a252"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a92427274c3174ef89fbf82a0ad25a252">mbedtlsHighLevelCodeOrDefault</a>(mbedTlsCode)</td></tr>
<tr class="memdesc:a92427274c3174ef89fbf82a0ad25a252"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility for converting the high-level code in an mbedTLS error to string, if the code-contains a high-level code; otherwise, using a default string.  <a href="iot__pkcs11__mbedtls_8c.html#a92427274c3174ef89fbf82a0ad25a252">More...</a><br /></td></tr>
<tr class="separator:a92427274c3174ef89fbf82a0ad25a252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1936e3a07702240561149805e8f0bfbb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a1936e3a07702240561149805e8f0bfbb">mbedtlsLowLevelCodeOrDefault</a>(mbedTlsCode)</td></tr>
<tr class="memdesc:a1936e3a07702240561149805e8f0bfbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility for converting the level-level code in an mbedTLS error to string, if the code-contains a level-level code; otherwise, using a default string.  <a href="iot__pkcs11__mbedtls_8c.html#a1936e3a07702240561149805e8f0bfbb">More...</a><br /></td></tr>
<tr class="separator:a1936e3a07702240561149805e8f0bfbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a643cc0848748bab9a4c78baf01de6386"><td class="memItemLeft" align="right" valign="top"><a id="a643cc0848748bab9a4c78baf01de6386"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a643cc0848748bab9a4c78baf01de6386">PKCS11_PRINT</a>(X)&#160;&#160;&#160;configPRINTF( X )</td></tr>
<tr class="memdesc:a643cc0848748bab9a4c78baf01de6386"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for logging in PKCS #11. <br /></td></tr>
<tr class="separator:a643cc0848748bab9a4c78baf01de6386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4634eeeeb6af38ed06cd4d4af1fc806c"><td class="memItemLeft" align="right" valign="top"><a id="a4634eeeeb6af38ed06cd4d4af1fc806c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a4634eeeeb6af38ed06cd4d4af1fc806c">PKCS11_WARNING_PRINT</a>(X)&#160;&#160;&#160;/* configPRINTF( X ) */</td></tr>
<tr class="memdesc:a4634eeeeb6af38ed06cd4d4af1fc806c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro for logging warnings in PKCS #11. <br /></td></tr>
<tr class="separator:a4634eeeeb6af38ed06cd4d4af1fc806c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e760ed32f2b6f0594b8dd809a7a419"><td class="memItemLeft" align="right" valign="top"><a id="a72e760ed32f2b6f0594b8dd809a7a419"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a72e760ed32f2b6f0594b8dd809a7a419">pkcs11NO_OPERATION</a>&#160;&#160;&#160;( ( CK_MECHANISM_TYPE ) -1 )</td></tr>
<tr class="memdesc:a72e760ed32f2b6f0594b8dd809a7a419"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that no PKCS #11 operation is underway for given session. <br /></td></tr>
<tr class="separator:a72e760ed32f2b6f0594b8dd809a7a419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a552dc8f09c931b7595396712eb5d2265"><td class="memItemLeft" align="right" valign="top"><a id="a552dc8f09c931b7595396712eb5d2265"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a552dc8f09c931b7595396712eb5d2265">MAX_PUBLIC_KEY_SIZE</a>&#160;&#160;&#160;3000</td></tr>
<tr class="memdesc:a552dc8f09c931b7595396712eb5d2265"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max size of a public key. TODO: How long is a typical RSA key anyhow? <br /></td></tr>
<tr class="separator:a552dc8f09c931b7595396712eb5d2265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae2eee4ce55b1daf1c054ef9d82125c"><td class="memItemLeft" align="right" valign="top"><a id="a5ae2eee4ce55b1daf1c054ef9d82125c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a5ae2eee4ce55b1daf1c054ef9d82125c">MAX_LENGTH_KEY</a>&#160;&#160;&#160;3000</td></tr>
<tr class="memdesc:a5ae2eee4ce55b1daf1c054ef9d82125c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max key length of a key. TODO: How long is a typical RSA key anyhow? <br /></td></tr>
<tr class="separator:a5ae2eee4ce55b1daf1c054ef9d82125c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d5c1bfb7405cf466597145a634b7d1"><td class="memItemLeft" align="right" valign="top"><a id="ad7d5c1bfb7405cf466597145a634b7d1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ad7d5c1bfb7405cf466597145a634b7d1">pkcs11KEY_GEN_MAX_DER_SIZE</a>&#160;&#160;&#160;200</td></tr>
<tr class="memdesc:ad7d5c1bfb7405cf466597145a634b7d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the buffer malloc'ed for the exported public key in C_GenerateKeyPair. <br /></td></tr>
<tr class="separator:ad7d5c1bfb7405cf466597145a634b7d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adada8e23f6001eedf0b726604495c611"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#adada8e23f6001eedf0b726604495c611">pkcs11SLOT_ID</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:adada8e23f6001eedf0b726604495c611"><td class="mdescLeft">&#160;</td><td class="mdescRight">The slot ID to be returned by this PKCS #11 implementation.  <a href="iot__pkcs11__mbedtls_8c.html#adada8e23f6001eedf0b726604495c611">More...</a><br /></td></tr>
<tr class="separator:adada8e23f6001eedf0b726604495c611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a772e2b44059eb5224eb4900f628f6182"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a772e2b44059eb5224eb4900f628f6182">LABEL_IN_TEMPLATE</a>&#160;&#160;&#160;( 1U )</td></tr>
<tr class="memdesc:a772e2b44059eb5224eb4900f628f6182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private defines for checking that attribute templates are complete.  <a href="iot__pkcs11__mbedtls_8c.html#a772e2b44059eb5224eb4900f628f6182">More...</a><br /></td></tr>
<tr class="separator:a772e2b44059eb5224eb4900f628f6182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef7157051f0e594ce92ff341e33ba9e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a1ef7157051f0e594ce92ff341e33ba9e">PRIVATE_IN_TEMPLATE</a>&#160;&#160;&#160;( 1U &lt;&lt; 1 )</td></tr>
<tr class="separator:a1ef7157051f0e594ce92ff341e33ba9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a242475cf0d847d052b57456ed5df99a1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a242475cf0d847d052b57456ed5df99a1">SIGN_IN_TEMPLATE</a>&#160;&#160;&#160;( 1U &lt;&lt; 2 )</td></tr>
<tr class="separator:a242475cf0d847d052b57456ed5df99a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a781de9e6cf56f8a0ad83e8f6dab3c818"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a781de9e6cf56f8a0ad83e8f6dab3c818">EC_PARAMS_IN_TEMPLATE</a>&#160;&#160;&#160;( 1U &lt;&lt; 3 )</td></tr>
<tr class="separator:a781de9e6cf56f8a0ad83e8f6dab3c818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a612b5efde52700aca5c9ff37d7e00ad1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a612b5efde52700aca5c9ff37d7e00ad1">VERIFY_IN_TEMPLATE</a>&#160;&#160;&#160;( 1U &lt;&lt; 4 )</td></tr>
<tr class="separator:a612b5efde52700aca5c9ff37d7e00ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae7ec1a599c2f7304f883c90379db36"><td class="memItemLeft" align="right" valign="top"><a id="aeae7ec1a599c2f7304f883c90379db36"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#aeae7ec1a599c2f7304f883c90379db36">PKCS11_INVALID_KEY_TYPE</a>&#160;&#160;&#160;( ( CK_KEY_TYPE ) 0xFFFFFFFFUL )</td></tr>
<tr class="memdesc:aeae7ec1a599c2f7304f883c90379db36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to signify an invalid PKCS #11 key type. <br /></td></tr>
<tr class="separator:aeae7ec1a599c2f7304f883c90379db36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab93c9263b9b89774e57eee9e8ac708a8"><td class="memItemLeft" align="right" valign="top">static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ab93c9263b9b89774e57eee9e8ac708a8">prvCheckValidSessionAndModule</a> (const <a class="el" href="struct_p11_session__t.html">P11Session_t</a> *pxSession)</td></tr>
<tr class="memdesc:ab93c9263b9b89774e57eee9e8ac708a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to check if the current session is initialized and valid.  <a href="iot__pkcs11__mbedtls_8c.html#ab93c9263b9b89774e57eee9e8ac708a8">More...</a><br /></td></tr>
<tr class="separator:ab93c9263b9b89774e57eee9e8ac708a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a3079aa3ce5d51bb787a3e661714ef0"><td class="memItemLeft" align="right" valign="top"><a id="a8a3079aa3ce5d51bb787a3e661714ef0"></a>
static <a class="el" href="struct_p11_session__t.html">P11Session_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a8a3079aa3ce5d51bb787a3e661714ef0">prvSessionPointerFromHandle</a> (CK_SESSION_HANDLE xSession)</td></tr>
<tr class="memdesc:a8a3079aa3ce5d51bb787a3e661714ef0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps an opaque caller session handle into its internal state structure. <br /></td></tr>
<tr class="separator:a8a3079aa3ce5d51bb787a3e661714ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ec465960e108e808263b43e589fbd58"><td class="memItemLeft" align="right" valign="top"><a id="a2ec465960e108e808263b43e589fbd58"></a>
static CK_BBOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a2ec465960e108e808263b43e589fbd58">prvOperationActive</a> (const <a class="el" href="struct_p11_session__t.html">P11Session_t</a> *pxSession)</td></tr>
<tr class="memdesc:a2ec465960e108e808263b43e589fbd58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if an operation is in progress. <br /></td></tr>
<tr class="separator:a2ec465960e108e808263b43e589fbd58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7e3c1e337d187b04f516cb1fb15353d"><td class="memItemLeft" align="right" valign="top">static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ad7e3c1e337d187b04f516cb1fb15353d">prvMbedTLS_Initialize</a> (void)</td></tr>
<tr class="memdesc:ad7e3c1e337d187b04f516cb1fb15353d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize mbedTLS.  <a href="iot__pkcs11__mbedtls_8c.html#ad7e3c1e337d187b04f516cb1fb15353d">More...</a><br /></td></tr>
<tr class="separator:ad7e3c1e337d187b04f516cb1fb15353d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea749c88944158ec1b78218887ae956a"><td class="memItemLeft" align="right" valign="top"><a id="aea749c88944158ec1b78218887ae956a"></a>
static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#aea749c88944158ec1b78218887ae956a">prvGetObjectClass</a> (const <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxTemplate, CK_ULONG ulCount, CK_OBJECT_CLASS *pxClass)</td></tr>
<tr class="memdesc:aea749c88944158ec1b78218887ae956a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches a template for the CKA_CLASS attribute. <br /></td></tr>
<tr class="separator:aea749c88944158ec1b78218887ae956a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3c56007ca946891c275921e943186ba"><td class="memItemLeft" align="right" valign="top"><a id="ac3c56007ca946891c275921e943186ba"></a>
static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ac3c56007ca946891c275921e943186ba">prvCertAttParse</a> (<a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxAttribute, CK_CERTIFICATE_TYPE *pxCertificateType, CK_BYTE_PTR *ppxCertificateValue, CK_ULONG *pxCertificateLength, <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> **ppxLabel)</td></tr>
<tr class="memdesc:ac3c56007ca946891c275921e943186ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses attribute values for a certificate. <br /></td></tr>
<tr class="separator:ac3c56007ca946891c275921e943186ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd575d8813c30cff96599c946d28b999"><td class="memItemLeft" align="right" valign="top"><a id="abd575d8813c30cff96599c946d28b999"></a>
static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#abd575d8813c30cff96599c946d28b999">prvRsaKeyAttParse</a> (const <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxAttribute, const mbedtls_pk_context *pxMbedContext)</td></tr>
<tr class="memdesc:abd575d8813c30cff96599c946d28b999"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses attribute values for a RSA Key. <br /></td></tr>
<tr class="separator:abd575d8813c30cff96599c946d28b999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad39571e92aa3baaf6ef7850d37ac2b80"><td class="memItemLeft" align="right" valign="top"><a id="ad39571e92aa3baaf6ef7850d37ac2b80"></a>
static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ad39571e92aa3baaf6ef7850d37ac2b80">prvEcPrivKeyAttParse</a> (const <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxAttribute, const mbedtls_pk_context *pxMbedContext)</td></tr>
<tr class="memdesc:ad39571e92aa3baaf6ef7850d37ac2b80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses attribute values for a private EC Key. <br /></td></tr>
<tr class="separator:ad39571e92aa3baaf6ef7850d37ac2b80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f566a252ee62cc60f8597439cf73140"><td class="memItemLeft" align="right" valign="top"><a id="a7f566a252ee62cc60f8597439cf73140"></a>
static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a7f566a252ee62cc60f8597439cf73140">prvEcPubKeyAttParse</a> (const <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxAttribute, const mbedtls_pk_context *pxMbedContext)</td></tr>
<tr class="memdesc:a7f566a252ee62cc60f8597439cf73140"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses attribute values for a public EC Key. <br /></td></tr>
<tr class="separator:a7f566a252ee62cc60f8597439cf73140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d9aa61a14526c8a83f07362d284c7c"><td class="memItemLeft" align="right" valign="top"><a id="a41d9aa61a14526c8a83f07362d284c7c"></a>
static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a41d9aa61a14526c8a83f07362d284c7c">prvEcKeyAttParse</a> (const <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxAttribute, const mbedtls_pk_context *pxMbedContext, CK_BBOOL xIsPrivate)</td></tr>
<tr class="memdesc:a41d9aa61a14526c8a83f07362d284c7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses attribute values for an EC Key. <br /></td></tr>
<tr class="separator:a41d9aa61a14526c8a83f07362d284c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ea28307e7a1e8378b5e704e7318b8b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a48ea28307e7a1e8378b5e704e7318b8b">prvFindObjectInListByLabel</a> (const CK_BYTE_PTR pcLabel, CK_ULONG xLabelLength, CK_OBJECT_HANDLE_PTR pxPalHandle, CK_OBJECT_HANDLE_PTR pxAppHandle)</td></tr>
<tr class="memdesc:a48ea28307e7a1e8378b5e704e7318b8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches the PKCS #11 module's object list for label and provides handle.  <a href="iot__pkcs11__mbedtls_8c.html#a48ea28307e7a1e8378b5e704e7318b8b">More...</a><br /></td></tr>
<tr class="separator:a48ea28307e7a1e8378b5e704e7318b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf1ee4b99279af65de44082fbd4de52"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#aadf1ee4b99279af65de44082fbd4de52">prvFindObjectInListByHandle</a> (CK_OBJECT_HANDLE xAppHandle, CK_OBJECT_HANDLE_PTR pxPalHandle, CK_BYTE_PTR *ppcLabel, CK_ULONG_PTR pxLabelLength)</td></tr>
<tr class="memdesc:aadf1ee4b99279af65de44082fbd4de52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks up a PKCS #11 object's label and PAL handle given an application handle.  <a href="iot__pkcs11__mbedtls_8c.html#aadf1ee4b99279af65de44082fbd4de52">More...</a><br /></td></tr>
<tr class="separator:aadf1ee4b99279af65de44082fbd4de52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcfff49a3c2775184ddb68ec868a249c"><td class="memItemLeft" align="right" valign="top">static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#afcfff49a3c2775184ddb68ec868a249c">prvDeleteObjectFromList</a> (CK_OBJECT_HANDLE xAppHandle)</td></tr>
<tr class="memdesc:afcfff49a3c2775184ddb68ec868a249c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an object from the module object list (xP11Context.xObjectList)  <a href="iot__pkcs11__mbedtls_8c.html#afcfff49a3c2775184ddb68ec868a249c">More...</a><br /></td></tr>
<tr class="separator:afcfff49a3c2775184ddb68ec868a249c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a032401bd3b99f1178fa16594123a84ea"><td class="memItemLeft" align="right" valign="top">static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a032401bd3b99f1178fa16594123a84ea">prvAddObjectToList</a> (CK_OBJECT_HANDLE xPalHandle, CK_OBJECT_HANDLE_PTR pxAppHandle, const CK_BYTE_PTR pcLabel, CK_ULONG xLabelLength)</td></tr>
<tr class="memdesc:a032401bd3b99f1178fa16594123a84ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an object that exists in NVM to the application object array.  <a href="iot__pkcs11__mbedtls_8c.html#a032401bd3b99f1178fa16594123a84ea">More...</a><br /></td></tr>
<tr class="separator:a032401bd3b99f1178fa16594123a84ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fc8ed202af3975cfcf3e65593b20330"><td class="memItemLeft" align="right" valign="top"><a id="a9fc8ed202af3975cfcf3e65593b20330"></a>
static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a9fc8ed202af3975cfcf3e65593b20330">prvSaveDerKeyToPal</a> (mbedtls_pk_context *pxMbedContext, CK_OBJECT_HANDLE_PTR pxObject, <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxLabel, CK_KEY_TYPE xKeyType, CK_BBOOL xIsPrivate)</td></tr>
<tr class="memdesc:a9fc8ed202af3975cfcf3e65593b20330"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save a DER formatted key in the PKCS #11 PAL. <br /></td></tr>
<tr class="separator:a9fc8ed202af3975cfcf3e65593b20330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e5df5f3f2fe4ab8b5b703e90973603f"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a3e5df5f3f2fe4ab8b5b703e90973603f">PKCS11_PAL_DestroyObject</a> (CK_OBJECT_HANDLE xHandle)</td></tr>
<tr class="memdesc:a3e5df5f3f2fe4ab8b5b703e90973603f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete an object from NVM.  <a href="iot__pkcs11__mbedtls_8c.html#a3e5df5f3f2fe4ab8b5b703e90973603f">More...</a><br /></td></tr>
<tr class="separator:a3e5df5f3f2fe4ab8b5b703e90973603f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e45ad4ce8c84712c646dddaa99544e3"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a2e45ad4ce8c84712c646dddaa99544e3">C_Initialize</a> (CK_VOID_PTR pInitArgs)</td></tr>
<tr class="memdesc:a2e45ad4ce8c84712c646dddaa99544e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes Cryptoki.  <a href="iot__pkcs11__mbedtls_8c.html#a2e45ad4ce8c84712c646dddaa99544e3">More...</a><br /></td></tr>
<tr class="separator:a2e45ad4ce8c84712c646dddaa99544e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a945318df98e940ab331931023133ed3d"><td class="memItemLeft" align="right" valign="top"><a id="a945318df98e940ab331931023133ed3d"></a>
CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a945318df98e940ab331931023133ed3d">C_Finalize</a> (CK_VOID_PTR pReserved)</td></tr>
<tr class="memdesc:a945318df98e940ab331931023133ed3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up miscellaneous Cryptoki-associated resources. <br /></td></tr>
<tr class="separator:a945318df98e940ab331931023133ed3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4cf13775c4e92b36156ee92dd52bef5"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ab4cf13775c4e92b36156ee92dd52bef5">C_GetFunctionList</a> (CK_FUNCTION_LIST_PTR_PTR ppFunctionList)</td></tr>
<tr class="memdesc:ab4cf13775c4e92b36156ee92dd52bef5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains entry points of Cryptoki library functions.  <a href="iot__pkcs11__mbedtls_8c.html#ab4cf13775c4e92b36156ee92dd52bef5">More...</a><br /></td></tr>
<tr class="separator:ab4cf13775c4e92b36156ee92dd52bef5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6ce96c3f4a3b7f24d9420763df121fc"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ac6ce96c3f4a3b7f24d9420763df121fc">C_GetSlotList</a> (CK_BBOOL tokenPresent, CK_SLOT_ID_PTR pSlotList, CK_ULONG_PTR pulCount)</td></tr>
<tr class="memdesc:ac6ce96c3f4a3b7f24d9420763df121fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains a list of slots in the system.  <a href="iot__pkcs11__mbedtls_8c.html#ac6ce96c3f4a3b7f24d9420763df121fc">More...</a><br /></td></tr>
<tr class="separator:ac6ce96c3f4a3b7f24d9420763df121fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac933291718eb6aa218db1c677e07ab02"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ac933291718eb6aa218db1c677e07ab02">C_GetTokenInfo</a> (CK_SLOT_ID slotID, CK_TOKEN_INFO_PTR pInfo)</td></tr>
<tr class="memdesc:ac933291718eb6aa218db1c677e07ab02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains information about a particular token.  <a href="iot__pkcs11__mbedtls_8c.html#ac933291718eb6aa218db1c677e07ab02">More...</a><br /></td></tr>
<tr class="separator:ac933291718eb6aa218db1c677e07ab02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe5aeb6b794d4ca28cb2534fe0a4a159"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#abe5aeb6b794d4ca28cb2534fe0a4a159">C_GetMechanismInfo</a> (CK_SLOT_ID slotID, CK_MECHANISM_TYPE type, CK_MECHANISM_INFO_PTR pInfo)</td></tr>
<tr class="memdesc:abe5aeb6b794d4ca28cb2534fe0a4a159"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains information about a particular mechanism.  <a href="iot__pkcs11__mbedtls_8c.html#abe5aeb6b794d4ca28cb2534fe0a4a159">More...</a><br /></td></tr>
<tr class="separator:abe5aeb6b794d4ca28cb2534fe0a4a159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bac1f2e5a7bc50d4d27fb2360eaadcb"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a3bac1f2e5a7bc50d4d27fb2360eaadcb">C_InitToken</a> (CK_SLOT_ID slotID, CK_UTF8CHAR_PTR pPin, CK_ULONG ulPinLen, CK_UTF8CHAR_PTR pLabel)</td></tr>
<tr class="memdesc:a3bac1f2e5a7bc50d4d27fb2360eaadcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a token. This function is not implemented for this port.  <a href="iot__pkcs11__mbedtls_8c.html#a3bac1f2e5a7bc50d4d27fb2360eaadcb">More...</a><br /></td></tr>
<tr class="separator:a3bac1f2e5a7bc50d4d27fb2360eaadcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad28ad989a94c345875dff446ad6c6481"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ad28ad989a94c345875dff446ad6c6481">C_OpenSession</a> (CK_SLOT_ID slotID, CK_FLAGS flags, CK_VOID_PTR pApplication, CK_NOTIFY Notify, CK_SESSION_HANDLE_PTR phSession)</td></tr>
<tr class="memdesc:ad28ad989a94c345875dff446ad6c6481"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a connection between an application and a particular token or sets up an application callback for token insertion.  <a href="iot__pkcs11__mbedtls_8c.html#ad28ad989a94c345875dff446ad6c6481">More...</a><br /></td></tr>
<tr class="separator:ad28ad989a94c345875dff446ad6c6481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ce0be368072fa83e0b1f5136b7b753"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ae2ce0be368072fa83e0b1f5136b7b753">C_CloseSession</a> (CK_SESSION_HANDLE hSession)</td></tr>
<tr class="memdesc:ae2ce0be368072fa83e0b1f5136b7b753"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes a session.  <a href="iot__pkcs11__mbedtls_8c.html#ae2ce0be368072fa83e0b1f5136b7b753">More...</a><br /></td></tr>
<tr class="separator:ae2ce0be368072fa83e0b1f5136b7b753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7aa4ae8d9592f464dc1b545fead02e"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#aca7aa4ae8d9592f464dc1b545fead02e">C_Login</a> (CK_SESSION_HANDLE hSession, CK_USER_TYPE userType, CK_UTF8CHAR_PTR pPin, CK_ULONG ulPinLen)</td></tr>
<tr class="memdesc:aca7aa4ae8d9592f464dc1b545fead02e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs into a token. This function is not implemented for this port.  <a href="iot__pkcs11__mbedtls_8c.html#aca7aa4ae8d9592f464dc1b545fead02e">More...</a><br /></td></tr>
<tr class="separator:aca7aa4ae8d9592f464dc1b545fead02e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79b4b6a2d8cd5db13cc41241f2b9f33"><td class="memItemLeft" align="right" valign="top">static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ae79b4b6a2d8cd5db13cc41241f2b9f33">prvCreateCertificate</a> (<a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxTemplate, CK_ULONG ulCount, CK_OBJECT_HANDLE_PTR pxObject)</td></tr>
<tr class="memdesc:ae79b4b6a2d8cd5db13cc41241f2b9f33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for parsing the templates of device certificates for C_CreateObject.  <a href="iot__pkcs11__mbedtls_8c.html#ae79b4b6a2d8cd5db13cc41241f2b9f33">More...</a><br /></td></tr>
<tr class="separator:ae79b4b6a2d8cd5db13cc41241f2b9f33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e580aa2af212cfd2468cea733368ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#aa0e580aa2af212cfd2468cea733368ae">prvGetKeyType</a> (CK_KEY_TYPE *pxKeyType, const <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxTemplate, CK_ULONG ulCount)</td></tr>
<tr class="memdesc:aa0e580aa2af212cfd2468cea733368ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to search an attribute for the key type attribute.  <a href="iot__pkcs11__mbedtls_8c.html#aa0e580aa2af212cfd2468cea733368ae">More...</a><br /></td></tr>
<tr class="separator:aa0e580aa2af212cfd2468cea733368ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e3d88c14dcc4e522555febdfc1ad9c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#af5e3d88c14dcc4e522555febdfc1ad9c">prvGetLabel</a> (<a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> **ppxLabel, <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxTemplate, CK_ULONG ulCount)</td></tr>
<tr class="memdesc:af5e3d88c14dcc4e522555febdfc1ad9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to search a template for the label attribute.  <a href="iot__pkcs11__mbedtls_8c.html#af5e3d88c14dcc4e522555febdfc1ad9c">More...</a><br /></td></tr>
<tr class="separator:af5e3d88c14dcc4e522555febdfc1ad9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca8677c38e93b04cb2263a778febee24"><td class="memItemLeft" align="right" valign="top">static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#aca8677c38e93b04cb2263a778febee24">prvGetExistingKeyComponent</a> (CK_OBJECT_HANDLE_PTR pxPalHandle, mbedtls_pk_context *pxMbedContext, const <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxLabel)</td></tr>
<tr class="memdesc:aca8677c38e93b04cb2263a778febee24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to search a template for the label attribute.  <a href="iot__pkcs11__mbedtls_8c.html#aca8677c38e93b04cb2263a778febee24">More...</a><br /></td></tr>
<tr class="separator:aca8677c38e93b04cb2263a778febee24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d69da09cab225b173340628ba2e1637"><td class="memItemLeft" align="right" valign="top">static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a4d69da09cab225b173340628ba2e1637">prvCreateECKey</a> (<a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxTemplate, CK_ULONG ulCount, CK_OBJECT_HANDLE_PTR pxObject, CK_BBOOL xIsPrivate)</td></tr>
<tr class="memdesc:a4d69da09cab225b173340628ba2e1637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for importing elliptic curve keys from template using C_CreateObject.  <a href="iot__pkcs11__mbedtls_8c.html#a4d69da09cab225b173340628ba2e1637">More...</a><br /></td></tr>
<tr class="separator:a4d69da09cab225b173340628ba2e1637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad037998f84d39db2bec173c226499446"><td class="memItemLeft" align="right" valign="top">static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ad037998f84d39db2bec173c226499446">prvCreateRsaPrivateKey</a> (<a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxTemplate, CK_ULONG ulCount, CK_OBJECT_HANDLE_PTR pxObject)</td></tr>
<tr class="memdesc:ad037998f84d39db2bec173c226499446"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for parsing RSA Private Key attribute templates for C_CreateObject.  <a href="iot__pkcs11__mbedtls_8c.html#ad037998f84d39db2bec173c226499446">More...</a><br /></td></tr>
<tr class="separator:ad037998f84d39db2bec173c226499446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fc54608ace5726a722929c07e8dbbba"><td class="memItemLeft" align="right" valign="top">static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a0fc54608ace5726a722929c07e8dbbba">prvCreatePrivateKey</a> (<a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxTemplate, CK_ULONG ulCount, CK_OBJECT_HANDLE_PTR pxObject)</td></tr>
<tr class="memdesc:a0fc54608ace5726a722929c07e8dbbba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for importing private keys using template C_CreateObject.  <a href="iot__pkcs11__mbedtls_8c.html#a0fc54608ace5726a722929c07e8dbbba">More...</a><br /></td></tr>
<tr class="separator:a0fc54608ace5726a722929c07e8dbbba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a591739d3757d8746043b26a6e4c9e2bd"><td class="memItemLeft" align="right" valign="top">static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a591739d3757d8746043b26a6e4c9e2bd">prvCreatePublicKey</a> (<a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxTemplate, CK_ULONG ulCount, CK_OBJECT_HANDLE_PTR pxObject)</td></tr>
<tr class="memdesc:a591739d3757d8746043b26a6e4c9e2bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for importing public keys using C_CreateObject.  <a href="iot__pkcs11__mbedtls_8c.html#a591739d3757d8746043b26a6e4c9e2bd">More...</a><br /></td></tr>
<tr class="separator:a591739d3757d8746043b26a6e4c9e2bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b36384bff05a4dc4476c0764cdc248"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a01b36384bff05a4dc4476c0764cdc248">C_CreateObject</a> (CK_SESSION_HANDLE hSession, CK_ATTRIBUTE_PTR pTemplate, CK_ULONG ulCount, CK_OBJECT_HANDLE_PTR phObject)</td></tr>
<tr class="memdesc:a01b36384bff05a4dc4476c0764cdc248"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an object.  <a href="iot__pkcs11__mbedtls_8c.html#a01b36384bff05a4dc4476c0764cdc248">More...</a><br /></td></tr>
<tr class="separator:a01b36384bff05a4dc4476c0764cdc248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b991b6fd8b20f130f9d87b98e590fdb"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a1b991b6fd8b20f130f9d87b98e590fdb">C_DestroyObject</a> (CK_SESSION_HANDLE hSession, CK_OBJECT_HANDLE hObject)</td></tr>
<tr class="memdesc:a1b991b6fd8b20f130f9d87b98e590fdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys an object.  <a href="iot__pkcs11__mbedtls_8c.html#a1b991b6fd8b20f130f9d87b98e590fdb">More...</a><br /></td></tr>
<tr class="separator:a1b991b6fd8b20f130f9d87b98e590fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad61dc7b2313286bdd049676ef0fd70"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#aaad61dc7b2313286bdd049676ef0fd70">C_GetAttributeValue</a> (CK_SESSION_HANDLE hSession, CK_OBJECT_HANDLE hObject, CK_ATTRIBUTE_PTR pTemplate, CK_ULONG ulCount)</td></tr>
<tr class="memdesc:aaad61dc7b2313286bdd049676ef0fd70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains an attribute value of an object.  <a href="iot__pkcs11__mbedtls_8c.html#aaad61dc7b2313286bdd049676ef0fd70">More...</a><br /></td></tr>
<tr class="separator:aaad61dc7b2313286bdd049676ef0fd70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4d4d071deb07e7dcfa489a2a835756d"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#af4d4d071deb07e7dcfa489a2a835756d">C_FindObjectsInit</a> (CK_SESSION_HANDLE hSession, CK_ATTRIBUTE_PTR pTemplate, CK_ULONG ulCount)</td></tr>
<tr class="memdesc:af4d4d071deb07e7dcfa489a2a835756d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an object search operation.  <a href="iot__pkcs11__mbedtls_8c.html#af4d4d071deb07e7dcfa489a2a835756d">More...</a><br /></td></tr>
<tr class="separator:af4d4d071deb07e7dcfa489a2a835756d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42635cbaa2ba78482ae053bea477246a"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a42635cbaa2ba78482ae053bea477246a">C_FindObjects</a> (CK_SESSION_HANDLE hSession, CK_OBJECT_HANDLE_PTR phObject, CK_ULONG ulMaxObjectCount, CK_ULONG_PTR pulObjectCount)</td></tr>
<tr class="memdesc:a42635cbaa2ba78482ae053bea477246a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an object search operation.  <a href="iot__pkcs11__mbedtls_8c.html#a42635cbaa2ba78482ae053bea477246a">More...</a><br /></td></tr>
<tr class="separator:a42635cbaa2ba78482ae053bea477246a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46347f830269bfbcbece15951f0c0fa4"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a46347f830269bfbcbece15951f0c0fa4">C_FindObjectsFinal</a> (CK_SESSION_HANDLE hSession)</td></tr>
<tr class="memdesc:a46347f830269bfbcbece15951f0c0fa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finishes an object search operation.  <a href="iot__pkcs11__mbedtls_8c.html#a46347f830269bfbcbece15951f0c0fa4">More...</a><br /></td></tr>
<tr class="separator:a46347f830269bfbcbece15951f0c0fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f6bcb9f9be8a7822d9d8f7c44c33403"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a3f6bcb9f9be8a7822d9d8f7c44c33403">C_DigestInit</a> (CK_SESSION_HANDLE hSession, CK_MECHANISM_PTR pMechanism)</td></tr>
<tr class="memdesc:a3f6bcb9f9be8a7822d9d8f7c44c33403"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a message-digesting operation.  <a href="iot__pkcs11__mbedtls_8c.html#a3f6bcb9f9be8a7822d9d8f7c44c33403">More...</a><br /></td></tr>
<tr class="separator:a3f6bcb9f9be8a7822d9d8f7c44c33403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8189a6963fbcfdfe2bebe20a8bf3b6"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a7a8189a6963fbcfdfe2bebe20a8bf3b6">C_DigestUpdate</a> (CK_SESSION_HANDLE hSession, CK_BYTE_PTR pPart, CK_ULONG ulPartLen)</td></tr>
<tr class="memdesc:a7a8189a6963fbcfdfe2bebe20a8bf3b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Continues a multiple-part digesting operation.  <a href="iot__pkcs11__mbedtls_8c.html#a7a8189a6963fbcfdfe2bebe20a8bf3b6">More...</a><br /></td></tr>
<tr class="separator:a7a8189a6963fbcfdfe2bebe20a8bf3b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f3dc3758726bb4737db956e4cd71e91"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a1f3dc3758726bb4737db956e4cd71e91">C_DigestFinal</a> (CK_SESSION_HANDLE hSession, CK_BYTE_PTR pDigest, CK_ULONG_PTR pulDigestLen)</td></tr>
<tr class="memdesc:a1f3dc3758726bb4737db956e4cd71e91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finishes a multiple-part digesting operation.  <a href="iot__pkcs11__mbedtls_8c.html#a1f3dc3758726bb4737db956e4cd71e91">More...</a><br /></td></tr>
<tr class="separator:a1f3dc3758726bb4737db956e4cd71e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d93326915dc9b74f2476238f35037c"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a37d93326915dc9b74f2476238f35037c">C_SignInit</a> (CK_SESSION_HANDLE hSession, CK_MECHANISM_PTR pMechanism, CK_OBJECT_HANDLE hKey)</td></tr>
<tr class="memdesc:a37d93326915dc9b74f2476238f35037c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a signature operation.  <a href="iot__pkcs11__mbedtls_8c.html#a37d93326915dc9b74f2476238f35037c">More...</a><br /></td></tr>
<tr class="separator:a37d93326915dc9b74f2476238f35037c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f587605d68a7a56012ac337ddaec5e1"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a5f587605d68a7a56012ac337ddaec5e1">C_Sign</a> (CK_SESSION_HANDLE hSession, CK_BYTE_PTR pData, CK_ULONG ulDataLen, CK_BYTE_PTR pSignature, CK_ULONG_PTR pulSignatureLen)</td></tr>
<tr class="memdesc:a5f587605d68a7a56012ac337ddaec5e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signs single-part data.  <a href="iot__pkcs11__mbedtls_8c.html#a5f587605d68a7a56012ac337ddaec5e1">More...</a><br /></td></tr>
<tr class="separator:a5f587605d68a7a56012ac337ddaec5e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae51e6092fa8c8a58e022fcd8366c45"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#aeae51e6092fa8c8a58e022fcd8366c45">C_VerifyInit</a> (CK_SESSION_HANDLE hSession, CK_MECHANISM_PTR pMechanism, CK_OBJECT_HANDLE hKey)</td></tr>
<tr class="memdesc:aeae51e6092fa8c8a58e022fcd8366c45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a verification operation.  <a href="iot__pkcs11__mbedtls_8c.html#aeae51e6092fa8c8a58e022fcd8366c45">More...</a><br /></td></tr>
<tr class="separator:aeae51e6092fa8c8a58e022fcd8366c45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e5f5ad0a6c7c6083ad3d780cc6d5529"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a4e5f5ad0a6c7c6083ad3d780cc6d5529">C_Verify</a> (CK_SESSION_HANDLE hSession, CK_BYTE_PTR pData, CK_ULONG ulDataLen, CK_BYTE_PTR pSignature, CK_ULONG ulSignatureLen)</td></tr>
<tr class="memdesc:a4e5f5ad0a6c7c6083ad3d780cc6d5529"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies a signature on single-part data.  <a href="iot__pkcs11__mbedtls_8c.html#a4e5f5ad0a6c7c6083ad3d780cc6d5529">More...</a><br /></td></tr>
<tr class="separator:a4e5f5ad0a6c7c6083ad3d780cc6d5529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ce5a8dfa0d3de7a17807a079f6bf88"><td class="memItemLeft" align="right" valign="top">static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#af6ce5a8dfa0d3de7a17807a079f6bf88">prvCheckGenerateKeyPairPrivateTemplate</a> (<a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> **ppxLabel, <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxAttribute, uint32_t *pulAttributeMap)</td></tr>
<tr class="memdesc:af6ce5a8dfa0d3de7a17807a079f6bf88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that the private key template provided for C_GenerateKeyPair contains all necessary attributes, and does not contain any invalid attributes.  <a href="iot__pkcs11__mbedtls_8c.html#af6ce5a8dfa0d3de7a17807a079f6bf88">More...</a><br /></td></tr>
<tr class="separator:af6ce5a8dfa0d3de7a17807a079f6bf88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab49218b2f2a55fe7a50f8f472d42058f"><td class="memItemLeft" align="right" valign="top">static CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ab49218b2f2a55fe7a50f8f472d42058f">prvCheckGenerateKeyPairPublicTemplate</a> (<a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> **ppxLabel, <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *pxAttribute, uint32_t *pulAttributeMap)</td></tr>
<tr class="memdesc:ab49218b2f2a55fe7a50f8f472d42058f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that the public key template provided for C_GenerateKeyPair contains all necessary attributes, and does not contain any invalid attributes.  <a href="iot__pkcs11__mbedtls_8c.html#ab49218b2f2a55fe7a50f8f472d42058f">More...</a><br /></td></tr>
<tr class="separator:ab49218b2f2a55fe7a50f8f472d42058f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802a061224966a5523beb1ea0a9d9c27"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a802a061224966a5523beb1ea0a9d9c27">C_GenerateKeyPair</a> (CK_SESSION_HANDLE hSession, CK_MECHANISM_PTR pMechanism, CK_ATTRIBUTE_PTR pPublicKeyTemplate, CK_ULONG ulPublicKeyAttributeCount, CK_ATTRIBUTE_PTR pPrivateKeyTemplate, CK_ULONG ulPrivateKeyAttributeCount, CK_OBJECT_HANDLE_PTR phPublicKey, CK_OBJECT_HANDLE_PTR phPrivateKey)</td></tr>
<tr class="memdesc:a802a061224966a5523beb1ea0a9d9c27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a public-key/private-key pair.  <a href="iot__pkcs11__mbedtls_8c.html#a802a061224966a5523beb1ea0a9d9c27">More...</a><br /></td></tr>
<tr class="separator:a802a061224966a5523beb1ea0a9d9c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a883eb1608be800f7fbd204665d50d"><td class="memItemLeft" align="right" valign="top">CK_RV&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a54a883eb1608be800f7fbd204665d50d">C_GenerateRandom</a> (CK_SESSION_HANDLE hSession, CK_BYTE_PTR RandomData, CK_ULONG ulRandomLen)</td></tr>
<tr class="memdesc:a54a883eb1608be800f7fbd204665d50d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates random data.  <a href="iot__pkcs11__mbedtls_8c.html#a54a883eb1608be800f7fbd204665d50d">More...</a><br /></td></tr>
<tr class="separator:a54a883eb1608be800f7fbd204665d50d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac80d2c725e8e5238f649a2ed75e67c30"><td class="memItemLeft" align="right" valign="top"><a id="ac80d2c725e8e5238f649a2ed75e67c30"></a>
static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ac80d2c725e8e5238f649a2ed75e67c30">pNoHighLevelMbedTlsCodeStr</a> = &quot;&lt;No-High-Level-Code&gt;&quot;</td></tr>
<tr class="memdesc:ac80d2c725e8e5238f649a2ed75e67c30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents string to be logged when mbedTLS returned error does not contain a high-level code. <br /></td></tr>
<tr class="separator:ac80d2c725e8e5238f649a2ed75e67c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3215d33b1ac379cd57b6458609de535"><td class="memItemLeft" align="right" valign="top"><a id="ac3215d33b1ac379cd57b6458609de535"></a>
static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#ac3215d33b1ac379cd57b6458609de535">pNoLowLevelMbedTlsCodeStr</a> = &quot;&lt;No-Low-Level-Code&gt;&quot;</td></tr>
<tr class="memdesc:ac3215d33b1ac379cd57b6458609de535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents string to be logged when mbedTLS returned error does not contain a low-level code. <br /></td></tr>
<tr class="separator:ac3215d33b1ac379cd57b6458609de535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d2aa023bf1b179d662d7a959348c0c"><td class="memItemLeft" align="right" valign="top"><a id="a61d2aa023bf1b179d662d7a959348c0c"></a>
static <a class="el" href="struct_p11_struct__t.html">P11Struct_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a61d2aa023bf1b179d662d7a959348c0c">xP11Context</a></td></tr>
<tr class="memdesc:a61d2aa023bf1b179d662d7a959348c0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The global PKCS #11 module object. Entropy/randomness and object lists are shared across PKCS #11 sessions. <br /></td></tr>
<tr class="separator:a61d2aa023bf1b179d662d7a959348c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e74ce80ee33111b27c11c3644c9cc7"><td class="memItemLeft" align="right" valign="top"><a id="a97e74ce80ee33111b27c11c3644c9cc7"></a>
static <a class="el" href="struct_p11_session__t.html">P11Session_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__pkcs11__mbedtls_8c.html#a97e74ce80ee33111b27c11c3644c9cc7">pxP11Sessions</a> [pkcs11configMAX_SESSIONS] = { 0 }</td></tr>
<tr class="memdesc:a97e74ce80ee33111b27c11c3644c9cc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The global PKCS #11 session list. <br /></td></tr>
<tr class="separator:a97e74ce80ee33111b27c11c3644c9cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>mbedTLS-based PKCS#11 implementation for software keys. This file deviates from the FreeRTOS style standard for some function names and data types in order to maintain compliance with the PKCS #11 standard. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a92427274c3174ef89fbf82a0ad25a252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92427274c3174ef89fbf82a0ad25a252">&#9670;&nbsp;</a></span>mbedtlsHighLevelCodeOrDefault</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mbedtlsHighLevelCodeOrDefault</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mbedTlsCode</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    ( mbedtls_strerror_highlevel( mbedTlsCode ) != NULL ) ? \</div>
<div class="line">    mbedtls_strerror_highlevel( mbedTlsCode ) : <a class="code" href="iot__pkcs11__mbedtls_8c.html#ac80d2c725e8e5238f649a2ed75e67c30">pNoHighLevelMbedTlsCodeStr</a></div>
</div><!-- fragment -->
<p>Utility for converting the high-level code in an mbedTLS error to string, if the code-contains a high-level code; otherwise, using a default string. </p>

</div>
</div>
<a id="a1936e3a07702240561149805e8f0bfbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1936e3a07702240561149805e8f0bfbb">&#9670;&nbsp;</a></span>mbedtlsLowLevelCodeOrDefault</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mbedtlsLowLevelCodeOrDefault</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mbedTlsCode</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    ( mbedtls_strerror_lowlevel( mbedTlsCode ) != NULL ) ? \</div>
<div class="line">    mbedtls_strerror_lowlevel( mbedTlsCode ) : <a class="code" href="iot__pkcs11__mbedtls_8c.html#ac3215d33b1ac379cd57b6458609de535">pNoLowLevelMbedTlsCodeStr</a></div>
</div><!-- fragment -->
<p>Utility for converting the level-level code in an mbedTLS error to string, if the code-contains a level-level code; otherwise, using a default string. </p>

</div>
</div>
<a id="adada8e23f6001eedf0b726604495c611"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adada8e23f6001eedf0b726604495c611">&#9670;&nbsp;</a></span>pkcs11SLOT_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pkcs11SLOT_ID&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The slot ID to be returned by this PKCS #11 implementation. </p>
<dl class="section note"><dt>Note</dt><dd>that this implementation does not have a concept of "slots" so this number is arbitrary. </dd></dl>

</div>
</div>
<a id="a772e2b44059eb5224eb4900f628f6182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a772e2b44059eb5224eb4900f628f6182">&#9670;&nbsp;</a></span>LABEL_IN_TEMPLATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LABEL_IN_TEMPLATE&#160;&#160;&#160;( 1U )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Private defines for checking that attribute templates are complete. </p>
<p>Bit set for label in template. </p>

</div>
</div>
<a id="a1ef7157051f0e594ce92ff341e33ba9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef7157051f0e594ce92ff341e33ba9e">&#9670;&nbsp;</a></span>PRIVATE_IN_TEMPLATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRIVATE_IN_TEMPLATE&#160;&#160;&#160;( 1U &lt;&lt; 1 )</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bit set for private key in in template. </p>

</div>
</div>
<a id="a242475cf0d847d052b57456ed5df99a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a242475cf0d847d052b57456ed5df99a1">&#9670;&nbsp;</a></span>SIGN_IN_TEMPLATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIGN_IN_TEMPLATE&#160;&#160;&#160;( 1U &lt;&lt; 2 )</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bit set for sign in template. </p>

</div>
</div>
<a id="a781de9e6cf56f8a0ad83e8f6dab3c818"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a781de9e6cf56f8a0ad83e8f6dab3c818">&#9670;&nbsp;</a></span>EC_PARAMS_IN_TEMPLATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EC_PARAMS_IN_TEMPLATE&#160;&#160;&#160;( 1U &lt;&lt; 3 )</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bit set for EC params in template. </p>

</div>
</div>
<a id="a612b5efde52700aca5c9ff37d7e00ad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a612b5efde52700aca5c9ff37d7e00ad1">&#9670;&nbsp;</a></span>VERIFY_IN_TEMPLATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_IN_TEMPLATE&#160;&#160;&#160;( 1U &lt;&lt; 4 )</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bit set for verify in template. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab93c9263b9b89774e57eee9e8ac708a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab93c9263b9b89774e57eee9e8ac708a8">&#9670;&nbsp;</a></span>prvCheckValidSessionAndModule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CK_RV prvCheckValidSessionAndModule </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_p11_session__t.html">P11Session_t</a> *&#160;</td>
          <td class="paramname"><em>pxSession</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to check if the current session is initialized and valid. </p>
<p>MISRA Rule 10.5 - Cannot cast from unsigned to signed. The rule 10.5 is violated because type of the boolean macros defined by PKCS #11 are 0 and 1, which results in a signed integer, meanwhile the underlying type of CK_BBOOL is an unsigned char.</p>
<p>This means that our implementation conforms to the exception provided by MISRA To quote MISRA: "An integer constant expression with the value 0 or 1 of either signedness may be cast to a type which is defined as essentially Boolean. This allows the implementation of non-C99 Boolean models."</p>

</div>
</div>
<a id="ad7e3c1e337d187b04f516cb1fb15353d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7e3c1e337d187b04f516cb1fb15353d">&#9670;&nbsp;</a></span>prvMbedTLS_Initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CK_RV prvMbedTLS_Initialize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize mbedTLS. </p>
<dl class="section note"><dt>Note</dt><dd>: Before prvMbedTLS_Initialize can be called, CRYPTO_Init() must be called to initialize the mbedTLS mutex functions. </dd></dl>

</div>
</div>
<a id="a48ea28307e7a1e8378b5e704e7318b8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ea28307e7a1e8378b5e704e7318b8b">&#9670;&nbsp;</a></span>prvFindObjectInListByLabel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void prvFindObjectInListByLabel </td>
          <td>(</td>
          <td class="paramtype">const CK_BYTE_PTR&#160;</td>
          <td class="paramname"><em>pcLabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>xLabelLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>pxPalHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>pxAppHandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Searches the PKCS #11 module's object list for label and provides handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pcLabel</td><td>Array containing label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xLabelLength</td><td>Length of the label, in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pxPalHandle</td><td>Pointer to the PAL handle to be provided. CK_INVALID_HANDLE if no object found. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pxAppHandle</td><td>Pointer to the application handle to be provided. CK_INVALID_HANDLE if no object found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aadf1ee4b99279af65de44082fbd4de52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf1ee4b99279af65de44082fbd4de52">&#9670;&nbsp;</a></span>prvFindObjectInListByHandle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void prvFindObjectInListByHandle </td>
          <td>(</td>
          <td class="paramtype">CK_OBJECT_HANDLE&#160;</td>
          <td class="paramname"><em>xAppHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>pxPalHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_BYTE_PTR *&#160;</td>
          <td class="paramname"><em>ppcLabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG_PTR&#160;</td>
          <td class="paramname"><em>pxLabelLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Looks up a PKCS #11 object's label and PAL handle given an application handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">xAppHandle</td><td>The handle of the object being lookedup for, used by the application. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pxPalHandle</td><td>Pointer to the handle corresponding to xPalHandle being used by the PAL. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ppcLabel</td><td>Pointer to an array containing label. NULL if object not found. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pxLabelLength</td><td>Pointer to label length (includes a string null terminator). 0 if no object found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afcfff49a3c2775184ddb68ec868a249c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcfff49a3c2775184ddb68ec868a249c">&#9670;&nbsp;</a></span>prvDeleteObjectFromList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CK_RV prvDeleteObjectFromList </td>
          <td>(</td>
          <td class="paramtype">CK_OBJECT_HANDLE&#160;</td>
          <td class="paramname"><em>xAppHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes an object from the module object list (xP11Context.xObjectList) </p>
<dl class="section warning"><dt>Warning</dt><dd>This does not delete the object from NVM.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">xAppHandle</td><td>Application handle of the object to be deleted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a032401bd3b99f1178fa16594123a84ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a032401bd3b99f1178fa16594123a84ea">&#9670;&nbsp;</a></span>prvAddObjectToList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CK_RV prvAddObjectToList </td>
          <td>(</td>
          <td class="paramtype">CK_OBJECT_HANDLE&#160;</td>
          <td class="paramname"><em>xPalHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>pxAppHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CK_BYTE_PTR&#160;</td>
          <td class="paramname"><em>pcLabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>xLabelLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add an object that exists in NVM to the application object array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">xPalHandle</td><td>The handle used by the PKCS #11 PAL for object. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pxAppHandle</td><td>Updated to contain the application handle corresponding to xPalHandle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pcLabel</td><td>Pointer to object label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xLabelLength</td><td>Length of the PKCS #11 label. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3e5df5f3f2fe4ab8b5b703e90973603f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e5df5f3f2fe4ab8b5b703e90973603f">&#9670;&nbsp;</a></span>PKCS11_PAL_DestroyObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV PKCS11_PAL_DestroyObject </td>
          <td>(</td>
          <td class="paramtype">CK_OBJECT_HANDLE&#160;</td>
          <td class="paramname"><em>xHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete an object from NVM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">xHandle</td><td>Handle to a PKCS #11 object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2e45ad4ce8c84712c646dddaa99544e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e45ad4ce8c84712c646dddaa99544e3">&#9670;&nbsp;</a></span>C_Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_Initialize </td>
          <td>(</td>
          <td class="paramtype">CK_VOID_PTR&#160;</td>
          <td class="paramname"><em>pInitArgs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes Cryptoki. </p>
<dl class="section note"><dt>Note</dt><dd>C_Initialize is not thread-safe.</dd></dl>
<p>C_Initialize should be called (and allowed to return) before any additional PKCS #11 operations are invoked.</p>
<p>In this implementation, all arguments are ignored. Thread protection for the rest of PKCS #11 functions default to FreeRTOS primitives.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pInitArgs</td><td>This parameter is ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. CKR_CRYPTOKI_ALREADY_INITIALIZED if C_Initialize was previously called. All other errors indicate that the PKCS #11 module is not ready to be used. See <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="ab4cf13775c4e92b36156ee92dd52bef5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4cf13775c4e92b36156ee92dd52bef5">&#9670;&nbsp;</a></span>C_GetFunctionList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_GetFunctionList </td>
          <td>(</td>
          <td class="paramtype">CK_FUNCTION_LIST_PTR_PTR&#160;</td>
          <td class="paramname"><em>ppFunctionList</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains entry points of Cryptoki library functions. </p>
<p>All other PKCS #11 functions should be invoked using the returned function list.</p>
<dl class="section warning"><dt>Warning</dt><dd>Do not overwrite the function list.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ppFunctionList</td><td>Pointer to the location where pointer to function list will be placed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="ac6ce96c3f4a3b7f24d9420763df121fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6ce96c3f4a3b7f24d9420763df121fc">&#9670;&nbsp;</a></span>C_GetSlotList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_GetSlotList </td>
          <td>(</td>
          <td class="paramtype">CK_BBOOL&#160;</td>
          <td class="paramname"><em>tokenPresent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_SLOT_ID_PTR&#160;</td>
          <td class="paramname"><em>pSlotList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG_PTR&#160;</td>
          <td class="paramname"><em>pulCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains a list of slots in the system. </p>
<p>This port does not implement the concept of separate slots/tokens.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tokenPresent</td><td>This parameter is unused by this port. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pSlotList</td><td>Pointer to an array of slot IDs. At this time, only 1 slot is implemented. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pulCount</td><td>Length of the slot list pxSlotList. Updated to contain the actual number of slots written to the list.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="ac933291718eb6aa218db1c677e07ab02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac933291718eb6aa218db1c677e07ab02">&#9670;&nbsp;</a></span>C_GetTokenInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_GetTokenInfo </td>
          <td>(</td>
          <td class="paramtype">CK_SLOT_ID&#160;</td>
          <td class="paramname"><em>slotID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_TOKEN_INFO_PTR&#160;</td>
          <td class="paramname"><em>pInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains information about a particular token. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slotID</td><td>This parameter is unused in this port. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pInfo</td><td>This parameter is unused in this port.</td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="iot__pkcs11__mbedtls_8c.html#ac933291718eb6aa218db1c677e07ab02" title="Obtains information about a particular token.">C_GetTokenInfo()</a> is only implemented for compatibility with other ports. All inputs to this function are ignored, and calling this function on this port does provide any information about the PKCS #11 token.</p>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK. </dd></dl>

</div>
</div>
<a id="abe5aeb6b794d4ca28cb2534fe0a4a159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe5aeb6b794d4ca28cb2534fe0a4a159">&#9670;&nbsp;</a></span>C_GetMechanismInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_GetMechanismInfo </td>
          <td>(</td>
          <td class="paramtype">CK_SLOT_ID&#160;</td>
          <td class="paramname"><em>slotID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_MECHANISM_TYPE&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_MECHANISM_INFO_PTR&#160;</td>
          <td class="paramname"><em>pInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains information about a particular mechanism. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slotID</td><td>This parameter is unused in this port. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The cryptographic capability for which support information is being queried. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pInfo</td><td>Algorithm sizes and flags for the requested mechanism, if supported.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if the mechanism is supported. Otherwise, CKR_MECHANISM_INVALID. </dd></dl>

</div>
</div>
<a id="a3bac1f2e5a7bc50d4d27fb2360eaadcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bac1f2e5a7bc50d4d27fb2360eaadcb">&#9670;&nbsp;</a></span>C_InitToken()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_InitToken </td>
          <td>(</td>
          <td class="paramtype">CK_SLOT_ID&#160;</td>
          <td class="paramname"><em>slotID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_UTF8CHAR_PTR&#160;</td>
          <td class="paramname"><em>pPin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulPinLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_UTF8CHAR_PTR&#160;</td>
          <td class="paramname"><em>pLabel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a token. This function is not implemented for this port. </p>
<p><a class="el" href="iot__pkcs11__mbedtls_8c.html#a3bac1f2e5a7bc50d4d27fb2360eaadcb" title="Initializes a token. This function is not implemented for this port.">C_InitToken()</a> is only implemented for compatibility with other ports. All inputs to this function are ignored, and calling this function on this port does not add any security.</p>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK. </dd></dl>

</div>
</div>
<a id="ad28ad989a94c345875dff446ad6c6481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad28ad989a94c345875dff446ad6c6481">&#9670;&nbsp;</a></span>C_OpenSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_OpenSession </td>
          <td>(</td>
          <td class="paramtype">CK_SLOT_ID&#160;</td>
          <td class="paramname"><em>slotID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_FLAGS&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_VOID_PTR&#160;</td>
          <td class="paramname"><em>pApplication</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_NOTIFY&#160;</td>
          <td class="paramname"><em>Notify</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_SESSION_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>phSession</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a connection between an application and a particular token or sets up an application callback for token insertion. </p>
<dl class="section note"><dt>Note</dt><dd>PKCS #11 module must have been previously initialized with a call to <a class="el" href="iot__pkcs11__mbedtls_8c.html#a2e45ad4ce8c84712c646dddaa99544e3" title="Initializes Cryptoki.">C_Initialize()</a> before calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#ad28ad989a94c345875dff446ad6c6481" title="Opens a connection between an application and a particular token or sets up an application callback f...">C_OpenSession()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">slotID</td><td>This parameter is unused in this port. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Session flags - CKF_SERIAL_SESSION is a mandatory flag. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pApplication</td><td>This parameter is unused in this port. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Notify</td><td>This parameter is unused in this port. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">phSession</td><td>Pointer to the location that the created session's handle will be placed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="ae2ce0be368072fa83e0b1f5136b7b753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2ce0be368072fa83e0b1f5136b7b753">&#9670;&nbsp;</a></span>C_CloseSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_CloseSession </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes a session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>The session handle to be terminated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="aca7aa4ae8d9592f464dc1b545fead02e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca7aa4ae8d9592f464dc1b545fead02e">&#9670;&nbsp;</a></span>C_Login()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_Login </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_USER_TYPE&#160;</td>
          <td class="paramname"><em>userType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_UTF8CHAR_PTR&#160;</td>
          <td class="paramname"><em>pPin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulPinLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs into a token. This function is not implemented for this port. </p>
<p><a class="el" href="iot__pkcs11__mbedtls_8c.html#aca7aa4ae8d9592f464dc1b545fead02e" title="Logs into a token. This function is not implemented for this port.">C_Login()</a> is only implemented for compatibility with other ports. All inputs to this function are ignored, and calling this function on this port does not add any security.</p>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK. </dd></dl>

</div>
</div>
<a id="ae79b4b6a2d8cd5db13cc41241f2b9f33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae79b4b6a2d8cd5db13cc41241f2b9f33">&#9670;&nbsp;</a></span>prvCreateCertificate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CK_RV prvCreateCertificate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *&#160;</td>
          <td class="paramname"><em>pxTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>pxObject</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function for parsing the templates of device certificates for C_CreateObject. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pxTemplate</td><td>Pointer to PKCS #11 attribute template. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulCount</td><td>length of templates array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxObject</td><td>Pointer to PKCS #11 object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK. </dd></dl>

</div>
</div>
<a id="aa0e580aa2af212cfd2468cea733368ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0e580aa2af212cfd2468cea733368ae">&#9670;&nbsp;</a></span>prvGetKeyType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void prvGetKeyType </td>
          <td>(</td>
          <td class="paramtype">CK_KEY_TYPE *&#160;</td>
          <td class="paramname"><em>pxKeyType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *&#160;</td>
          <td class="paramname"><em>pxTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to search an attribute for the key type attribute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pxKeyType</td><td>pointer to key type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxTemplate</td><td>templates to search for a key in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulCount</td><td>length of templates array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af5e3d88c14dcc4e522555febdfc1ad9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5e3d88c14dcc4e522555febdfc1ad9c">&#9670;&nbsp;</a></span>prvGetLabel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void prvGetLabel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> **&#160;</td>
          <td class="paramname"><em>ppxLabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *&#160;</td>
          <td class="paramname"><em>pxTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to search a template for the label attribute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ppxLabel</td><td>pointer to label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxTemplate</td><td>templates to search for a key in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulCount</td><td>length of templates array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aca8677c38e93b04cb2263a778febee24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca8677c38e93b04cb2263a778febee24">&#9670;&nbsp;</a></span>prvGetExistingKeyComponent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CK_RV prvGetExistingKeyComponent </td>
          <td>(</td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>pxPalHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mbedtls_pk_context *&#160;</td>
          <td class="paramname"><em>pxMbedContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *&#160;</td>
          <td class="paramname"><em>pxLabel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to search a template for the label attribute. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pxPalHandle</td><td>opaque handle to PKCS #11 object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxMbedContext</td><td>mbedTLS pk context for parsing. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxLabel</td><td>label of PKCS #11 object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Because public and private keys are stored in the same slot for this port, importing one after the other requires a read of what was previously in the slot, combination of the public and private key in DER format, and re-import of the combination. </dd></dl>

</div>
</div>
<a id="a4d69da09cab225b173340628ba2e1637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d69da09cab225b173340628ba2e1637">&#9670;&nbsp;</a></span>prvCreateECKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CK_RV prvCreateECKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *&#160;</td>
          <td class="paramname"><em>pxTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>pxObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_BBOOL&#160;</td>
          <td class="paramname"><em>xIsPrivate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function for importing elliptic curve keys from template using C_CreateObject. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pxTemplate</td><td>templates to search for a key in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulCount</td><td>length of templates array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxObject</td><td>PKCS #11 object handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xIsPrivate</td><td>boolean indicating whether the key is private or public. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad037998f84d39db2bec173c226499446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad037998f84d39db2bec173c226499446">&#9670;&nbsp;</a></span>prvCreateRsaPrivateKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CK_RV prvCreateRsaPrivateKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *&#160;</td>
          <td class="paramname"><em>pxTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>pxObject</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function for parsing RSA Private Key attribute templates for C_CreateObject. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pxTemplate</td><td>templates to search for a key in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulCount</td><td>length of templates array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxObject</td><td>PKCS #11 object handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0fc54608ace5726a722929c07e8dbbba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fc54608ace5726a722929c07e8dbbba">&#9670;&nbsp;</a></span>prvCreatePrivateKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CK_RV prvCreatePrivateKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *&#160;</td>
          <td class="paramname"><em>pxTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>pxObject</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function for importing private keys using template C_CreateObject. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pxTemplate</td><td>templates to search for a key in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulCount</td><td>length of templates array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxObject</td><td>PKCS #11 object handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a591739d3757d8746043b26a6e4c9e2bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a591739d3757d8746043b26a6e4c9e2bd">&#9670;&nbsp;</a></span>prvCreatePublicKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CK_RV prvCreatePublicKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *&#160;</td>
          <td class="paramname"><em>pxTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>pxObject</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function for importing public keys using C_CreateObject. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pxTemplate</td><td>templates to search for a key in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulCount</td><td>length of templates array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxObject</td><td>PKCS #11 object handle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a01b36384bff05a4dc4476c0764cdc248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b36384bff05a4dc4476c0764cdc248">&#9670;&nbsp;</a></span>C_CreateObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_CreateObject </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ATTRIBUTE_PTR&#160;</td>
          <td class="paramname"><em>pTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>phObject</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pTemplate</td><td>List of attributes of the object to be created. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulCount</td><td>Number of attributes in pTemplate. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">phObject</td><td>Pointer to the location where the created object's handle will be placed.</td></tr>
  </table>
  </dd>
</dl>
<table class="doxtable">
<tr>
<th>Object Type </th><th>Template Attributes </th></tr>
<tr>
<td rowspan="6">Certificate</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_VALUE </td></tr>
<tr>
<td>CKA_TOKEN </td></tr>
<tr>
<td>CKA_LABEL </td></tr>
<tr>
<td>CKA_CERTIFICATE_TYPE </td></tr>
<tr>
<td>CKA_VALUE </td></tr>
<tr>
<td rowspan="7">EC Private Key</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_KEY_TYPE </td></tr>
<tr>
<td>CKA_TOKEN </td></tr>
<tr>
<td>CKA_LABEL </td></tr>
<tr>
<td>CKA_SIGN </td></tr>
<tr>
<td>CKA_EC_PARAMS </td></tr>
<tr>
<td>CKA_VALUE </td></tr>
<tr>
<td rowspan="7">EC Public Key</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_KEY_TYPE </td></tr>
<tr>
<td>CKA_TOKEN </td></tr>
<tr>
<td>CKA_VERIFY </td></tr>
<tr>
<td>CKA_LABEL </td></tr>
<tr>
<td>CKA_EC_PARAMS </td></tr>
<tr>
<td>CKA_EC_POINT </td></tr>
<tr>
<td rowspan="13">RSA Private Key</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_KEY_TYPE </td></tr>
<tr>
<td>CKA_TOKEN </td></tr>
<tr>
<td>CKA_LABEL </td></tr>
<tr>
<td>CKA_SIGN </td></tr>
<tr>
<td>CKA_MODULUS </td></tr>
<tr>
<td>CKA_PUBLIC_EXPONENT </td></tr>
<tr>
<td>CKA_PRIME_1 </td></tr>
<tr>
<td>CKA_PRIME_2 </td></tr>
<tr>
<td>CKA_PRIVATE_EXPONENT </td></tr>
<tr>
<td>CKA_EXPONENT_1 </td></tr>
<tr>
<td>CKA_EXPONENT_2 </td></tr>
<tr>
<td>CKA_COEFFICIENT </td></tr>
</table>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="a1b991b6fd8b20f130f9d87b98e590fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b991b6fd8b20f130f9d87b98e590fdb">&#9670;&nbsp;</a></span>C_DestroyObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_DestroyObject </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE&#160;</td>
          <td class="paramname"><em>hObject</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hObject</td><td>Handle of the object to be destroyed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>In this implementation, if either the device public key or the device private key (labels pkcs11configLABEL_DEVICE_PUBLIC_KEY_FOR_TLS and pkcs11configLABEL_DEVICE_PRIVATE_KEY_FOR_TLS) are deleted, both keys will be destroyed.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="aaad61dc7b2313286bdd049676ef0fd70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad61dc7b2313286bdd049676ef0fd70">&#9670;&nbsp;</a></span>C_GetAttributeValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_GetAttributeValue </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE&#160;</td>
          <td class="paramname"><em>hObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ATTRIBUTE_PTR&#160;</td>
          <td class="paramname"><em>pTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains an attribute value of an object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hObject</td><td>PKCS #11 object handle to be queried. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pTemplate</td><td>Attribute template. pxTemplate.pValue should be set to the attribute to be queried. pxTemplate.ulValueLen should be set to the length of the buffer allocated at pxTemplate.pValue, and will be updated to contain the actual length of the data copied. pxTemplate.pValue should be set to point to a buffer to receive the attribute value data. If parameter length is unknown, pxTemplate.pValue may be set to NULL, and this function will set the required buffer length in pxTemplate.ulValueLen. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulCount</td><td>The number of attributes in the template.</td></tr>
  </table>
  </dd>
</dl>
<table class="doxtable">
<tr>
<th>Object Type </th><th>Queryable Attributes </th></tr>
<tr>
<td rowspan="2">Certificate</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_VALUE </td></tr>
<tr>
<td rowspan="3">EC Private Key</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_KEY_TYPE </td></tr>
<tr>
<td>CKA_EC_PARAMS </td></tr>
<tr>
<td rowspan="4">EC Public Key</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_KEY_TYPE </td></tr>
<tr>
<td>CKA_EC_PARAMS </td></tr>
<tr>
<td>CKA_EC_POINT </td></tr>
<tr>
<td rowspan="2">RSA Private Key</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_KEY_TYPE </td></tr>
<tr>
<td rowspan="2">RSA Public Key</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_KEY_TYPE </td></tr>
</table>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="af4d4d071deb07e7dcfa489a2a835756d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4d4d071deb07e7dcfa489a2a835756d">&#9670;&nbsp;</a></span>C_FindObjectsInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_FindObjectsInit </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ATTRIBUTE_PTR&#160;</td>
          <td class="paramname"><em>pTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes an object search operation. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#a42635cbaa2ba78482ae053bea477246a" title="Initializes an object search operation.">C_FindObjects()</a> and <a class="el" href="iot__pkcs11__mbedtls_8c.html#a46347f830269bfbcbece15951f0c0fa4" title="Finishes an object search operation.">C_FindObjectsFinal()</a> which must be called after <a class="el" href="iot__pkcs11__mbedtls_8c.html#af4d4d071deb07e7dcfa489a2a835756d" title="Initializes an object search operation.">C_FindObjectsInit()</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>FindObjects parameters are shared by a session. Calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#af4d4d071deb07e7dcfa489a2a835756d" title="Initializes an object search operation.">C_FindObjectsInit()</a>, <a class="el" href="iot__pkcs11__mbedtls_8c.html#a42635cbaa2ba78482ae053bea477246a" title="Initializes an object search operation.">C_FindObjects()</a>, and <a class="el" href="iot__pkcs11__mbedtls_8c.html#a46347f830269bfbcbece15951f0c0fa4" title="Finishes an object search operation.">C_FindObjectsFinal()</a> with the same session across different tasks may lead to unexpected results.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pTemplate</td><td>Pointer to a template which specifies the object attributes to match. In this port, the only searchable attribute is object label. All other attributes will be ignored. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulCount</td><td>The number of attributes in pTemplate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="a42635cbaa2ba78482ae053bea477246a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42635cbaa2ba78482ae053bea477246a">&#9670;&nbsp;</a></span>C_FindObjects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_FindObjects </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>phObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulMaxObjectCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG_PTR&#160;</td>
          <td class="paramname"><em>pulObjectCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes an object search operation. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#af4d4d071deb07e7dcfa489a2a835756d" title="Initializes an object search operation.">C_FindObjectsInit()</a> which must be called before calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#a42635cbaa2ba78482ae053bea477246a" title="Initializes an object search operation.">C_FindObjects()</a> and <a class="el" href="iot__pkcs11__mbedtls_8c.html#a46347f830269bfbcbece15951f0c0fa4" title="Finishes an object search operation.">C_FindObjectsFinal()</a>, which must be called after.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>FindObjects parameters are shared by a session. Calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#af4d4d071deb07e7dcfa489a2a835756d" title="Initializes an object search operation.">C_FindObjectsInit()</a>, <a class="el" href="iot__pkcs11__mbedtls_8c.html#a42635cbaa2ba78482ae053bea477246a" title="Initializes an object search operation.">C_FindObjects()</a>, and <a class="el" href="iot__pkcs11__mbedtls_8c.html#a46347f830269bfbcbece15951f0c0fa4" title="Finishes an object search operation.">C_FindObjectsFinal()</a> with the same session across different tasks may lead to unexpected results.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">phObject</td><td>Points to the handle of the object to be found. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulMaxObjectCount</td><td>The size of the phObject object handle array. In this port, this value should always be set to 1, as searching for multiple objects is not supported. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pulObjectCount</td><td>The actual number of objects that are found. In this port, if an object is found this value will be 1, otherwise if the object is not found, it will be set to 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In the event that an object does not exist, CKR_OK will be returned, but pulObjectCount will be set to 0.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="a46347f830269bfbcbece15951f0c0fa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46347f830269bfbcbece15951f0c0fa4">&#9670;&nbsp;</a></span>C_FindObjectsFinal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_FindObjectsFinal </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finishes an object search operation. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#af4d4d071deb07e7dcfa489a2a835756d" title="Initializes an object search operation.">C_FindObjectsInit()</a>, <a class="el" href="iot__pkcs11__mbedtls_8c.html#a42635cbaa2ba78482ae053bea477246a" title="Initializes an object search operation.">C_FindObjects()</a> which must be called before calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#a46347f830269bfbcbece15951f0c0fa4" title="Finishes an object search operation.">C_FindObjectsFinal()</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>FindObjects parameters are shared by a session. Calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#af4d4d071deb07e7dcfa489a2a835756d" title="Initializes an object search operation.">C_FindObjectsInit()</a>, <a class="el" href="iot__pkcs11__mbedtls_8c.html#a42635cbaa2ba78482ae053bea477246a" title="Initializes an object search operation.">C_FindObjects()</a>, and <a class="el" href="iot__pkcs11__mbedtls_8c.html#a46347f830269bfbcbece15951f0c0fa4" title="Finishes an object search operation.">C_FindObjectsFinal()</a> with the same session across different tasks may lead to unexpected results.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="a3f6bcb9f9be8a7822d9d8f7c44c33403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f6bcb9f9be8a7822d9d8f7c44c33403">&#9670;&nbsp;</a></span>C_DigestInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_DigestInit </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_MECHANISM_PTR&#160;</td>
          <td class="paramname"><em>pMechanism</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a message-digesting operation. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#a7a8189a6963fbcfdfe2bebe20a8bf3b6" title="Continues a multiple-part digesting operation.">C_DigestUpdate()</a>, <a class="el" href="iot__pkcs11__mbedtls_8c.html#a1f3dc3758726bb4737db956e4cd71e91" title="Finishes a multiple-part digesting operation.">C_DigestFinal()</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Digest parameters are shared by a session. Calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#a3f6bcb9f9be8a7822d9d8f7c44c33403" title="Initializes a message-digesting operation.">C_DigestInit()</a>, <a class="el" href="iot__pkcs11__mbedtls_8c.html#a7a8189a6963fbcfdfe2bebe20a8bf3b6" title="Continues a multiple-part digesting operation.">C_DigestUpdate()</a>, and <a class="el" href="iot__pkcs11__mbedtls_8c.html#a1f3dc3758726bb4737db956e4cd71e91" title="Finishes a multiple-part digesting operation.">C_DigestFinal()</a> with the same session across different tasks may lead to unexpected results.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pMechanism</td><td>Digesting mechanism. This port only supports the mechanism CKM_SHA256.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="a7a8189a6963fbcfdfe2bebe20a8bf3b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a8189a6963fbcfdfe2bebe20a8bf3b6">&#9670;&nbsp;</a></span>C_DigestUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_DigestUpdate </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_BYTE_PTR&#160;</td>
          <td class="paramname"><em>pPart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulPartLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Continues a multiple-part digesting operation. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#a3f6bcb9f9be8a7822d9d8f7c44c33403" title="Initializes a message-digesting operation.">C_DigestInit()</a>, <a class="el" href="iot__pkcs11__mbedtls_8c.html#a1f3dc3758726bb4737db956e4cd71e91" title="Finishes a multiple-part digesting operation.">C_DigestFinal()</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Digest parameters are shared by a session. Calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#a3f6bcb9f9be8a7822d9d8f7c44c33403" title="Initializes a message-digesting operation.">C_DigestInit()</a>, <a class="el" href="iot__pkcs11__mbedtls_8c.html#a7a8189a6963fbcfdfe2bebe20a8bf3b6" title="Continues a multiple-part digesting operation.">C_DigestUpdate()</a>, and <a class="el" href="iot__pkcs11__mbedtls_8c.html#a1f3dc3758726bb4737db956e4cd71e91" title="Finishes a multiple-part digesting operation.">C_DigestFinal()</a> with the same session across different tasks may lead to unexpected results.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pPart</td><td>Pointer to the data to be added to the digest. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulPartLen</td><td>Length of the data located at pPart.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="a1f3dc3758726bb4737db956e4cd71e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f3dc3758726bb4737db956e4cd71e91">&#9670;&nbsp;</a></span>C_DigestFinal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_DigestFinal </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_BYTE_PTR&#160;</td>
          <td class="paramname"><em>pDigest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG_PTR&#160;</td>
          <td class="paramname"><em>pulDigestLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finishes a multiple-part digesting operation. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#a3f6bcb9f9be8a7822d9d8f7c44c33403" title="Initializes a message-digesting operation.">C_DigestInit()</a>, <a class="el" href="iot__pkcs11__mbedtls_8c.html#a7a8189a6963fbcfdfe2bebe20a8bf3b6" title="Continues a multiple-part digesting operation.">C_DigestUpdate()</a></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Digest parameters are shared by a session. Calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#a3f6bcb9f9be8a7822d9d8f7c44c33403" title="Initializes a message-digesting operation.">C_DigestInit()</a>, <a class="el" href="iot__pkcs11__mbedtls_8c.html#a7a8189a6963fbcfdfe2bebe20a8bf3b6" title="Continues a multiple-part digesting operation.">C_DigestUpdate()</a>, and <a class="el" href="iot__pkcs11__mbedtls_8c.html#a1f3dc3758726bb4737db956e4cd71e91" title="Finishes a multiple-part digesting operation.">C_DigestFinal()</a> with the same session across different tasks may lead to unexpected results.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pDigest</td><td>Pointer to the location that receives the message digest. Memory must be allocated by the caller. Caller is responsible for allocating memory. Providing NULL for this input will cause pulDigestLen to be updated for length of buffer required. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pulDigestLen</td><td>Points to the location that holds the length of the message digest. If pDigest is NULL, this value is updated to contain the length of the buffer needed to hold the digest. Else it is updated to contain the actual length of the digest placed in pDigest.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="a37d93326915dc9b74f2476238f35037c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37d93326915dc9b74f2476238f35037c">&#9670;&nbsp;</a></span>C_SignInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_SignInit </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_MECHANISM_PTR&#160;</td>
          <td class="paramname"><em>pMechanism</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE&#160;</td>
          <td class="paramname"><em>hKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a signature operation. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#a5f587605d68a7a56012ac337ddaec5e1" title="Signs single-part data.">C_Sign()</a> completes signatures initiated by <a class="el" href="iot__pkcs11__mbedtls_8c.html#a37d93326915dc9b74f2476238f35037c" title="Initializes a signature operation.">C_SignInit()</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#a5f587605d68a7a56012ac337ddaec5e1" title="Signs single-part data.">C_Sign()</a> parameters are shared by a session. Calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#a37d93326915dc9b74f2476238f35037c" title="Initializes a signature operation.">C_SignInit()</a> &amp; <a class="el" href="iot__pkcs11__mbedtls_8c.html#a5f587605d68a7a56012ac337ddaec5e1" title="Signs single-part data.">C_Sign()</a> with the same session across different tasks may lead to unexpected results.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pMechanism</td><td>Mechanism used to sign. This port supports the following mechanisms:<ul>
<li>CKM_RSA_PKCS for RSA signatures</li>
<li>CKM_ECDSA for elliptic curve signatures Note that neither of these mechanisms perform hash operations. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hKey</td><td>The handle of the private key to be used for signature. Key must be compatible with the mechanism chosen by pMechanism.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="a5f587605d68a7a56012ac337ddaec5e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f587605d68a7a56012ac337ddaec5e1">&#9670;&nbsp;</a></span>C_Sign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_Sign </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_BYTE_PTR&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_BYTE_PTR&#160;</td>
          <td class="paramname"><em>pSignature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG_PTR&#160;</td>
          <td class="paramname"><em>pulSignatureLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signs single-part data. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#a37d93326915dc9b74f2476238f35037c" title="Initializes a signature operation.">C_SignInit()</a> initiates signatures signature creation.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#a5f587605d68a7a56012ac337ddaec5e1" title="Signs single-part data.">C_Sign()</a> parameters are shared by a session. Calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#a37d93326915dc9b74f2476238f35037c" title="Initializes a signature operation.">C_SignInit()</a> &amp; <a class="el" href="iot__pkcs11__mbedtls_8c.html#a5f587605d68a7a56012ac337ddaec5e1" title="Signs single-part data.">C_Sign()</a> with the same session across different tasks may lead to unexpected results.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pData</td><td>Data to be signed. Note: Some applications may require this data to be hashed before passing to <a class="el" href="iot__pkcs11__mbedtls_8c.html#a5f587605d68a7a56012ac337ddaec5e1" title="Signs single-part data.">C_Sign()</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulDataLen</td><td>Length of pucData, in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pSignature</td><td>Buffer where signature will be placed. Caller is responsible for allocating memory. Providing NULL for this input will cause pulSignatureLen to be updated for length of buffer required. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pulSignatureLen</td><td>Length of pucSignature buffer. If pucSignature is non-NULL, pulSignatureLen is updated to contain the actual signature length. If pucSignature is NULL, pulSignatureLen is updated to the buffer length required for signature data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="aeae51e6092fa8c8a58e022fcd8366c45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae51e6092fa8c8a58e022fcd8366c45">&#9670;&nbsp;</a></span>C_VerifyInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_VerifyInit </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_MECHANISM_PTR&#160;</td>
          <td class="paramname"><em>pMechanism</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE&#160;</td>
          <td class="paramname"><em>hKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a verification operation. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#a4e5f5ad0a6c7c6083ad3d780cc6d5529" title="Verifies a signature on single-part data.">C_Verify()</a> completes verifications initiated by <a class="el" href="iot__pkcs11__mbedtls_8c.html#aeae51e6092fa8c8a58e022fcd8366c45" title="Initializes a verification operation.">C_VerifyInit()</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#a4e5f5ad0a6c7c6083ad3d780cc6d5529" title="Verifies a signature on single-part data.">C_Verify()</a> parameters are shared by a session. Calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#aeae51e6092fa8c8a58e022fcd8366c45" title="Initializes a verification operation.">C_VerifyInit()</a> &amp; <a class="el" href="iot__pkcs11__mbedtls_8c.html#a4e5f5ad0a6c7c6083ad3d780cc6d5529" title="Verifies a signature on single-part data.">C_Verify()</a> with the same session across different tasks may lead to unexpected results.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pMechanism</td><td>Mechanism used to verify signature. This port supports the following mechanisms:<ul>
<li>CKM_RSA_X_509 for RSA verifications</li>
<li>CKM_ECDSA for elliptic curve verifications </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hKey</td><td>The handle of the public key to be used for verification. Key must be compatible with the mechanism chosen by pxMechanism.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="a4e5f5ad0a6c7c6083ad3d780cc6d5529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e5f5ad0a6c7c6083ad3d780cc6d5529">&#9670;&nbsp;</a></span>C_Verify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_Verify </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_BYTE_PTR&#160;</td>
          <td class="paramname"><em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulDataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_BYTE_PTR&#160;</td>
          <td class="paramname"><em>pSignature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulSignatureLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verifies a signature on single-part data. </p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="iot__pkcs11__mbedtls_8c.html#aeae51e6092fa8c8a58e022fcd8366c45" title="Initializes a verification operation.">C_VerifyInit()</a> must have been called previously.</dd>
<dd>
<a class="el" href="iot__pkcs11__mbedtls_8c.html#a4e5f5ad0a6c7c6083ad3d780cc6d5529" title="Verifies a signature on single-part data.">C_Verify()</a> parameters are shared by a session. Calling <a class="el" href="iot__pkcs11__mbedtls_8c.html#aeae51e6092fa8c8a58e022fcd8366c45" title="Initializes a verification operation.">C_VerifyInit()</a> &amp; <a class="el" href="iot__pkcs11__mbedtls_8c.html#a4e5f5ad0a6c7c6083ad3d780cc6d5529" title="Verifies a signature on single-part data.">C_Verify()</a> with the same session across different tasks may lead to unexpected results.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pData</td><td>Data who's signature is to be verified. Note: In this implementation, this is generally expected to be the hash of the data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulDataLen</td><td>Length of pucData. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pSignature</td><td>The signature to be verified. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulSignatureLen</td><td>Length of pucSignature in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="af6ce5a8dfa0d3de7a17807a079f6bf88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6ce5a8dfa0d3de7a17807a079f6bf88">&#9670;&nbsp;</a></span>prvCheckGenerateKeyPairPrivateTemplate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CK_RV prvCheckGenerateKeyPairPrivateTemplate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> **&#160;</td>
          <td class="paramname"><em>ppxLabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *&#160;</td>
          <td class="paramname"><em>pxAttribute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pulAttributeMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks that the private key template provided for C_GenerateKeyPair contains all necessary attributes, and does not contain any invalid attributes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ppxLabel</td><td>Pointer to PKCS #11 label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxTemplate</td><td>PKCS #11 templates to search. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pulAttributeMap</td><td>Flag to track whether all required attribute are in the key generation template. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. </dd></dl>

</div>
</div>
<a id="ab49218b2f2a55fe7a50f8f472d42058f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab49218b2f2a55fe7a50f8f472d42058f">&#9670;&nbsp;</a></span>prvCheckGenerateKeyPairPublicTemplate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static CK_RV prvCheckGenerateKeyPairPublicTemplate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> **&#160;</td>
          <td class="paramname"><em>ppxLabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_k___a_t_t_r_i_b_u_t_e.html">CK_ATTRIBUTE</a> *&#160;</td>
          <td class="paramname"><em>pxAttribute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pulAttributeMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks that the public key template provided for C_GenerateKeyPair contains all necessary attributes, and does not contain any invalid attributes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ppxLabel</td><td>Pointer to PKCS #11 label. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pxTemplate</td><td>PKCS #11 templates to search. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pulAttributeMap</td><td>Flag to track whether all required attribute are in the key generation template.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. </dd></dl>

</div>
</div>
<a id="a802a061224966a5523beb1ea0a9d9c27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a802a061224966a5523beb1ea0a9d9c27">&#9670;&nbsp;</a></span>C_GenerateKeyPair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_GenerateKeyPair </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_MECHANISM_PTR&#160;</td>
          <td class="paramname"><em>pMechanism</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ATTRIBUTE_PTR&#160;</td>
          <td class="paramname"><em>pPublicKeyTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulPublicKeyAttributeCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ATTRIBUTE_PTR&#160;</td>
          <td class="paramname"><em>pPrivateKeyTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulPrivateKeyAttributeCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>phPublicKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_OBJECT_HANDLE_PTR&#160;</td>
          <td class="paramname"><em>phPrivateKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a public-key/private-key pair. </p>
<p>This port only supports generating elliptic curve P-256 key pairs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pMechanism</td><td>Pointer to a mechanism. At this time, CKM_EC_KEY_PAIR_GEN is the only supported mechanism. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pPublicKeyTemplate</td><td>Pointer to a list of attributes that the generated public key should possess. Public key template must have the following attributes:<ul>
<li>CKA_LABEL<ul>
<li>Label should be no longer than pkcs11configMAX_LABEL_LENGTH and must be supported by port's PKCS #11 PAL.</li>
</ul>
</li>
<li>CKA_EC_PARAMS<ul>
<li>Must equal pkcs11DER_ENCODED_OID_P256. Only P-256 keys are supported.</li>
</ul>
</li>
<li>CKA_VERIFY<ul>
<li>Must be set to true. Only public keys used for verification are supported. Public key templates may have the following attributes:</li>
</ul>
</li>
<li>CKA_KEY_TYPE<ul>
<li>Must be set to CKK_EC. Only elliptic curve key generation is supported.</li>
</ul>
</li>
<li>CKA_TOKEN<ul>
<li>Must be set to CK_TRUE. </li>
</ul>
</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulPublicKeyAttributeCount</td><td>Number of attributes in pPublicKeyTemplate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pPrivateKeyTemplate</td><td>Pointer to a list of attributes that the generated private key should possess. Private key template must have the following attributes:<ul>
<li>CKA_LABEL<ul>
<li>Label should be no longer than pkcs11configMAX_LABEL_LENGTH and must be supported by port's PKCS #11 PAL.</li>
</ul>
</li>
<li>CKA_PRIVATE<ul>
<li>Must be set to true.</li>
</ul>
</li>
<li>CKA_SIGN<ul>
<li>Must be set to true. Only private keys used for signing are supported. Private key template may have the following attributes:</li>
</ul>
</li>
<li>CKA_KEY_TYPE<ul>
<li>Must be set to CKK_EC. Only elliptic curve key generation is supported.</li>
</ul>
</li>
<li>CKA_TOKEN<ul>
<li>Must be set to CK_TRUE.</li>
</ul>
</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulPrivateKeyAttributeCount</td><td>Number of attributes in pPrivateKeyTemplate. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">phPublicKey</td><td>Pointer to the handle of the public key to be created. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">phPrivateKey</td><td>Pointer to the handle of the private key to be created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Not all attributes specified by the PKCS #11 standard are supported. </dd>
<dd>
CKA_LOCAL attribute is not supported.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
<a id="a54a883eb1608be800f7fbd204665d50d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54a883eb1608be800f7fbd204665d50d">&#9670;&nbsp;</a></span>C_GenerateRandom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CK_RV C_GenerateRandom </td>
          <td>(</td>
          <td class="paramtype">CK_SESSION_HANDLE&#160;</td>
          <td class="paramname"><em>hSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_BYTE_PTR&#160;</td>
          <td class="paramname"><em>RandomData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CK_ULONG&#160;</td>
          <td class="paramname"><em>ulRandomLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates random data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">RandomData</td><td>Pointer to location that random data will be placed. It is the responsiblity of the application to allocate this memory. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulRandomLen</td><td>Length of data (in bytes) to be generated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aiot__pkcs11__mbedtls_8c_html_ac3215d33b1ac379cd57b6458609de535"><div class="ttname"><a href="iot__pkcs11__mbedtls_8c.html#ac3215d33b1ac379cd57b6458609de535">pNoLowLevelMbedTlsCodeStr</a></div><div class="ttdeci">static const char * pNoLowLevelMbedTlsCodeStr</div><div class="ttdoc">Represents string to be logged when mbedTLS returned error does not contain a low-level code.</div><div class="ttdef"><b>Definition:</b> iot_pkcs11_mbedtls.c:80</div></div>
<div class="ttc" id="aiot__pkcs11__mbedtls_8c_html_ac80d2c725e8e5238f649a2ed75e67c30"><div class="ttname"><a href="iot__pkcs11__mbedtls_8c.html#ac80d2c725e8e5238f649a2ed75e67c30">pNoHighLevelMbedTlsCodeStr</a></div><div class="ttdeci">static const char * pNoHighLevelMbedTlsCodeStr</div><div class="ttdoc">Represents string to be logged when mbedTLS returned error does not contain a high-level code.</div><div class="ttdef"><b>Definition:</b> iot_pkcs11_mbedtls.c:74</div></div>
<!-- This file provides the custom footer for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Generated by
      <a href="http://www.doxygen.org/index.html">
      <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20
    </li>
    <li class="footer">
      Last updated Wed Apr 21 2021
    </li>
    <li class="footer" style="float:left">
    </li>
  </ul>
</div>
</body>
</html>