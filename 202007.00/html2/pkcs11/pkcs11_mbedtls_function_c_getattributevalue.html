<!-- This file provides the custom header for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.20"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>
        PKCS11: C_GetAttributeValue
    </title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="foobar.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
    <tbody>
        <tr style="height: 56px;">
            <td id="projectalign" style="padding-left: 0.5em;">
                <div id="projectname">
                    <span id="afrprefix">FreeRTOS:</span>
                    PKCS11
                </div>
                <div id="projectbrief">
                    PKCS11 Cryptoki Library
                </div>
            </td>
        </tr>
        <tr>
            <td id="returntomain">
                <a href="../main/index.html">Return to main page &uarr;</a>
            </td>
        </tr>
    </tbody>
    </table>
    </div>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<!-- end header part --><!-- Generated by Doxygen 1.8.20 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('pkcs11_mbedtls_function_c_getattributevalue.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">C_GetAttributeValue </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Obtains an attribute value of an object.</p>
<div class="fragment"><div class="line"><a class="code" href="iot__pkcs11_8h.html#a30315d302108bcfb354196f37b16a492">CK_DECLARE_FUNCTION</a>( CK_RV, <a class="code" href="iot__pkcs11__mbedtls_8c.html#aaad61dc7b2313286bdd049676ef0fd70">C_GetAttributeValue</a> )( CK_SESSION_HANDLE hSession,</div>
<div class="line">                                                   CK_OBJECT_HANDLE hObject,</div>
<div class="line">                                                   CK_ATTRIBUTE_PTR pTemplate,</div>
<div class="line">                                                   CK_ULONG ulCount )</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* See explanation in prvCheckValidSessionAndModule for this exception. */</span></div>
<div class="line">    <span class="comment">/* coverity[misra_c_2012_rule_10_5_violation] */</span></div>
<div class="line">    CK_BBOOL xIsPrivate = ( CK_BBOOL ) CK_TRUE;</div>
<div class="line">    CK_ULONG iAttrib;</div>
<div class="line">    mbedtls_pk_context xKeyContext = { 0 };</div>
<div class="line">    mbedtls_pk_type_t xKeyType;</div>
<div class="line">    <span class="keyword">const</span> mbedtls_ecp_keypair * pxKeyPair;</div>
<div class="line">    CK_KEY_TYPE xPkcsKeyType = ( CK_KEY_TYPE ) ~0UL;</div>
<div class="line">    CK_OBJECT_CLASS xClass;</div>
<div class="line">    CK_BYTE_PTR pxObjectValue = NULL;</div>
<div class="line">    CK_ULONG ulLength = 0;</div>
<div class="line">    <span class="keyword">const</span> CK_BYTE ucP256Oid[] = <a class="code" href="iot__pkcs11_8h.html#a61aab65f40f1865cfcdbb66aab3c9ffa">pkcs11DER_ENCODED_OID_P256</a>;</div>
<div class="line">    int32_t lMbedTLSResult = 0;</div>
<div class="line">    CK_OBJECT_HANDLE xPalHandle = CK_INVALID_HANDLE;</div>
<div class="line">    CK_ULONG xSize = 0;</div>
<div class="line">    <span class="keywordtype">size_t</span> xMbedSize = 0;</div>
<div class="line">    CK_BYTE_PTR pcLabel = NULL;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> <a class="code" href="struct_p11_session__t.html">P11Session_t</a> * pxSession = <a class="code" href="iot__pkcs11__mbedtls_8c.html#a8a3079aa3ce5d51bb787a3e661714ef0">prvSessionPointerFromHandle</a>( hSession );</div>
<div class="line">    CK_RV xResult = <a class="code" href="iot__pkcs11__mbedtls_8c.html#ab93c9263b9b89774e57eee9e8ac708a8">prvCheckValidSessionAndModule</a>( pxSession );</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( ( CKR_OK == xResult ) &amp;&amp; ( ( ( NULL == pTemplate ) ) || ( 0UL == ulCount ) ) )</div>
<div class="line">    {</div>
<div class="line">        xResult = CKR_ARGUMENTS_BAD;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( ( CKR_OK == xResult ) &amp;&amp; ( CK_INVALID_HANDLE == hObject ) )</div>
<div class="line">    {</div>
<div class="line">        xResult = CKR_OBJECT_HANDLE_INVALID;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( xResult == CKR_OK )</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/*</span></div>
<div class="line"><span class="comment">         * Copy the object into a buffer.</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line"> </div>
<div class="line">        <a class="code" href="iot__pkcs11__mbedtls_8c.html#aadf1ee4b99279af65de44082fbd4de52">prvFindObjectInListByHandle</a>( hObject, &amp;xPalHandle, &amp;pcLabel, &amp;xSize ); <span class="comment">/*pcLabel and xSize are ignored. */</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>( xPalHandle != CK_INVALID_HANDLE )</div>
<div class="line">        {</div>
<div class="line">            xResult = <a class="code" href="iot__pkcs11__pal_8h.html#a5f9deac2fdf2dc0ac52e87f95d3d6fb6">PKCS11_PAL_GetObjectValue</a>( xPalHandle, &amp;pxObjectValue, &amp;ulLength, &amp;xIsPrivate );</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            xResult = CKR_OBJECT_HANDLE_INVALID;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Determine what kind of object we are dealing with. */</span></div>
<div class="line">    <span class="keywordflow">if</span>( xResult == CKR_OK )</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* Is it a key? */</span></div>
<div class="line">        mbedtls_pk_init( &amp;xKeyContext );</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span>( 0 == mbedtls_pk_parse_key( &amp;xKeyContext, pxObjectValue, ulLength, NULL, 0 ) )</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">/* See explanation in prvCheckValidSessionAndModule for this exception. */</span></div>
<div class="line">            <span class="comment">/* coverity[misra_c_2012_rule_10_5_violation] */</span></div>
<div class="line">            <span class="keywordflow">if</span>( xIsPrivate == ( CK_BBOOL ) CK_TRUE )</div>
<div class="line">            {</div>
<div class="line">                xClass = CKO_PRIVATE_KEY;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                xClass = CKO_PUBLIC_KEY;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( 0 == mbedtls_pk_parse_public_key( &amp;xKeyContext, pxObjectValue, ulLength ) )</div>
<div class="line">        {</div>
<div class="line">            xClass = CKO_PUBLIC_KEY;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">/* TODO: Do we want to safety parse the cert?</span></div>
<div class="line"><span class="comment">             * Assume certificate. */</span></div>
<div class="line">            xClass = CKO_CERTIFICATE;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>( xResult == CKR_OK )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">for</span>( iAttrib = 0; iAttrib &lt; ulCount; iAttrib++ )</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span>( xResult != CKR_OK )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">switch</span>( pTemplate[ iAttrib ].type )</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">case</span> CKA_CLASS:</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span>( pTemplate[ iAttrib ].pValue == NULL )</div>
<div class="line">                    {</div>
<div class="line">                        pTemplate[ iAttrib ].ulValueLen = <span class="keyword">sizeof</span>( CK_OBJECT_CLASS );</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">if</span>( pTemplate[ iAttrib ].ulValueLen &gt;= <span class="keyword">sizeof</span>( CK_OBJECT_CLASS ) )</div>
<div class="line">                        {</div>
<div class="line">                            ( void ) memcpy( pTemplate[ iAttrib ].pValue, &amp;xClass, <span class="keyword">sizeof</span>( CK_OBJECT_CLASS ) );</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                        {</div>
<div class="line">                            xResult = CKR_BUFFER_TOO_SMALL;</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> CKA_VALUE:</div>
<div class="line"> </div>
<div class="line">                    <span class="comment">/* See explanation in prvCheckValidSessionAndModule for this exception. */</span></div>
<div class="line">                    <span class="comment">/* coverity[misra_c_2012_rule_10_5_violation] */</span></div>
<div class="line">                    <span class="keywordflow">if</span>( xIsPrivate == ( CK_BBOOL ) CK_TRUE )</div>
<div class="line">                    {</div>
<div class="line">                        pTemplate[ iAttrib ].ulValueLen = CK_UNAVAILABLE_INFORMATION;</div>
<div class="line">                        xResult = CKR_ATTRIBUTE_SENSITIVE;</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">if</span>( pTemplate[ iAttrib ].pValue == NULL )</div>
<div class="line">                        {</div>
<div class="line">                            pTemplate[ iAttrib ].ulValueLen = ulLength;</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pTemplate[ iAttrib ].ulValueLen &lt; ulLength )</div>
<div class="line">                        {</div>
<div class="line">                            xResult = CKR_BUFFER_TOO_SMALL;</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                        {</div>
<div class="line">                            ( void ) memcpy( pTemplate[ iAttrib ].pValue, pxObjectValue, ulLength );</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> CKA_KEY_TYPE:</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span>( pTemplate[ iAttrib ].pValue == NULL )</div>
<div class="line">                    {</div>
<div class="line">                        pTemplate[ iAttrib ].ulValueLen = <span class="keyword">sizeof</span>( CK_KEY_TYPE );</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( pTemplate[ iAttrib ].ulValueLen &lt; <span class="keyword">sizeof</span>( CK_KEY_TYPE ) )</div>
<div class="line">                    {</div>
<div class="line">                        xResult = CKR_BUFFER_TOO_SMALL;</div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line">                        xKeyType = mbedtls_pk_get_type( &amp;xKeyContext );</div>
<div class="line"> </div>
<div class="line">                        <span class="keywordflow">switch</span>( xKeyType )</div>
<div class="line">                        {</div>
<div class="line">                            <span class="keywordflow">case</span> MBEDTLS_PK_RSA:</div>
<div class="line">                            <span class="keywordflow">case</span> MBEDTLS_PK_RSA_ALT:</div>
<div class="line">                            <span class="keywordflow">case</span> MBEDTLS_PK_RSASSA_PSS:</div>
<div class="line">                                xPkcsKeyType = CKK_RSA;</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                            <span class="keywordflow">case</span> MBEDTLS_PK_ECKEY:</div>
<div class="line">                            <span class="keywordflow">case</span> MBEDTLS_PK_ECKEY_DH:</div>
<div class="line">                                xPkcsKeyType = CKK_EC;</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                            <span class="keywordflow">case</span> MBEDTLS_PK_ECDSA:</div>
<div class="line">                                xPkcsKeyType = CKK_ECDSA;</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                            <span class="keywordflow">default</span>:</div>
<div class="line">                                xResult = CKR_ATTRIBUTE_VALUE_INVALID;</div>
<div class="line">                                <span class="keywordflow">break</span>;</div>
<div class="line">                        }</div>
<div class="line"> </div>
<div class="line">                        ( void ) memcpy( pTemplate[ iAttrib ].pValue, &amp;xPkcsKeyType, <span class="keyword">sizeof</span>( CK_KEY_TYPE ) );</div>
<div class="line">                    }</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> CKA_PRIVATE_EXPONENT:</div>
<div class="line"> </div>
<div class="line">                    xResult = CKR_ATTRIBUTE_SENSITIVE;</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> CKA_EC_PARAMS:</div>
<div class="line"> </div>
<div class="line">                    <span class="comment">/* TODO: Add check that is key, is ec key. */</span></div>
<div class="line"> </div>
<div class="line">                    pTemplate[ iAttrib ].ulValueLen = <span class="keyword">sizeof</span>( ucP256Oid );</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span>( pTemplate[ iAttrib ].pValue != NULL )</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">if</span>( pTemplate[ iAttrib ].ulValueLen &lt; <span class="keyword">sizeof</span>( ucP256Oid ) )</div>
<div class="line">                        {</div>
<div class="line">                            xResult = CKR_BUFFER_TOO_SMALL;</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                        {</div>
<div class="line">                            ( void ) memcpy( pTemplate[ iAttrib ].pValue, ucP256Oid, <span class="keyword">sizeof</span>( ucP256Oid ) );</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> CKA_EC_POINT:</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">if</span>( pTemplate[ iAttrib ].pValue == NULL )</div>
<div class="line">                    {</div>
<div class="line">                        pTemplate[ iAttrib ].ulValueLen = 67; <span class="comment">/* TODO: Is this large enough?*/</span></div>
<div class="line">                    }</div>
<div class="line">                    <span class="keywordflow">else</span></div>
<div class="line">                    {</div>
<div class="line">                        pxKeyPair = ( mbedtls_ecp_keypair * ) xKeyContext.pk_ctx;</div>
<div class="line">                        *( ( uint8_t * ) pTemplate[ iAttrib ].pValue ) = 0x04; <span class="comment">/* Mark the point as uncompressed. */</span></div>
<div class="line"> </div>
<div class="line">                        <span class="comment">/* Copy xSize value to avoid casting a CK_ULONG size pointer</span></div>
<div class="line"><span class="comment">                         * to a size_t sized pointer. */</span></div>
<div class="line">                        xMbedSize = xSize;</div>
<div class="line">                        lMbedTLSResult = mbedtls_ecp_tls_write_point( &amp;pxKeyPair-&gt;grp,</div>
<div class="line">                                                                      &amp;pxKeyPair-&gt;Q,</div>
<div class="line">                                                                      MBEDTLS_ECP_PF_UNCOMPRESSED,</div>
<div class="line">                                                                      &amp;xMbedSize,</div>
<div class="line">                                                                      ( uint8_t * ) pTemplate[ iAttrib ].pValue + 1,</div>
<div class="line">                                                                      pTemplate[ iAttrib ].ulValueLen - 1UL );</div>
<div class="line">                        xSize = xMbedSize;</div>
<div class="line"> </div>
<div class="line">                        <span class="keywordflow">if</span>( lMbedTLSResult &lt; 0 )</div>
<div class="line">                        {</div>
<div class="line">                            <span class="keywordflow">if</span>( lMbedTLSResult == MBEDTLS_ERR_ECP_BUFFER_TOO_SMALL )</div>
<div class="line">                            {</div>
<div class="line">                                xResult = CKR_BUFFER_TOO_SMALL;</div>
<div class="line">                            }</div>
<div class="line">                            <span class="keywordflow">else</span></div>
<div class="line">                            {</div>
<div class="line">                                xResult = CKR_FUNCTION_FAILED;</div>
<div class="line">                            }</div>
<div class="line">                        }</div>
<div class="line">                        <span class="keywordflow">else</span></div>
<div class="line">                        {</div>
<div class="line">                            pTemplate[ iAttrib ].ulValueLen = xSize + 1UL;</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                    xResult = CKR_ATTRIBUTE_TYPE_INVALID;</div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Free the buffer where object was stored. */</span></div>
<div class="line">        <a class="code" href="iot__pkcs11__pal_8h.html#a62b94691f4534e5328eb88362244e308">PKCS11_PAL_GetObjectValueCleanup</a>( pxObjectValue, ulLength );</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Free the mbedTLS structure used to parse the key. */</span></div>
<div class="line">        mbedtls_pk_free( &amp;xKeyContext );</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> xResult;</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hSession</td><td>Handle of a valid PKCS #11 session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hObject</td><td>PKCS #11 object handle to be queried. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pTemplate</td><td>Attribute template. pxTemplate.pValue should be set to the attribute to be queried. pxTemplate.ulValueLen should be set to the length of the buffer allocated at pxTemplate.pValue, and will be updated to contain the actual length of the data copied. pxTemplate.pValue should be set to point to a buffer to receive the attribute value data. If parameter length is unknown, pxTemplate.pValue may be set to NULL, and this function will set the required buffer length in pxTemplate.ulValueLen. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ulCount</td><td>The number of attributes in the template.</td></tr>
  </table>
  </dd>
</dl>
<table class="doxtable">
<tr>
<th>Object Type </th><th>Queryable Attributes </th></tr>
<tr>
<td rowspan="2">Certificate</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_VALUE </td></tr>
<tr>
<td rowspan="3">EC Private Key</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_KEY_TYPE </td></tr>
<tr>
<td>CKA_EC_PARAMS </td></tr>
<tr>
<td rowspan="4">EC Public Key</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_KEY_TYPE </td></tr>
<tr>
<td>CKA_EC_PARAMS </td></tr>
<tr>
<td>CKA_EC_POINT </td></tr>
<tr>
<td rowspan="2">RSA Private Key</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_KEY_TYPE </td></tr>
<tr>
<td rowspan="2">RSA Public Key</td><td>CKA_CLASS </td></tr>
<tr>
<td>CKA_KEY_TYPE </td></tr>
</table>
<dl class="section return"><dt>Returns</dt><dd>CKR_OK if successful. Else, see <a href="https://tiny.amazon.com/wtscrttv">PKCS #11 specification</a> for more information. </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="aiot__pkcs11_8h_html_a30315d302108bcfb354196f37b16a492"><div class="ttname"><a href="iot__pkcs11_8h.html#a30315d302108bcfb354196f37b16a492">CK_DECLARE_FUNCTION</a></div><div class="ttdeci">#define CK_DECLARE_FUNCTION(returnType, name)</div><div class="ttdoc">Macro for defining a PKCS #11 functions.</div><div class="ttdef"><b>Definition:</b> iot_pkcs11.h:66</div></div>
<div class="ttc" id="aiot__pkcs11__mbedtls_8c_html_aadf1ee4b99279af65de44082fbd4de52"><div class="ttname"><a href="iot__pkcs11__mbedtls_8c.html#aadf1ee4b99279af65de44082fbd4de52">prvFindObjectInListByHandle</a></div><div class="ttdeci">static void prvFindObjectInListByHandle(CK_OBJECT_HANDLE xAppHandle, CK_OBJECT_HANDLE_PTR pxPalHandle, CK_BYTE_PTR *ppcLabel, CK_ULONG_PTR pxLabelLength)</div><div class="ttdoc">Looks up a PKCS #11 object's label and PAL handle given an application handle.</div><div class="ttdef"><b>Definition:</b> iot_pkcs11_mbedtls.c:956</div></div>
<div class="ttc" id="aiot__pkcs11__mbedtls_8c_html_a8a3079aa3ce5d51bb787a3e661714ef0"><div class="ttname"><a href="iot__pkcs11__mbedtls_8c.html#a8a3079aa3ce5d51bb787a3e661714ef0">prvSessionPointerFromHandle</a></div><div class="ttdeci">static P11Session_t * prvSessionPointerFromHandle(CK_SESSION_HANDLE xSession)</div><div class="ttdoc">Maps an opaque caller session handle into its internal state structure.</div><div class="ttdef"><b>Definition:</b> iot_pkcs11_mbedtls.c:287</div></div>
<div class="ttc" id="aiot__pkcs11__pal_8h_html_a62b94691f4534e5328eb88362244e308"><div class="ttname"><a href="iot__pkcs11__pal_8h.html#a62b94691f4534e5328eb88362244e308">PKCS11_PAL_GetObjectValueCleanup</a></div><div class="ttdeci">void PKCS11_PAL_GetObjectValueCleanup(CK_BYTE_PTR pucData, CK_ULONG ulDataSize)</div><div class="ttdoc">Cleanup after PKCS11_GetObjectValue().</div></div>
<div class="ttc" id="aiot__pkcs11__mbedtls_8c_html_ab93c9263b9b89774e57eee9e8ac708a8"><div class="ttname"><a href="iot__pkcs11__mbedtls_8c.html#ab93c9263b9b89774e57eee9e8ac708a8">prvCheckValidSessionAndModule</a></div><div class="ttdeci">static CK_RV prvCheckValidSessionAndModule(const P11Session_t *pxSession)</div><div class="ttdoc">Helper to check if the current session is initialized and valid.</div><div class="ttdef"><b>Definition:</b> iot_pkcs11_mbedtls.c:248</div></div>
<div class="ttc" id="aiot__pkcs11_8h_html_a61aab65f40f1865cfcdbb66aab3c9ffa"><div class="ttname"><a href="iot__pkcs11_8h.html#a61aab65f40f1865cfcdbb66aab3c9ffa">pkcs11DER_ENCODED_OID_P256</a></div><div class="ttdeci">#define pkcs11DER_ENCODED_OID_P256</div><div class="ttdoc">OID for curve P-256.</div><div class="ttdef"><b>Definition:</b> iot_pkcs11.h:135</div></div>
<div class="ttc" id="aiot__pkcs11__pal_8h_html_a5f9deac2fdf2dc0ac52e87f95d3d6fb6"><div class="ttname"><a href="iot__pkcs11__pal_8h.html#a5f9deac2fdf2dc0ac52e87f95d3d6fb6">PKCS11_PAL_GetObjectValue</a></div><div class="ttdeci">CK_RV PKCS11_PAL_GetObjectValue(CK_OBJECT_HANDLE xHandle, CK_BYTE_PTR *ppucData, CK_ULONG_PTR pulDataSize, CK_BBOOL *pIsPrivate)</div><div class="ttdoc">Gets the value of an object in storage, by handle.</div></div>
<div class="ttc" id="astruct_p11_session__t_html"><div class="ttname"><a href="struct_p11_session__t.html">P11Session_t</a></div><div class="ttdoc">Session structure.</div><div class="ttdef"><b>Definition:</b> iot_pkcs11_mbedtls.c:217</div></div>
<div class="ttc" id="aiot__pkcs11__mbedtls_8c_html_aaad61dc7b2313286bdd049676ef0fd70"><div class="ttname"><a href="iot__pkcs11__mbedtls_8c.html#aaad61dc7b2313286bdd049676ef0fd70">C_GetAttributeValue</a></div><div class="ttdeci">CK_RV C_GetAttributeValue(CK_SESSION_HANDLE hSession, CK_OBJECT_HANDLE hObject, CK_ATTRIBUTE_PTR pTemplate, CK_ULONG ulCount)</div><div class="ttdoc">Obtains an attribute value of an object.</div><div class="ttdef"><b>Definition:</b> iot_pkcs11_mbedtls.c:2566</div></div>
<!-- This file provides the custom footer for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Generated by
      <a href="http://www.doxygen.org/index.html">
      <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20
    </li>
    <li class="footer">
      Last updated Wed Apr 21 2021
    </li>
    <li class="footer" style="float:left">
    </li>
  </ul>
</div>
</body>
</html>