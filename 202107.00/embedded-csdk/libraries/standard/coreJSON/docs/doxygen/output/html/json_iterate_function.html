<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>coreJSON: JSON_Iterate</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="foobar.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">coreJSON<span id="projectnumber">&#160;v3.0.0</span>
   </div>
   <div id="projectbrief">Parser library for the ECMA-404 JSON standard</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('json_iterate_function.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">JSON_Iterate </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >Output the next key-value pair or value from a collection.</p>
<div class="fragment"><div class="line"><a class="code" href="group__json__enum__types.html#ga2b720193877345b237518677216f00a0">JSONStatus_t</a> <a class="code" href="core__json_8c.html#aabbdd89124648df7b21e4f7215cd23dd">JSON_Iterate</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> * buf,</div>
<div class="line">                           <span class="keywordtype">size_t</span> max,</div>
<div class="line">                           <span class="keywordtype">size_t</span> * start,</div>
<div class="line">                           <span class="keywordtype">size_t</span> * next,</div>
<div class="line">                           <a class="code" href="struct_j_s_o_n_pair__t.html">JSONPair_t</a> * outPair );</div>
<div class="ttc" id="acore__json_8c_html_aabbdd89124648df7b21e4f7215cd23dd"><div class="ttname"><a href="core__json_8c.html#aabbdd89124648df7b21e4f7215cd23dd">JSON_Iterate</a></div><div class="ttdeci">JSONStatus_t JSON_Iterate(const char *buf, size_t max, size_t *start, size_t *next, JSONPair_t *outPair)</div><div class="ttdoc">Output the next key-value pair or value from a collection.</div><div class="ttdef"><b>Definition:</b> core_json.c:1755</div></div>
<div class="ttc" id="agroup__json__enum__types_html_ga2b720193877345b237518677216f00a0"><div class="ttname"><a href="group__json__enum__types.html#ga2b720193877345b237518677216f00a0">JSONStatus_t</a></div><div class="ttdeci">JSONStatus_t</div><div class="ttdoc">Return codes from coreJSON library functions.</div><div class="ttdef"><b>Definition:</b> core_json.h:39</div></div>
<div class="ttc" id="astruct_j_s_o_n_pair__t_html"><div class="ttname"><a href="struct_j_s_o_n_pair__t.html">JSONPair_t</a></div><div class="ttdoc">Structure to represent a key-value pair.</div><div class="ttdef"><b>Definition:</b> core_json.h:241</div></div>
</div><!-- fragment --><p> This function may be used in a loop to output each key-value pair from an object, or each value from an array. For the first invocation, the integers pointed to by start and next should be initialized to 0. These will be updated by the function. If another key-value pair or value is present, the output structure is populated and <a class="el" href="group__json__enum__types.html#gga2b720193877345b237518677216f00a0a6b579c45491843ff8dbc535fb17a0402" title="JSON document is valid and complete.">JSONSuccess</a> is returned; otherwise the structure is unchanged and <a class="el" href="group__json__enum__types.html#gga2b720193877345b237518677216f00a0a2f53f1dedfe8a356102000360cab5c4d" title="Query key could not be found in the JSON document.">JSONNotFound</a> is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>The buffer to search. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>size of the buffer. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">start</td><td>The index at which the collection begins. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">next</td><td>The index at which to seek the next value. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outPair</td><td>A pointer to receive the next key-value pair.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function expects a valid JSON document; run <a class="el" href="core__json_8c.html#af4eb1eb1e2a2563abd0d5404b04aa9ff" title="Parse a buffer to determine if it contains a valid JSON document.">JSON_Validate()</a> first.</dd>
<dd>
For an object, the outPair structure will reference a key and its value. For an array, only the value will be referenced (i.e., outPair.key will be NULL).</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__json__enum__types.html#gga2b720193877345b237518677216f00a0a6b579c45491843ff8dbc535fb17a0402" title="JSON document is valid and complete.">JSONSuccess</a> if a value is output; <a class="el" href="group__json__enum__types.html#gga2b720193877345b237518677216f00a0a5a11baf84e1d3a36dd78c3e87b420d4b" title="JSON document is invalid or malformed.">JSONIllegalDocument</a> if the buffer does not contain a collection; <a class="el" href="group__json__enum__types.html#gga2b720193877345b237518677216f00a0a2f53f1dedfe8a356102000360cab5c4d" title="Query key could not be found in the JSON document.">JSONNotFound</a> if there are no further values in the collection.</dd></dl>
<p><b>Example</b> </p><div class="fragment"><div class="line"><span class="comment">// Variables used in this example.</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">char</span> * json_types[] =</div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;invalid&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;string&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;number&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;true&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;false&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;null&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;object&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;array&quot;</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> show( <span class="keyword">const</span> <span class="keywordtype">char</span> * json,</div>
<div class="line">           <span class="keywordtype">size_t</span> length )</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> start = 0, next = 0;</div>
<div class="line">    <a class="code" href="struct_j_s_o_n_pair__t.html">JSONPair_t</a> pair = { 0 };</div>
<div class="line">    <a class="code" href="group__json__enum__types.html#ga2b720193877345b237518677216f00a0">JSONStatus_t</a> result;</div>
<div class="line"> </div>
<div class="line">    result = <a class="code" href="core__json_8c.html#af4eb1eb1e2a2563abd0d5404b04aa9ff">JSON_Validate</a>( json, length );</div>
<div class="line">    <span class="keywordflow">if</span>( result == <a class="code" href="group__json__enum__types.html#gga2b720193877345b237518677216f00a0a6b579c45491843ff8dbc535fb17a0402">JSONSuccess</a> )</div>
<div class="line">    {</div>
<div class="line">        result = <a class="code" href="core__json_8c.html#aabbdd89124648df7b21e4f7215cd23dd">JSON_Iterate</a>( json, length, &amp;start, &amp;next, &amp;pair );</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span>( result == <a class="code" href="group__json__enum__types.html#gga2b720193877345b237518677216f00a0a6b579c45491843ff8dbc535fb17a0402">JSONSuccess</a> )</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span>( pair.<a class="code" href="struct_j_s_o_n_pair__t.html#ae1b11b39a8e57ab6880bc69346bebb37">key</a> != NULL )</div>
<div class="line">        {</div>
<div class="line">            printf( <span class="stringliteral">&quot;key: %.*s\t&quot;</span>, ( <span class="keywordtype">int</span> ) pair.<a class="code" href="struct_j_s_o_n_pair__t.html#a86253f1a1ac1478a39cf60063b189d5b">keyLength</a>, pair.<a class="code" href="struct_j_s_o_n_pair__t.html#ae1b11b39a8e57ab6880bc69346bebb37">key</a> );</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        printf( <span class="stringliteral">&quot;value: (%s) %.*s\n&quot;</span>, json_types[ pair.<a class="code" href="struct_j_s_o_n_pair__t.html#a9573fc5ea1fa08c78490b28e4bbef588">jsonType</a> ],</div>
<div class="line">                ( <span class="keywordtype">int</span> ) pair.<a class="code" href="struct_j_s_o_n_pair__t.html#abb0c5909612fb388fbdd662d8b9b486a">valueLength</a>, pair.<a class="code" href="struct_j_s_o_n_pair__t.html#a29f8e22baab1b7ae15cc649437fb0fb4">value</a> );</div>
<div class="line"> </div>
<div class="line">        result = <a class="code" href="core__json_8c.html#aabbdd89124648df7b21e4f7215cd23dd">JSON_Iterate</a>( json, length, &amp;start, &amp;next, &amp;pair );</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="acore__json_8c_html_af4eb1eb1e2a2563abd0d5404b04aa9ff"><div class="ttname"><a href="core__json_8c.html#af4eb1eb1e2a2563abd0d5404b04aa9ff">JSON_Validate</a></div><div class="ttdeci">JSONStatus_t JSON_Validate(const char *buf, size_t max)</div><div class="ttdoc">Parse a buffer to determine if it contains a valid JSON document.</div><div class="ttdef"><b>Definition:</b> core_json.c:1118</div></div>
<div class="ttc" id="agroup__json__enum__types_html_gga2b720193877345b237518677216f00a0a6b579c45491843ff8dbc535fb17a0402"><div class="ttname"><a href="group__json__enum__types.html#gga2b720193877345b237518677216f00a0a6b579c45491843ff8dbc535fb17a0402">JSONSuccess</a></div><div class="ttdeci">@ JSONSuccess</div><div class="ttdoc">JSON document is valid and complete.</div><div class="ttdef"><b>Definition:</b> core_json.h:41</div></div>
<div class="ttc" id="astruct_j_s_o_n_pair__t_html_a29f8e22baab1b7ae15cc649437fb0fb4"><div class="ttname"><a href="struct_j_s_o_n_pair__t.html#a29f8e22baab1b7ae15cc649437fb0fb4">JSONPair_t::value</a></div><div class="ttdeci">const char * value</div><div class="ttdoc">Pointer to the code point sequence for value.</div><div class="ttdef"><b>Definition:</b> core_json.h:244</div></div>
<div class="ttc" id="astruct_j_s_o_n_pair__t_html_a86253f1a1ac1478a39cf60063b189d5b"><div class="ttname"><a href="struct_j_s_o_n_pair__t.html#a86253f1a1ac1478a39cf60063b189d5b">JSONPair_t::keyLength</a></div><div class="ttdeci">size_t keyLength</div><div class="ttdoc">Length of the code point sequence for key.</div><div class="ttdef"><b>Definition:</b> core_json.h:243</div></div>
<div class="ttc" id="astruct_j_s_o_n_pair__t_html_a9573fc5ea1fa08c78490b28e4bbef588"><div class="ttname"><a href="struct_j_s_o_n_pair__t.html#a9573fc5ea1fa08c78490b28e4bbef588">JSONPair_t::jsonType</a></div><div class="ttdeci">JSONTypes_t jsonType</div><div class="ttdoc">JSON-specific type of the value.</div><div class="ttdef"><b>Definition:</b> core_json.h:246</div></div>
<div class="ttc" id="astruct_j_s_o_n_pair__t_html_abb0c5909612fb388fbdd662d8b9b486a"><div class="ttname"><a href="struct_j_s_o_n_pair__t.html#abb0c5909612fb388fbdd662d8b9b486a">JSONPair_t::valueLength</a></div><div class="ttdeci">size_t valueLength</div><div class="ttdoc">Length of the code point sequence for value.</div><div class="ttdef"><b>Definition:</b> core_json.h:245</div></div>
<div class="ttc" id="astruct_j_s_o_n_pair__t_html_ae1b11b39a8e57ab6880bc69346bebb37"><div class="ttname"><a href="struct_j_s_o_n_pair__t.html#ae1b11b39a8e57ab6880bc69346bebb37">JSONPair_t::key</a></div><div class="ttdeci">const char * key</div><div class="ttdoc">Pointer to the code point sequence for key.</div><div class="ttdef"><b>Definition:</b> core_json.h:242</div></div>
</div><!-- fragment --><p >See <a class="el" href="core__json_8h.html" title="Include this header file to use coreJSON in your application.">core_json.h</a> for docs. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
