<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>corePKCS11: PKCS #11 Implementation Macros</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="foobar.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">corePKCS11<span id="projectnumber">&#160;V3.0.0</span>
   </div>
   <div id="projectbrief">PKCS #11 Cryptoki Library</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__pkcs11__macros.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">PKCS #11 Implementation Macros</div></div>
</div><!--header-->
<div class="contents">

<p>Macros for PKCS #11 software implementation.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6d58f9ac447476b4e084d7ca383f5183"><td class="memItemLeft" align="right" valign="top"><a id="ga6d58f9ac447476b4e084d7ca383f5183" name="ga6d58f9ac447476b4e084d7ca383f5183"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FAILURE</b>&#160;&#160;&#160;( -1 )</td></tr>
<tr class="memdesc:ga6d58f9ac447476b4e084d7ca383f5183"><td class="mdescLeft">&#160;</td><td class="mdescRight">Failure value for PKI utils functions. <br /></td></tr>
<tr class="separator:ga6d58f9ac447476b4e084d7ca383f5183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c3cb4f818434c9c5805eff93be9d26d"><td class="memItemLeft" align="right" valign="top"><a id="ga3c3cb4f818434c9c5805eff93be9d26d" name="ga3c3cb4f818434c9c5805eff93be9d26d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>pkcs11MUTEX_WAIT_MS</b>&#160;&#160;&#160;( pdMS_TO_TICKS( 5000U ) )</td></tr>
<tr class="memdesc:ga3c3cb4f818434c9c5805eff93be9d26d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay to wait on acquiring a mutex, in ms. <br /></td></tr>
<tr class="separator:ga3c3cb4f818434c9c5805eff93be9d26d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72e760ed32f2b6f0594b8dd809a7a419"><td class="memItemLeft" align="right" valign="top"><a id="ga72e760ed32f2b6f0594b8dd809a7a419" name="ga72e760ed32f2b6f0594b8dd809a7a419"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>pkcs11NO_OPERATION</b>&#160;&#160;&#160;( ( CK_MECHANISM_TYPE ) 0xFFFFFFFFUL )</td></tr>
<tr class="memdesc:ga72e760ed32f2b6f0594b8dd809a7a419"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates that no PKCS #11 operation is underway for given session. <br /></td></tr>
<tr class="separator:ga72e760ed32f2b6f0594b8dd809a7a419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1708045ca3bc09c5a21749c96ef5c2b"><td class="memItemLeft" align="right" valign="top"><a id="gad1708045ca3bc09c5a21749c96ef5c2b" name="gad1708045ca3bc09c5a21749c96ef5c2b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>pkcs11_PRIVATE_EC_PRIME_256_DER_SIZE</b>&#160;&#160;&#160;160</td></tr>
<tr class="memdesc:gad1708045ca3bc09c5a21749c96ef5c2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">size of a prime256v1 EC private key in bytes, when encoded in DER. <br /></td></tr>
<tr class="separator:gad1708045ca3bc09c5a21749c96ef5c2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f8ea6875e04ee62fe1ca1075140d700"><td class="memItemLeft" align="right" valign="top"><a id="ga4f8ea6875e04ee62fe1ca1075140d700" name="ga4f8ea6875e04ee62fe1ca1075140d700"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>pkcs11_PUBLIC_EC_PRIME_256_DER_SIZE</b>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:ga4f8ea6875e04ee62fe1ca1075140d700"><td class="mdescLeft">&#160;</td><td class="mdescRight">size of a prime256v1 EC public key in bytes, when encoded in DER. <br /></td></tr>
<tr class="separator:ga4f8ea6875e04ee62fe1ca1075140d700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90f9bd9cec08398aec0ddbb1e444636c"><td class="memItemLeft" align="right" valign="top"><a id="ga90f9bd9cec08398aec0ddbb1e444636c" name="ga90f9bd9cec08398aec0ddbb1e444636c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>pkcs11_PUBLIC_RSA_2048_DER_SIZE</b>&#160;&#160;&#160;300</td></tr>
<tr class="memdesc:ga90f9bd9cec08398aec0ddbb1e444636c"><td class="mdescLeft">&#160;</td><td class="mdescRight">size of a 2048 bit RSA public key in bytes, when encoded in DER. <br /></td></tr>
<tr class="separator:ga90f9bd9cec08398aec0ddbb1e444636c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca48610021fedfe070a799710c789078"><td class="memItemLeft" align="right" valign="top"><a id="gaca48610021fedfe070a799710c789078" name="gaca48610021fedfe070a799710c789078"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>pkcs11_PRIVATE_RSA_2048_DER_SIZE</b>&#160;&#160;&#160;1200</td></tr>
<tr class="memdesc:gaca48610021fedfe070a799710c789078"><td class="mdescLeft">&#160;</td><td class="mdescRight">size of a 2048 bit RSA private key in bytes, in DER encoding. <br /></td></tr>
<tr class="separator:gaca48610021fedfe070a799710c789078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2529e98c1b474814147f833376ac084"><td class="memItemLeft" align="right" valign="top"><a id="gab2529e98c1b474814147f833376ac084" name="gab2529e98c1b474814147f833376ac084"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>pkcs11_MAX_EC_PUBLIC_KEY_DER_SIZE</b>&#160;&#160;&#160;<a class="el" href="group__pkcs11__macros.html#ga4f8ea6875e04ee62fe1ca1075140d700">pkcs11_PUBLIC_EC_PRIME_256_DER_SIZE</a></td></tr>
<tr class="memdesc:gab2529e98c1b474814147f833376ac084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max size of an EC public key in bytes, in DER encoding. <br /></td></tr>
<tr class="separator:gab2529e98c1b474814147f833376ac084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c4abec3a04c71a88e5200b01cb86da8"><td class="memItemLeft" align="right" valign="top"><a id="ga1c4abec3a04c71a88e5200b01cb86da8" name="ga1c4abec3a04c71a88e5200b01cb86da8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>pkcs11_MAX_EC_PRIVATE_KEY_DER_SIZE</b>&#160;&#160;&#160;<a class="el" href="group__pkcs11__macros.html#gad1708045ca3bc09c5a21749c96ef5c2b">pkcs11_PRIVATE_EC_PRIME_256_DER_SIZE</a></td></tr>
<tr class="memdesc:ga1c4abec3a04c71a88e5200b01cb86da8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max size of an EC private key in bytes, in DER encoding. <br /></td></tr>
<tr class="separator:ga1c4abec3a04c71a88e5200b01cb86da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed3393d271431bcd27e5017304b03003"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pkcs11__macros.html#gaed3393d271431bcd27e5017304b03003">pkcs11EC_POINT_LENGTH</a>&#160;&#160;&#160;( ( 32UL * 2UL ) + 1UL + 1UL + 1UL )</td></tr>
<tr class="memdesc:gaed3393d271431bcd27e5017304b03003"><td class="mdescLeft">&#160;</td><td class="mdescRight">Length of bytes to contain an EC point.  <a href="group__pkcs11__macros.html#gaed3393d271431bcd27e5017304b03003">More...</a><br /></td></tr>
<tr class="separator:gaed3393d271431bcd27e5017304b03003"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4af7c6b1be242776d1a84da0573de96"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pkcs11__macros.html#gad4af7c6b1be242776d1a84da0573de96">pkcs11_MAX_PUBLIC_KEY_DER_SIZE</a>&#160;&#160;&#160;<a class="el" href="group__pkcs11__macros.html#ga90f9bd9cec08398aec0ddbb1e444636c">pkcs11_PUBLIC_RSA_2048_DER_SIZE</a></td></tr>
<tr class="memdesc:gad4af7c6b1be242776d1a84da0573de96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max size of a public key. This macro defines the size of a key in bytes, in DER encoding.  <a href="group__pkcs11__macros.html#gad4af7c6b1be242776d1a84da0573de96">More...</a><br /></td></tr>
<tr class="separator:gad4af7c6b1be242776d1a84da0573de96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40b4e383d07c501a52e671afea745303"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pkcs11__macros.html#ga40b4e383d07c501a52e671afea745303">pkcs11_MAX_PRIVATE_KEY_DER_SIZE</a>&#160;&#160;&#160;<a class="el" href="group__pkcs11__macros.html#gaca48610021fedfe070a799710c789078">pkcs11_PRIVATE_RSA_2048_DER_SIZE</a></td></tr>
<tr class="memdesc:ga40b4e383d07c501a52e671afea745303"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max key length of a key. This macro defines the size of a key in bytes, in DER format.  <a href="group__pkcs11__macros.html#ga40b4e383d07c501a52e671afea745303">More...</a><br /></td></tr>
<tr class="separator:ga40b4e383d07c501a52e671afea745303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7d5c1bfb7405cf466597145a634b7d1"><td class="memItemLeft" align="right" valign="top"><a id="gad7d5c1bfb7405cf466597145a634b7d1" name="gad7d5c1bfb7405cf466597145a634b7d1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>pkcs11KEY_GEN_MAX_DER_SIZE</b>&#160;&#160;&#160;200</td></tr>
<tr class="memdesc:gad7d5c1bfb7405cf466597145a634b7d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the buffer malloc'ed for the exported public key in C_GenerateKeyPair. <br /></td></tr>
<tr class="separator:gad7d5c1bfb7405cf466597145a634b7d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadada8e23f6001eedf0b726604495c611"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pkcs11__macros.html#gadada8e23f6001eedf0b726604495c611">pkcs11SLOT_ID</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:gadada8e23f6001eedf0b726604495c611"><td class="mdescLeft">&#160;</td><td class="mdescRight">The slot ID to be returned by this PKCS #11 implementation.  <a href="group__pkcs11__macros.html#gadada8e23f6001eedf0b726604495c611">More...</a><br /></td></tr>
<tr class="separator:gadada8e23f6001eedf0b726604495c611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga772e2b44059eb5224eb4900f628f6182"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pkcs11__macros.html#ga772e2b44059eb5224eb4900f628f6182">LABEL_IN_TEMPLATE</a>&#160;&#160;&#160;( 1U )</td></tr>
<tr class="memdesc:ga772e2b44059eb5224eb4900f628f6182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private defines for checking that attribute templates are complete.  <a href="group__pkcs11__macros.html#ga772e2b44059eb5224eb4900f628f6182">More...</a><br /></td></tr>
<tr class="separator:ga772e2b44059eb5224eb4900f628f6182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeae7ec1a599c2f7304f883c90379db36"><td class="memItemLeft" align="right" valign="top"><a id="gaeae7ec1a599c2f7304f883c90379db36" name="gaeae7ec1a599c2f7304f883c90379db36"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PKCS11_INVALID_KEY_TYPE</b>&#160;&#160;&#160;( ( CK_KEY_TYPE ) 0xFFFFFFFFUL )</td></tr>
<tr class="memdesc:gaeae7ec1a599c2f7304f883c90379db36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to signify an invalid PKCS #11 key type. <br /></td></tr>
<tr class="separator:gaeae7ec1a599c2f7304f883c90379db36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Macros for PKCS #11 software implementation. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaed3393d271431bcd27e5017304b03003" name="gaed3393d271431bcd27e5017304b03003"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed3393d271431bcd27e5017304b03003">&#9670;&nbsp;</a></span>pkcs11EC_POINT_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pkcs11EC_POINT_LENGTH&#160;&#160;&#160;( ( 32UL * 2UL ) + 1UL + 1UL + 1UL )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Length of bytes to contain an EC point. </p>
<p >This port currently only uses prime256v1, in which the fields are 32 bytes in length. The public EC point is as long as the curve's fields * 2 + 1. so the EC point for this port is (32 * 2) + 1 bytes in length.</p>
<p >mbed TLS encodes the length of the point in the first byte of the buffer it receives, so an additional 1 byte in length is added to account for this.</p>
<p >In addition to this, an additional 1 byte is added to store information indicating that the point is uncompressed.</p>
<dl class="section note"><dt>Note</dt><dd>This length needs to be updated if using a different curve.</dd></dl>
<p>To summarize: 32 points of 2 bytes each + 1 point length byte, 1 length byte, and 1 type (uncompressed) byte </p>

</div>
</div>
<a id="gad4af7c6b1be242776d1a84da0573de96" name="gad4af7c6b1be242776d1a84da0573de96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad4af7c6b1be242776d1a84da0573de96">&#9670;&nbsp;</a></span>pkcs11_MAX_PUBLIC_KEY_DER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pkcs11_MAX_PUBLIC_KEY_DER_SIZE&#160;&#160;&#160;<a class="el" href="group__pkcs11__macros.html#ga90f9bd9cec08398aec0ddbb1e444636c">pkcs11_PUBLIC_RSA_2048_DER_SIZE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max size of a public key. This macro defines the size of a key in bytes, in DER encoding. </p>
<dl class="section note"><dt>Note</dt><dd>The largest RSA public key is used because EC keys are smaller. </dd></dl>

</div>
</div>
<a id="ga40b4e383d07c501a52e671afea745303" name="ga40b4e383d07c501a52e671afea745303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga40b4e383d07c501a52e671afea745303">&#9670;&nbsp;</a></span>pkcs11_MAX_PRIVATE_KEY_DER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pkcs11_MAX_PRIVATE_KEY_DER_SIZE&#160;&#160;&#160;<a class="el" href="group__pkcs11__macros.html#gaca48610021fedfe070a799710c789078">pkcs11_PRIVATE_RSA_2048_DER_SIZE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Max key length of a key. This macro defines the size of a key in bytes, in DER format. </p>
<p >Currently the largest key type supported by this port is a 2048 bit RSA private key.</p>
<dl class="section note"><dt>Note</dt><dd>The largest RSA private key is used because EC keys are smaller and the RSA public key is smaller. </dd></dl>

</div>
</div>
<a id="gadada8e23f6001eedf0b726604495c611" name="gadada8e23f6001eedf0b726604495c611"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadada8e23f6001eedf0b726604495c611">&#9670;&nbsp;</a></span>pkcs11SLOT_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pkcs11SLOT_ID&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The slot ID to be returned by this PKCS #11 implementation. </p>
<dl class="section note"><dt>Note</dt><dd>that this implementation does not have a concept of "slots" so this number is arbitrary. </dd></dl>

</div>
</div>
<a id="ga772e2b44059eb5224eb4900f628f6182" name="ga772e2b44059eb5224eb4900f628f6182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga772e2b44059eb5224eb4900f628f6182">&#9670;&nbsp;</a></span>LABEL_IN_TEMPLATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LABEL_IN_TEMPLATE&#160;&#160;&#160;( 1U )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Private defines for checking that attribute templates are complete. </p>
<p >Bit set for label in template. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
