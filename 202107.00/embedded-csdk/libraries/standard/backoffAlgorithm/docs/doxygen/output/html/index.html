<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>backoffAlgorithm: Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="foobar.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">backoffAlgorithm<span id="projectnumber">&#160;v1.0.0</span>
   </div>
   <div id="projectbrief">Algorithmic library for calculating retry intervals using exponential backoff and jitter.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Overview </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >backoffAlgorithm Library<a class="anchor" id="BackOff"></a>Algorithm</p>
<p >A library that calculates the back-off period for a retry attempt using exponential back-off with jitter algorithm. This library uses the "Full Jitter" strategy for the exponential back-off with jitter algorithm.</p>
<p >More information about the algorithm can be seen in the <a href="https://aws.amazon.com/blogs/architecture/exponential-backoff-and-jitter/">Exponential Backoff and Jitter</a> AWS blog.</p>
<p >Exponential backoff with jitter is typically used when retrying a failed network connection or operation request with the server. An exponential backoff with jitter helps to mitigate failed network operations with servers, that are caused due to network congestion or high request load on the server, by spreading out retry requests across multiple devices attempting network operations. Besides, in an environment with poor connectivity, a client can get disconnected at any time. A backoff strategy helps the client to conserve battery by not repeatedly attempting reconnections when they are unlikely to succeed.</p>
<p >Before retrying the failed communication to the server, there is a delay period. In this delay period, the task that is retrying must sleep for some random amount of milliseconds between 0 and the lesser of the backoff window (related to the retry attempt) and a predefined maximum delay value. The backoff window is doubled with each retry attempt until the maximum delay value is reached.<br  />
</p>
<blockquote class="doxtable">
<p >sleep_ms = random_between( 0, min( 2<sup>attempts_count</sup> * base_ms, maximum_ms ) ) </p>
</blockquote>
<p>The library is written in C and designed to be compliant with ISO C90 and MISRA C:2012.</p>
<p >For a reference example of using the library, refer to the related README section in the repository <a href="https://github.com/FreeRTOS/backoffAlgorithm#reference-example">here</a>.</p>
<h1><a class="anchor" id="backoff_algorithm_memory_requirements"></a>
Memory Requirements</h1>
<p >Memory requirements of the backoffAlgorithm library.</p>
<table class="doxtable">
<tr>
<td colspan="4"><center><b>Code size (in bytes) of backoffAlgorithm library files (sizes generated with <a href="https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads/9-2020-q2-update">GCC for ARM Cortex-M toolchain</a>)</b></center>  </td></tr>
<tr>
<td><b>File</b> </td><td><b>No Optimization (asserts enabled)</b> </td><td><b>With -O1 Optimization (asserts disabled)</b> </td><td><b>With -Os Optimization (asserts disabled)</b>  </td></tr>
<tr>
<td><a class="el" href="backoff__algorithm_8c.html" title="Implementation of the backoff algorithm API for a &quot;Full Jitter&quot; exponential backoff with jitter strat...">backoff_algorithm.c</a> </td><td>678 </td><td>140 </td><td>136  </td></tr>
</table>
<h1><a class="anchor" id="backoff_algorithm_design"></a>
Design</h1>
<p >backoffAlgorithm Library Design</p>
<h3>Memory Usage</h3>
<p >All functions in the backoffAlgorithm library operate only on the buffer provided and use only local variables on the stack. </p>
<h3>Random Number Generation</h3>
<p >The library takes a random number each time it calculates the backoff period value for the retry attempt. To avoid calculation of the same random numbers across your fleet of devices attempting retry of network operations, it is RECOMMENDED to generate the random number with a random number generator that is seeded with an entropy source unique to the device. </p>
<h3>Compliance &amp; Coverage</h3>
<p >The backoffAlgorithm library is designed to be compliant with ISO C90 and MISRA C:2012. All functions are written to have minimal complexity. Unit tests are written to cover every path of execution and achieve 100% branch coverage. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
