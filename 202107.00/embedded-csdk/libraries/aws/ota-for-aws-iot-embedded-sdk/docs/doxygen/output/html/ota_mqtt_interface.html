<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Over-the-air Update: OTA MQTT Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="foobar.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Over-the-air Update<span id="projectnumber">&#160;v3.0.0</span>
   </div>
   <div id="projectbrief">Client library for AWS IoT OTA</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ota_mqtt_interface.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">OTA MQTT Interface </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >The OTA PAL interface definition.</p>
<h1><a class="anchor" id="ota_mqtt_interface_overview"></a>
OTA MQTT Overview</h1>
<p >The OTA MQTT interface is a set of APIs that must be implemented by a library to enable the OTA library to connect to AWS IoT and manage notification and request data. The OTA library uses MQTT PUBLISH messages to inform AWS IoT about the job status and receives notifications and datablock over <code>job</code> and <code>stream</code> topics.</p>
<p >The OTA MQTT interface is defined in <a class="el" href="ota__mqtt__interface_8h.html">ota_mqtt_interface.h</a>. <br  />
</p>
<p >The functions that must be implemented are:<br  />
</p><ul>
<li><a class="el" href="ota__mqtt__interface_8h.html#a9bf7833baeda3004bda9dadbd724422d">OTA MQTT Subscribe</a></li>
<li><a class="el" href="ota__mqtt__interface_8h.html#a9bf7833baeda3004bda9dadbd724422d">OTA MQTT Unsubscribe</a></li>
<li><a class="el" href="ota__mqtt__interface_8h.html#a9bf7833baeda3004bda9dadbd724422d">OTA MQTT Publish</a></li>
</ul>
<p >These functions can be grouped into the structure <code><a class="el" href="struct_ota_mqtt_interface__t.html" title="OTA Event Interface structure.">OtaMqttInterface_t</a></code> and passed to <a class="el" href="struct_ota_interfaces__t.html">OtaInterfaces_t</a> to represent the MQTT interface. </p><div class="fragment"><div class="line"><a class="code" href="struct_ota_mqtt_interface__t.html">OtaMqttInterface_t</a> mqttInterface;</div>
<div class="line">mqttInterface.<a class="code" href="struct_ota_mqtt_interface__t.html#adf1c4fbd39dc489e5f446a163ed57d65">subscribe</a> = mqttSubscribe;</div>
<div class="line">mqttInterface.<a class="code" href="struct_ota_mqtt_interface__t.html#afe7b58ce23961bd3023266e9abb26a85">unsubscribe</a> = mqttUnsubscribe;</div>
<div class="line">mqttInterface.<a class="code" href="struct_ota_mqtt_interface__t.html#aab31f752ef9b005cb5f06226fdce7540">publish</a> = mqttPublish;</div>
<div class="line"> </div>
<div class="line"> ....</div>
<div class="line"> </div>
<div class="line"><a class="code" href="struct_ota_interfaces__t.html">OtaInterfaces_t</a> otaInterfaces;</div>
<div class="line">otaInterfaces.<a class="code" href="struct_ota_interfaces__t.html#a231d847d025ae94578f68d5ae8ff3e66">mqtt</a> = mqttInterface</div>
<div class="line"> </div>
<div class="line"> ....</div>
<div class="line"> </div>
<div class="line"><a class="code" href="ota_8h.html#ae5cc1dcc13fbcb32230f552f48b24f03">OTA_Init</a>( &amp;otaBuffer,</div>
<div class="line">          &amp;otaInterfaces,</div>
<div class="line">          ( CLIENT_IDENTIFIER ),</div>
<div class="line">          otaAppCallback )</div>
<div class="ttc" id="aota_8h_html_ae5cc1dcc13fbcb32230f552f48b24f03"><div class="ttname"><a href="ota_8h.html#ae5cc1dcc13fbcb32230f552f48b24f03">OTA_Init</a></div><div class="ttdeci">OtaErr_t OTA_Init(OtaAppBuffer_t *pOtaBuffer, OtaInterfaces_t *pOtaInterfaces, const uint8_t *pThingName, OtaAppCallback_t OtaAppCallback)</div><div class="ttdoc">OTA Agent initialization function.</div><div class="ttdef"><b>Definition:</b> ota.c:3063</div></div>
<div class="ttc" id="astruct_ota_interfaces__t_html"><div class="ttname"><a href="struct_ota_interfaces__t.html">OtaInterfaces_t</a></div><div class="ttdoc">OTA Interface for referencing different components.</div><div class="ttdef"><b>Definition:</b> ota.h:253</div></div>
<div class="ttc" id="astruct_ota_interfaces__t_html_a231d847d025ae94578f68d5ae8ff3e66"><div class="ttname"><a href="struct_ota_interfaces__t.html#a231d847d025ae94578f68d5ae8ff3e66">OtaInterfaces_t::mqtt</a></div><div class="ttdeci">OtaMqttInterface_t mqtt</div><div class="ttdoc">MQTT interface that references the publish subscribe methods and callbacks.</div><div class="ttdef"><b>Definition:</b> ota.h:255</div></div>
<div class="ttc" id="astruct_ota_mqtt_interface__t_html"><div class="ttname"><a href="struct_ota_mqtt_interface__t.html">OtaMqttInterface_t</a></div><div class="ttdoc">OTA Event Interface structure.</div><div class="ttdef"><b>Definition:</b> ota_mqtt_interface.h:156</div></div>
<div class="ttc" id="astruct_ota_mqtt_interface__t_html_aab31f752ef9b005cb5f06226fdce7540"><div class="ttname"><a href="struct_ota_mqtt_interface__t.html#aab31f752ef9b005cb5f06226fdce7540">OtaMqttInterface_t::publish</a></div><div class="ttdeci">OtaMqttPublish_t publish</div><div class="ttdoc">Interface for publishing MQTT messages.</div><div class="ttdef"><b>Definition:</b> ota_mqtt_interface.h:159</div></div>
<div class="ttc" id="astruct_ota_mqtt_interface__t_html_adf1c4fbd39dc489e5f446a163ed57d65"><div class="ttname"><a href="struct_ota_mqtt_interface__t.html#adf1c4fbd39dc489e5f446a163ed57d65">OtaMqttInterface_t::subscribe</a></div><div class="ttdeci">OtaMqttSubscribe_t subscribe</div><div class="ttdoc">Interface for subscribing to Mqtt topics.</div><div class="ttdef"><b>Definition:</b> ota_mqtt_interface.h:157</div></div>
<div class="ttc" id="astruct_ota_mqtt_interface__t_html_afe7b58ce23961bd3023266e9abb26a85"><div class="ttname"><a href="struct_ota_mqtt_interface__t.html#afe7b58ce23961bd3023266e9abb26a85">OtaMqttInterface_t::unsubscribe</a></div><div class="ttdeci">OtaMqttUnsubscribe_t unsubscribe</div><div class="ttdoc">interface for unsubscribing to MQTT topics.</div><div class="ttdef"><b>Definition:</b> ota_mqtt_interface.h:158</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
