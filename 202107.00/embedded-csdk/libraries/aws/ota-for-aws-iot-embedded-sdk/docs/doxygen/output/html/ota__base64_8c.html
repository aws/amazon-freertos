<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS IoT Over-the-air Update: ota_base64.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="foobar.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS IoT Over-the-air Update<span id="projectnumber">&#160;v3.0.0</span>
   </div>
   <div id="projectbrief">Client library for AWS IoT OTA</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ota__base64_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">ota_base64.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implements a Base64 decoding routine.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="ota__base64__private_8h_source.html">ota_base64_private.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a806511f4930171733227c99101dc0606"><td class="memItemLeft" align="right" valign="top"><a id="a806511f4930171733227c99101dc0606" name="a806511f4930171733227c99101dc0606"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NEWLINE</b>&#160;&#160;&#160;64U</td></tr>
<tr class="memdesc:a806511f4930171733227c99101dc0606"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number to represent both line feed and carriage return symbols in the pBase64SymbolToIndexMap table. <br /></td></tr>
<tr class="separator:a806511f4930171733227c99101dc0606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa0d183e035eb9705b5faec98294d0f"><td class="memItemLeft" align="right" valign="top"><a id="abfa0d183e035eb9705b5faec98294d0f" name="abfa0d183e035eb9705b5faec98294d0f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>WHITESPACE</b>&#160;&#160;&#160;65U</td></tr>
<tr class="memdesc:abfa0d183e035eb9705b5faec98294d0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number to represent the whitespace character in the pBase64SymbolToIndexMap table. <br /></td></tr>
<tr class="separator:abfa0d183e035eb9705b5faec98294d0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b11bd3f54ab28f27732abb49687365"><td class="memItemLeft" align="right" valign="top"><a id="a15b11bd3f54ab28f27732abb49687365" name="a15b11bd3f54ab28f27732abb49687365"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PADDING_SYMBOL</b>&#160;&#160;&#160;66U</td></tr>
<tr class="memdesc:a15b11bd3f54ab28f27732abb49687365"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number to represent the Base64 padding symbol in the pBase64SymbolToIndexMap table. <br /></td></tr>
<tr class="separator:a15b11bd3f54ab28f27732abb49687365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e8507cabd05d65ba199e92b16772aa2"><td class="memItemLeft" align="right" valign="top"><a id="a2e8507cabd05d65ba199e92b16772aa2" name="a2e8507cabd05d65ba199e92b16772aa2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NON_BASE64_INDEX</b>&#160;&#160;&#160;67U</td></tr>
<tr class="memdesc:a2e8507cabd05d65ba199e92b16772aa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number to represent values that are invalid in the pBase64SymbolToIndexMap table. <br /></td></tr>
<tr class="separator:a2e8507cabd05d65ba199e92b16772aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d12699999e54d62368510009f299a06"><td class="memItemLeft" align="right" valign="top"><a id="a6d12699999e54d62368510009f299a06" name="a6d12699999e54d62368510009f299a06"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>VALID_BASE64_SYMBOL_INDEX_RANGE_MAX</b>&#160;&#160;&#160;63U</td></tr>
<tr class="memdesc:a6d12699999e54d62368510009f299a06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum value for a Base64 index that represents a valid, non-formatting Base64 symbol. <br /></td></tr>
<tr class="separator:a6d12699999e54d62368510009f299a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97b85b7f38b6169f648cb4d2b39130a2"><td class="memItemLeft" align="right" valign="top"><a id="a97b85b7f38b6169f648cb4d2b39130a2" name="a97b85b7f38b6169f648cb4d2b39130a2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEXTET_SIZE</b>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:a97b85b7f38b6169f648cb4d2b39130a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of bits in a sextet. <br /></td></tr>
<tr class="separator:a97b85b7f38b6169f648cb4d2b39130a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c26bd7f35be32726494bb69ed4e0d60"><td class="memItemLeft" align="right" valign="top"><a id="a3c26bd7f35be32726494bb69ed4e0d60" name="a3c26bd7f35be32726494bb69ed4e0d60"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_NUM_BASE64_DATA</b>&#160;&#160;&#160;4U</td></tr>
<tr class="memdesc:a3c26bd7f35be32726494bb69ed4e0d60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of Base64 symbols to store in a buffer before decoding them. <br /></td></tr>
<tr class="separator:a3c26bd7f35be32726494bb69ed4e0d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7449bd7415c97034a57e913e36be5bed"><td class="memItemLeft" align="right" valign="top"><a id="a7449bd7415c97034a57e913e36be5bed" name="a7449bd7415c97034a57e913e36be5bed"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_EXPECTED_NUM_PADDING</b>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:a7449bd7415c97034a57e913e36be5bed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of padding symbols in a string of encoded data that is considered valid. <br /></td></tr>
<tr class="separator:a7449bd7415c97034a57e913e36be5bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae381c52f0a96916029fdbf5faf5717d9"><td class="memItemLeft" align="right" valign="top"><a id="ae381c52f0a96916029fdbf5faf5717d9" name="ae381c52f0a96916029fdbf5faf5717d9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MIN_VALID_ENCODED_DATA_SIZE</b>&#160;&#160;&#160;2U</td></tr>
<tr class="memdesc:ae381c52f0a96916029fdbf5faf5717d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smallest amount of data that can be Base64 encoded is a byte. Encoding a single byte of data results in 2 bytes of encoded data. Therefore if the encoded data is smaller than 2 bytes, there is an error with the data. <br /></td></tr>
<tr class="separator:ae381c52f0a96916029fdbf5faf5717d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f8ffc8eb41b7717bf6baa7b52d492f7"><td class="memItemLeft" align="right" valign="top"><a id="a7f8ffc8eb41b7717bf6baa7b52d492f7" name="a7f8ffc8eb41b7717bf6baa7b52d492f7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SIZE_OF_ONE_OCTET</b>&#160;&#160;&#160;8U</td></tr>
<tr class="memdesc:a7f8ffc8eb41b7717bf6baa7b52d492f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of bits in a single octet. <br /></td></tr>
<tr class="separator:a7f8ffc8eb41b7717bf6baa7b52d492f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19163fa405ab66be467d27160041e984"><td class="memItemLeft" align="right" valign="top"><a id="a19163fa405ab66be467d27160041e984" name="a19163fa405ab66be467d27160041e984"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SIZE_OF_TWO_OCTETS</b>&#160;&#160;&#160;16U</td></tr>
<tr class="memdesc:a19163fa405ab66be467d27160041e984"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of bits in two octets. <br /></td></tr>
<tr class="separator:a19163fa405ab66be467d27160041e984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e092a16d98b7fb75342caaa7e776296"><td class="memItemLeft" align="right" valign="top"><a id="a2e092a16d98b7fb75342caaa7e776296" name="a2e092a16d98b7fb75342caaa7e776296"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SIZE_OF_PADDING_WITH_TWO_SEXTETS</b>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:a2e092a16d98b7fb75342caaa7e776296"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of padding bits that are present when there are two sextets of encoded data. <br /></td></tr>
<tr class="separator:a2e092a16d98b7fb75342caaa7e776296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10476733de6e465f23bd34c15a6e204f"><td class="memItemLeft" align="right" valign="top"><a id="a10476733de6e465f23bd34c15a6e204f" name="a10476733de6e465f23bd34c15a6e204f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SIZE_OF_PADDING_WITH_THREE_SEXTETS</b>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:a10476733de6e465f23bd34c15a6e204f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of padding bits that are present when there are three sextets of encoded data. <br /></td></tr>
<tr class="separator:a10476733de6e465f23bd34c15a6e204f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0efa6e1881928e9ae47e84afb426d1d4"><td class="memItemLeft" align="right" valign="top"><a id="a0efa6e1881928e9ae47e84afb426d1d4" name="a0efa6e1881928e9ae47e84afb426d1d4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SYMBOL_TO_INDEX_MAP_VALUE_UPPER_BOUND</b>&#160;&#160;&#160;67U</td></tr>
<tr class="memdesc:a0efa6e1881928e9ae47e84afb426d1d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inclusive upper bound for valid values that can be contained in pBase64SymbolToIndexMap. <br /></td></tr>
<tr class="separator:a0efa6e1881928e9ae47e84afb426d1d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa249d3e7a39f2bf639d5a3a676f27b"><td class="memItemLeft" align="right" valign="top"><a id="aeaa249d3e7a39f2bf639d5a3a676f27b" name="aeaa249d3e7a39f2bf639d5a3a676f27b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BASE64_INDEX_VALUE_UPPER_BOUND</b>&#160;&#160;&#160;63U</td></tr>
<tr class="memdesc:aeaa249d3e7a39f2bf639d5a3a676f27b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inclusive upper bound for the range of valid Base64 index values. <br /></td></tr>
<tr class="separator:aeaa249d3e7a39f2bf639d5a3a676f27b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af41f10337c1f0b9b696dbbe8b64f4546"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__base64__private_8h.html#ad654d9148176cc1d7b054228c54bfca3">Base64Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota__base64_8c.html#af41f10337c1f0b9b696dbbe8b64f4546">preprocessBase64Index</a> (uint8_t base64Index, int64_t *pNumPadding, int64_t *pNumWhitespace)</td></tr>
<tr class="memdesc:af41f10337c1f0b9b696dbbe8b64f4546"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates the input Base64 index based on the context of what has been decoded so far and the value of the index. Updates the input counters that are used to keep track of the number of whitespace and padding symbols that have been parsed so far.  <a href="ota__base64_8c.html#af41f10337c1f0b9b696dbbe8b64f4546">More...</a><br /></td></tr>
<tr class="separator:af41f10337c1f0b9b696dbbe8b64f4546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab884b58a1f532cc3944eae011bad5b76"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota__base64_8c.html#ab884b58a1f532cc3944eae011bad5b76">updateBase64DecodingBuffer</a> (const uint8_t base64Index, uint32_t *pBase64IndexBuffer, uint32_t *pNumDataInBuffer)</td></tr>
<tr class="memdesc:ab884b58a1f532cc3944eae011bad5b76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a Base64 index to a Base64 index buffer. The buffer will only be updated if the index represents a Base64 digit.  <a href="ota__base64_8c.html#ab884b58a1f532cc3944eae011bad5b76">More...</a><br /></td></tr>
<tr class="separator:ab884b58a1f532cc3944eae011bad5b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed7d641181bf7fa31fef12ca85fb5c33"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="ota__base64__private_8h.html#ad654d9148176cc1d7b054228c54bfca3">Base64Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota__base64_8c.html#aed7d641181bf7fa31fef12ca85fb5c33">decodeBase64IndexBuffer</a> (uint32_t *pBase64IndexBuffer, uint32_t *pNumDataInBuffer, uint8_t *pDest, const size_t destLen, size_t *pOutputLen)</td></tr>
<tr class="memdesc:aed7d641181bf7fa31fef12ca85fb5c33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode a buffer containing two, three, or four Base64 indices.  <a href="ota__base64_8c.html#aed7d641181bf7fa31fef12ca85fb5c33">More...</a><br /></td></tr>
<tr class="separator:aed7d641181bf7fa31fef12ca85fb5c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94a9217b253f00b4c3e22132ef564393"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ota__base64__private_8h.html#ad654d9148176cc1d7b054228c54bfca3">Base64Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota__base64_8c.html#a94a9217b253f00b4c3e22132ef564393">base64Decode</a> (uint8_t *pDest, const size_t destLen, size_t *pResultLen, const uint8_t *pEncodedData, const size_t encodedLen)</td></tr>
<tr class="memdesc:a94a9217b253f00b4c3e22132ef564393"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode Base64 encoded data.  <a href="ota__base64_8c.html#a94a9217b253f00b4c3e22132ef564393">More...</a><br /></td></tr>
<tr class="separator:a94a9217b253f00b4c3e22132ef564393"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acd877cf168910f36a44a3040ff485ecd"><td class="memItemLeft" align="right" valign="top">static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ota__base64_8c.html#acd877cf168910f36a44a3040ff485ecd">pBase64SymbolToIndexMap</a> []</td></tr>
<tr class="memdesc:acd877cf168910f36a44a3040ff485ecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This table takes is indexed by an Ascii character and returns the respective Base64 index. The Ascii character used to index into this table is assumed to represent a symbol in a string of Base64 encoded data. There are three kinds of possible ascii characters: 1) Base64 Symbols. These are the digits of a Base 64 number system. 2) Formatting characters. These are newline, whitespace, and padding. 3) Symbols that are impossible to have inside of correctly Base64 encoded data.  <a href="ota__base64_8c.html#acd877cf168910f36a44a3040ff485ecd">More...</a><br /></td></tr>
<tr class="separator:acd877cf168910f36a44a3040ff485ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Implements a Base64 decoding routine. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af41f10337c1f0b9b696dbbe8b64f4546" name="af41f10337c1f0b9b696dbbe8b64f4546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af41f10337c1f0b9b696dbbe8b64f4546">&#9670;&nbsp;</a></span>preprocessBase64Index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__base64__private_8h.html#ad654d9148176cc1d7b054228c54bfca3">Base64Status_t</a> preprocessBase64Index </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>base64Index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>pNumPadding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>pNumWhitespace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validates the input Base64 index based on the context of what has been decoded so far and the value of the index. Updates the input counters that are used to keep track of the number of whitespace and padding symbols that have been parsed so far. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">base64Index</td><td>Base64 index that can have on of the values listed in pBase64SymbolToIndexMap. This index represents the value of a valid Base64 symbol, a number to identify it as a formatting symbol, or a number to identify it as an invalid symbol. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pNumPadding</td><td>Pointer to the number of padding symbols that are present before the input Base64 index in the encoded data. This number is incremented if the input symbol is a padding symbol. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pNumWhitespace</td><td>Pointer to the number of whitespace symbols that are present before the input Base64 index in the encoded data. This number is incremented if the input symbol is a whitespace symbol.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following:<ul>
<li><a class="el" href="ota__base64__private_8h.html#ad654d9148176cc1d7b054228c54bfca3aa64f53586a7254b2b83fa1f1ff384600" title="Base64 function success.">Base64Success</a> if the Base64 encoded data was valid and successfully decoded.</li>
<li>An error code defined in <a class="el" href="ota__base64__private_8h.html" title="Function declarations and error codes for ota_base64.c.">ota_base64_private.h</a> if the encoded data or input parameters are invalid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ab884b58a1f532cc3944eae011bad5b76" name="ab884b58a1f532cc3944eae011bad5b76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab884b58a1f532cc3944eae011bad5b76">&#9670;&nbsp;</a></span>updateBase64DecodingBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void updateBase64DecodingBuffer </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>base64Index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pBase64IndexBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pNumDataInBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a Base64 index to a Base64 index buffer. The buffer will only be updated if the index represents a Base64 digit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">base64Index</td><td>Base64 index that can have one of the values listed in pBase64SymbolToIndexMap. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pBase64IndexBuffer</td><td>Pointer to a 32 bit variable that contains Base64 indexes that will be decoded. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pNumDataInBuffer</td><td>Pointer to the number of sextets that are stored in pBase64IndexBuffer. This will be incremented if base64Index is stored in pBase64IndexBuffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aed7d641181bf7fa31fef12ca85fb5c33" name="aed7d641181bf7fa31fef12ca85fb5c33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed7d641181bf7fa31fef12ca85fb5c33">&#9670;&nbsp;</a></span>decodeBase64IndexBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="ota__base64__private_8h.html#ad654d9148176cc1d7b054228c54bfca3">Base64Status_t</a> decodeBase64IndexBuffer </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pBase64IndexBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pNumDataInBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pDest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>destLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pOutputLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode a buffer containing two, three, or four Base64 indices. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pBase64IndexBuffer</td><td>Pointer to a 32 bit variable that contains Base64 indexes that will be decoded. Each index is represented by a sextet in the buffer. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pNumDataInBuffer</td><td>Pointer to the number of sextets (indexes) that are concatenated and stored in pBase64IndexBuffer. This will be set to zero before this function returns. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pDest</td><td>Pointer to a buffer used for storing the decoded data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">destLen</td><td>Length of the pDest buffer. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pOutputLen</td><td>Pointer to the index of pDest where the output should be written.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following:<ul>
<li><a class="el" href="ota__base64__private_8h.html#ad654d9148176cc1d7b054228c54bfca3aa64f53586a7254b2b83fa1f1ff384600" title="Base64 function success.">Base64Success</a> if the Base64 encoded data was valid and successfully decoded.</li>
<li>An error code defined in <a class="el" href="ota__base64__private_8h.html" title="Function declarations and error codes for ota_base64.c.">ota_base64_private.h</a> if the encoded data or input parameters are invalid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a94a9217b253f00b4c3e22132ef564393" name="a94a9217b253f00b4c3e22132ef564393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94a9217b253f00b4c3e22132ef564393">&#9670;&nbsp;</a></span>base64Decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ota__base64__private_8h.html#ad654d9148176cc1d7b054228c54bfca3">Base64Status_t</a> base64Decode </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pDest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>destLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pResultLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pEncodedData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>encodedLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode Base64 encoded data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pDest</td><td>Pointer to a buffer for storing the decoded result. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">destLen</td><td>Length of the pDest buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pResultLen</td><td>Pointer to the length of the decoded result. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pEncodedData</td><td>Pointer to a buffer containing the Base64 encoded data that is intended to be decoded. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">encodedLen</td><td>Length of the pEncodedData buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following:<ul>
<li><a class="el" href="ota__base64__private_8h.html#ad654d9148176cc1d7b054228c54bfca3aa64f53586a7254b2b83fa1f1ff384600" title="Base64 function success.">Base64Success</a> if the Base64 encoded data was valid and successfully decoded.</li>
<li>An error code defined in <a class="el" href="ota__base64__private_8h.html" title="Function declarations and error codes for ota_base64.c.">ota_base64_private.h</a> if the encoded data or input parameters are invalid. </li>
</ul>
</dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="acd877cf168910f36a44a3040ff485ecd" name="acd877cf168910f36a44a3040ff485ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd877cf168910f36a44a3040ff485ecd">&#9670;&nbsp;</a></span>pBase64SymbolToIndexMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t pBase64SymbolToIndexMap[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    64, 67, 67, 64, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 65, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 62, 67, 67, 67, 63, 52, 53,</div>
<div class="line">    54, 55, 56, 57, 58, 59, 60, 61, 67, 67,</div>
<div class="line">    67, 66, 67, 67, 67, 0,  1,  2,  3,  4,</div>
<div class="line">    5,  6,  7,  8,  9,  10, 11, 12, 13, 14,</div>
<div class="line">    15, 16, 17, 18, 19, 20, 21, 22, 23, 24,</div>
<div class="line">    25, 67, 67, 67, 67, 67, 67, 26, 27, 28,</div>
<div class="line">    29, 30, 31, 32, 33, 34, 35, 36, 37, 38,</div>
<div class="line">    39, 40, 41, 42, 43, 44, 45, 46, 47, 48,</div>
<div class="line">    49, 50, 51, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67, 67, 67, 67, 67,</div>
<div class="line">    67, 67, 67, 67, 67, 67</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>This table takes is indexed by an Ascii character and returns the respective Base64 index. The Ascii character used to index into this table is assumed to represent a symbol in a string of Base64 encoded data. There are three kinds of possible ascii characters: 1) Base64 Symbols. These are the digits of a Base 64 number system. 2) Formatting characters. These are newline, whitespace, and padding. 3) Symbols that are impossible to have inside of correctly Base64 encoded data. </p>
<p >This table assumes that the padding symbol is the Ascii character '='</p>
<p >Valid Base64 symbols will have an index ranging from 0-63. The Base64 digits being used are "ABCDEFGHIJKLMNOPQRSTUVWXYabcdefghijklmnopqrstuvwxyz0123456789+/" where 'A' is the 0th index of the Base64 symbols and '/' is the 63rd index.</p>
<p >Outside of the numbers 0-63, there are magic numbers in this table:</p><ul>
<li>The 11th entry in this table has the number 64. This is to identify the ascii character '<br  />
' as a newline character.</li>
<li>The 14th entry in this table has the number 64. This is to identify the ascii character '\r' as a newline character.</li>
<li>The 33rd entry in this table has the number 65. This is to identify the ascii character ' ' as a whitespace character.</li>
<li>The 62nd entry in this table has the number 66. This is to identify the ascii character '=' as the padding character.</li>
<li>All positions in the ascii table that are invalid symbols are identified with the number 67 (other than '<br  />
','\r',' ','='). </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="ota__base64_8c.html">ota_base64.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
