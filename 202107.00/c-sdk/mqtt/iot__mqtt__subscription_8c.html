<!-- This file provides the custom header for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.14"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>
        MQTT: iot_mqtt_subscription.c File Reference
    </title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="foobar.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
    <tbody>
        <tr style="height: 56px;">
            <td id="projectalign" style="padding-left: 0.5em;">
                <div id="projectname">
                    <span id="csdkprefix">AWS IoT Device SDK C:</span>
                    MQTT
                </div>
                <div id="projectbrief">
                    MQTT 3.1.1 client library
                </div>
            </td>
        </tr>
        <tr>
            <td id="returntomain">
                <a href="../main/index.html">Return to main page &uarr;</a>
            </td>
        </tr>
    </tbody>
    </table>
    </div>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('iot__mqtt__subscription_8c.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">iot_mqtt_subscription.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implements functions that manage subscriptions for an MQTT connection.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;iot_config.h&quot;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="iot__mqtt__internal_8h_source.html">private/iot_mqtt_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/iot__threads_8h.html">platform/iot_threads.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__topicMatchParams__t.html">_topicMatchParams_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">First parameter to <a class="el" href="iot__mqtt__subscription_8c.html#a5e474584566b4bf50a53f8ae122b0509" title="Matches a topic name (from a publish) with a topic filter (from a subscription). ">_topicMatch</a>.  <a href="struct__topicMatchParams__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__packetMatchParams__t.html">_packetMatchParams_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">First parameter to <a class="el" href="iot__mqtt__subscription_8c.html#a4336b0ecc0437f83da9b2b6ec6297acc" title="Matches a packet identifier and order. ">_packetMatch</a>.  <a href="struct__packetMatchParams__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4e7e1b830d08bfcbb5e4f88ca9abfe94"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__mqtt__subscription_8c.html#a4e7e1b830d08bfcbb5e4f88ca9abfe94">_matchEndWildcards</a> (const char *pTopicFilter, uint16_t topicNameLength, uint16_t topicFilterLength, uint16_t nameIndex, uint16_t filterIndex, bool *pMatch)</td></tr>
<tr class="memdesc:a4e7e1b830d08bfcbb5e4f88ca9abfe94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle special corner cases regarding wildcards at the end of topic filters, as documented by the MQTT protocol spec.  <a href="#a4e7e1b830d08bfcbb5e4f88ca9abfe94">More...</a><br /></td></tr>
<tr class="separator:a4e7e1b830d08bfcbb5e4f88ca9abfe94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a09e14cf7385d9c525df05c83c6bac9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__mqtt__subscription_8c.html#a0a09e14cf7385d9c525df05c83c6bac9">_matchWildcards</a> (const char *pTopicFilter, const char *pTopicName, uint16_t topicNameLength, uint16_t filterIndex, uint16_t *pNameIndex, bool *pMatch)</td></tr>
<tr class="memdesc:a0a09e14cf7385d9c525df05c83c6bac9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to match characters in a topic filter by wildcards.  <a href="#a0a09e14cf7385d9c525df05c83c6bac9">More...</a><br /></td></tr>
<tr class="separator:a0a09e14cf7385d9c525df05c83c6bac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a918237827eefc532d731ef17cfd7cabd"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__mqtt__subscription_8c.html#a918237827eefc532d731ef17cfd7cabd">_topicFilterMatch</a> (const char *pTopicName, uint16_t topicNameLength, const char *pTopicFilter, uint16_t topicFilterLength)</td></tr>
<tr class="memdesc:a918237827eefc532d731ef17cfd7cabd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Match a topic name and topic filter while allowing the use of wildcards.  <a href="#a918237827eefc532d731ef17cfd7cabd">More...</a><br /></td></tr>
<tr class="separator:a918237827eefc532d731ef17cfd7cabd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e474584566b4bf50a53f8ae122b0509"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__mqtt__subscription_8c.html#a5e474584566b4bf50a53f8ae122b0509">_topicMatch</a> (const <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/linear_containers.tag:../linear_containers/" href="../linear_containers/structIotLink__t.html">IotLink_t</a> *const pSubscriptionLink, void *pMatch)</td></tr>
<tr class="memdesc:a5e474584566b4bf50a53f8ae122b0509"><td class="mdescLeft">&#160;</td><td class="mdescRight">Matches a topic name (from a publish) with a topic filter (from a subscription).  <a href="#a5e474584566b4bf50a53f8ae122b0509">More...</a><br /></td></tr>
<tr class="separator:a5e474584566b4bf50a53f8ae122b0509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4336b0ecc0437f83da9b2b6ec6297acc"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__mqtt__subscription_8c.html#a4336b0ecc0437f83da9b2b6ec6297acc">_packetMatch</a> (const <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/linear_containers.tag:../linear_containers/" href="../linear_containers/structIotLink__t.html">IotLink_t</a> *const pSubscriptionLink, void *pMatch)</td></tr>
<tr class="memdesc:a4336b0ecc0437f83da9b2b6ec6297acc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Matches a packet identifier and order.  <a href="#a4336b0ecc0437f83da9b2b6ec6297acc">More...</a><br /></td></tr>
<tr class="separator:a4336b0ecc0437f83da9b2b6ec6297acc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe69618a7091b9b811a6b30359c06f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__mqtt__datatypes__enums.html#ga47b87de32b8c83c88d68e9b9c26d1346">IotMqttError_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__mqtt__subscription_8c.html#acbe69618a7091b9b811a6b30359c06f6">_IotMqtt_AddSubscriptions</a> (<a class="el" href="struct__mqttConnection__t.html">_mqttConnection_t</a> *pMqttConnection, uint16_t subscribePacketIdentifier, const <a class="el" href="structIotMqttSubscription__t.html">IotMqttSubscription_t</a> *pSubscriptionList, size_t subscriptionCount)</td></tr>
<tr class="memdesc:acbe69618a7091b9b811a6b30359c06f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an array of subscriptions to the subscription manager.  <a href="#acbe69618a7091b9b811a6b30359c06f6">More...</a><br /></td></tr>
<tr class="separator:acbe69618a7091b9b811a6b30359c06f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc2e06457ab921222655c43494e6d5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__mqtt__subscription_8c.html#addc2e06457ab921222655c43494e6d5a">_IotMqtt_InvokeSubscriptionCallback</a> (<a class="el" href="struct__mqttConnection__t.html">_mqttConnection_t</a> *pMqttConnection, <a class="el" href="structIotMqttCallbackParam__t.html">IotMqttCallbackParam_t</a> *pCallbackParam)</td></tr>
<tr class="memdesc:addc2e06457ab921222655c43494e6d5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a received PUBLISH from the server, invoking any subscription callbacks that have a matching topic filter.  <a href="#addc2e06457ab921222655c43494e6d5a">More...</a><br /></td></tr>
<tr class="separator:addc2e06457ab921222655c43494e6d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d4e841853acfc7b994bb0c7e2cbc66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__mqtt__subscription_8c.html#ad4d4e841853acfc7b994bb0c7e2cbc66">_IotMqtt_RemoveSubscriptionByPacket</a> (<a class="el" href="struct__mqttConnection__t.html">_mqttConnection_t</a> *pMqttConnection, uint16_t packetIdentifier, int32_t order)</td></tr>
<tr class="memdesc:ad4d4e841853acfc7b994bb0c7e2cbc66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a single subscription from the subscription manager by packetIdentifier and order.  <a href="#ad4d4e841853acfc7b994bb0c7e2cbc66">More...</a><br /></td></tr>
<tr class="separator:ad4d4e841853acfc7b994bb0c7e2cbc66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3b088294504a6d5edd0994cef527395"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__mqtt__subscription_8c.html#ac3b088294504a6d5edd0994cef527395">_IotMqtt_RemoveSubscriptionByTopicFilter</a> (<a class="el" href="struct__mqttConnection__t.html">_mqttConnection_t</a> *pMqttConnection, const <a class="el" href="structIotMqttSubscription__t.html">IotMqttSubscription_t</a> *pSubscriptionList, size_t subscriptionCount)</td></tr>
<tr class="memdesc:ac3b088294504a6d5edd0994cef527395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an array of subscriptions from the subscription manager by topic filter.  <a href="#ac3b088294504a6d5edd0994cef527395">More...</a><br /></td></tr>
<tr class="separator:ac3b088294504a6d5edd0994cef527395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00dee190d6294e472ffd695509ee14b6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="iot__mqtt__subscription_8c.html#a00dee190d6294e472ffd695509ee14b6">IotMqtt_IsSubscribed</a> (<a class="el" href="group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a> mqttConnection, const char *pTopicFilter, uint16_t topicFilterLength, <a class="el" href="structIotMqttSubscription__t.html">IotMqttSubscription_t</a> *const pCurrentSubscription)</td></tr>
<tr class="memdesc:a00dee190d6294e472ffd695509ee14b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if an MQTT connection has a subscription for a topic filter.  <a href="#a00dee190d6294e472ffd695509ee14b6">More...</a><br /></td></tr>
<tr class="separator:a00dee190d6294e472ffd695509ee14b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implements functions that manage subscriptions for an MQTT connection. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4e7e1b830d08bfcbb5e4f88ca9abfe94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e7e1b830d08bfcbb5e4f88ca9abfe94">&#9670;&nbsp;</a></span>_matchEndWildcards()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool _matchEndWildcards </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pTopicFilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>topicNameLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>topicFilterLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>nameIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>filterIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>pMatch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle special corner cases regarding wildcards at the end of topic filters, as documented by the MQTT protocol spec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pTopicFilter</td><td>The topic filter containing the wildcard. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nameIndex</td><td>Index of the topic name being examined. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filterIndex</td><td>Index of the topic filter being examined. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">topicNameLength</td><td>Length of the topic name being examined. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">topicFilterLength</td><td>Length of the topic filter being examined. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pMatch</td><td>Whether the topic filter and topic name match.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the caller of this function should exit; <code>false</code> if the caller should continue parsing the topics. </dd></dl>

</div>
</div>
<a id="a0a09e14cf7385d9c525df05c83c6bac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a09e14cf7385d9c525df05c83c6bac9">&#9670;&nbsp;</a></span>_matchWildcards()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool _matchWildcards </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pTopicFilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pTopicName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>topicNameLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>filterIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>pNameIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>pMatch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attempt to match characters in a topic filter by wildcards. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pTopicFilter</td><td>The topic filter containing the wildcard. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pTopicName</td><td>The topic name to check. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">topicNameLength</td><td>Length of the topic name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filterIndex</td><td>Index of the wildcard in the topic filter. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pNameIndex</td><td>Index of character in topic name. This variable is advanced for <code>+</code> wildcards. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pMatch</td><td>Whether the topic filter and topic name match.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the caller of this function should exit; <code>false</code> if the caller should continue parsing the topics. </dd></dl>

</div>
</div>
<a id="a918237827eefc532d731ef17cfd7cabd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a918237827eefc532d731ef17cfd7cabd">&#9670;&nbsp;</a></span>_topicFilterMatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool _topicFilterMatch </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pTopicName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>topicNameLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pTopicFilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>topicFilterLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Match a topic name and topic filter while allowing the use of wildcards. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pTopicName</td><td>The topic name to check. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">topicNameLength</td><td>Length of <code>pTopicName</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pTopicFilter</td><td>The topic filter to check. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">topicFilterLength</td><td>Length of <code>pTopicFilter</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the topic name and topic filter match; <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="a5e474584566b4bf50a53f8ae122b0509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e474584566b4bf50a53f8ae122b0509">&#9670;&nbsp;</a></span>_topicMatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool _topicMatch </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/linear_containers.tag:../linear_containers/" href="../linear_containers/structIotLink__t.html">IotLink_t</a> *const&#160;</td>
          <td class="paramname"><em>pSubscriptionLink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pMatch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Matches a topic name (from a publish) with a topic filter (from a subscription). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pSubscriptionLink</td><td>Pointer to the link member of an <a class="el" href="struct__mqttSubscription__t.html" title="Represents a subscription stored in an MQTT connection. ">_mqttSubscription_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pMatch</td><td>Pointer to a <a class="el" href="struct__topicMatchParams__t.html" title="First parameter to _topicMatch. ">_topicMatchParams_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the arguments match the subscription topic filter; <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="a4336b0ecc0437f83da9b2b6ec6297acc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4336b0ecc0437f83da9b2b6ec6297acc">&#9670;&nbsp;</a></span>_packetMatch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool _packetMatch </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/linear_containers.tag:../linear_containers/" href="../linear_containers/structIotLink__t.html">IotLink_t</a> *const&#160;</td>
          <td class="paramname"><em>pSubscriptionLink</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pMatch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Matches a packet identifier and order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pSubscriptionLink</td><td>Pointer to the link member of an <a class="el" href="struct__mqttSubscription__t.html" title="Represents a subscription stored in an MQTT connection. ">_mqttSubscription_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pMatch</td><td>Pointer to a <a class="el" href="struct__packetMatchParams__t.html" title="First parameter to _packetMatch. ">_packetMatchParams_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the arguments match the subscription's packet info; <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="acbe69618a7091b9b811a6b30359c06f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe69618a7091b9b811a6b30359c06f6">&#9670;&nbsp;</a></span>_IotMqtt_AddSubscriptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__mqtt__datatypes__enums.html#ga47b87de32b8c83c88d68e9b9c26d1346">IotMqttError_t</a> _IotMqtt_AddSubscriptions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mqttConnection__t.html">_mqttConnection_t</a> *&#160;</td>
          <td class="paramname"><em>pMqttConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>subscribePacketIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structIotMqttSubscription__t.html">IotMqttSubscription_t</a> *&#160;</td>
          <td class="paramname"><em>pSubscriptionList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>subscriptionCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an array of subscriptions to the subscription manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pMqttConnection</td><td>The MQTT connection associated with the subscriptions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subscribePacketIdentifier</td><td>Packet identifier for the subscriptions' SUBSCRIBE packet. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pSubscriptionList</td><td>The first element in the array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subscriptionCount</td><td>Number of elements in <code>pSubscriptionList</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__mqtt__datatypes__enums.html#gga47b87de32b8c83c88d68e9b9c26d1346a2e6e37bd8e04b70023e4c6a2dc173ce1" title="MQTT operation completed successfully. ">IOT_MQTT_SUCCESS</a> or <a class="el" href="group__mqtt__datatypes__enums.html#gga47b87de32b8c83c88d68e9b9c26d1346ab481ade10eabf458213959b070386463" title="MQTT operation failed because of memory allocation failure. ">IOT_MQTT_NO_MEMORY</a>. </dd></dl>

</div>
</div>
<a id="addc2e06457ab921222655c43494e6d5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addc2e06457ab921222655c43494e6d5a">&#9670;&nbsp;</a></span>_IotMqtt_InvokeSubscriptionCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _IotMqtt_InvokeSubscriptionCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mqttConnection__t.html">_mqttConnection_t</a> *&#160;</td>
          <td class="paramname"><em>pMqttConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIotMqttCallbackParam__t.html">IotMqttCallbackParam_t</a> *&#160;</td>
          <td class="paramname"><em>pCallbackParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process a received PUBLISH from the server, invoking any subscription callbacks that have a matching topic filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pMqttConnection</td><td>The MQTT connection associated with the received PUBLISH. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pCallbackParam</td><td>The parameter to pass to a PUBLISH callback. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad4d4e841853acfc7b994bb0c7e2cbc66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4d4e841853acfc7b994bb0c7e2cbc66">&#9670;&nbsp;</a></span>_IotMqtt_RemoveSubscriptionByPacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _IotMqtt_RemoveSubscriptionByPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mqttConnection__t.html">_mqttConnection_t</a> *&#160;</td>
          <td class="paramname"><em>pMqttConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>packetIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a single subscription from the subscription manager by packetIdentifier and order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pMqttConnection</td><td>The MQTT connection associated with the subscriptions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">packetIdentifier</td><td>The packet identifier associated with the subscription's SUBSCRIBE packet. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">order</td><td>The order of the subscription in the SUBSCRIBE packet. Pass <a class="el" href="iot__mqtt__internal_8h.html#aabb089213ee8a13d99a4a90427741cdb" title="When calling _IotMqtt_RemoveSubscriptionByPacket, use this value for order to delete all subscription...">MQTT_REMOVE_ALL_SUBSCRIPTIONS</a> to ignore order and remove all subscriptions for <code>packetIdentifier</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac3b088294504a6d5edd0994cef527395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3b088294504a6d5edd0994cef527395">&#9670;&nbsp;</a></span>_IotMqtt_RemoveSubscriptionByTopicFilter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _IotMqtt_RemoveSubscriptionByTopicFilter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mqttConnection__t.html">_mqttConnection_t</a> *&#160;</td>
          <td class="paramname"><em>pMqttConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structIotMqttSubscription__t.html">IotMqttSubscription_t</a> *&#160;</td>
          <td class="paramname"><em>pSubscriptionList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>subscriptionCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an array of subscriptions from the subscription manager by topic filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pMqttConnection</td><td>The MQTT connection associated with the subscriptions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pSubscriptionList</td><td>The first element in the array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subscriptionCount</td><td>Number of elements in <code>pSubscriptionList</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a00dee190d6294e472ffd695509ee14b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00dee190d6294e472ffd695509ee14b6">&#9670;&nbsp;</a></span>IotMqtt_IsSubscribed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IotMqtt_IsSubscribed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a>&#160;</td>
          <td class="paramname"><em>mqttConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pTopicFilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>topicFilterLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structIotMqttSubscription__t.html">IotMqttSubscription_t</a> *const&#160;</td>
          <td class="paramname"><em>pCurrentSubscription</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if an MQTT connection has a subscription for a topic filter. </p>
<p>This function checks whether an MQTT connection <code>mqttConnection</code> has a subscription callback registered for a topic filter <code>pTopicFilter</code>. If a subscription callback is found, its details are copied into the output parameter <code>pCurrentSubscription</code>. This subscription callback will be invoked for incoming PUBLISH messages on <code>pTopicFilter</code>.</p>
<p><b>The check for a matching subscription is only performed client-side</b>; therefore, this function should not be relied upon for perfect accuracy. For example, this function may return an incorrect result if the MQTT server crashes and drops subscriptions without informing the client.</p>
<p>Note that an MQTT connection's subscriptions might change between the time this function checks the subscription list and its caller tests the return value. This function certainly should not be used concurrently with any pending SUBSCRIBE or UNSUBSCRIBE operations.</p>
<p>One suitable use of this function is to check <em>which</em> subscriptions were rejected if <a class="el" href="mqtt_function_subscribeasync.html">IotMqtt_SubscribeAsync</a> returns <a class="el" href="group__mqtt__datatypes__enums.html#gga47b87de32b8c83c88d68e9b9c26d1346abd1e37172ef79cc536d2215fb0fcf1de" title="A CONNECT or at least one subscription was refused by the server. ">IOT_MQTT_SERVER_REFUSED</a>; that return code only means that <em>at least one</em> subscription was rejected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mqttConnection</td><td>The MQTT connection to check. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pTopicFilter</td><td>The topic filter to check. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">topicFilterLength</td><td>Length of <code>pTopicFilter</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pCurrentSubscription</td><td>If a subscription is found, its details are copied here. This output parameter is only valid if this function returns <code>true</code> (<code>NULL</code> to disable).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if a subscription was found; <code>false</code> otherwise.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The subscription QoS is not stored by the MQTT library; therefore, <code>pCurrentSubscription-&gt;qos</code> will always be set to <a class="el" href="group__mqtt__datatypes__enums.html#gga974a9cdcc8e835aab6f1bf6d90365db6a81c90cd35b94c7dca50242808b05e7eb">IOT_MQTT_QOS_0</a>. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- This file provides the custom footer for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Generated by
      <a href="http://www.doxygen.org/index.html">
      <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14
    </li>
    <li class="footer">
      Last updated Thu Apr 30 2020
    </li>
    <li class="footer" style="float:left">
        SDK version 4.0.0b1
    </li>
  </ul>
</div>
</body>
</html>
