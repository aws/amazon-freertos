<!-- This file provides the custom header for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.14"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>
        MQTT: Main Page
    </title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="foobar.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
    <tbody>
        <tr style="height: 56px;">
            <td id="projectalign" style="padding-left: 0.5em;">
                <div id="projectname">
                    <span id="csdkprefix">AWS IoT Device SDK C:</span>
                    MQTT
                </div>
                <div id="projectbrief">
                    MQTT 3.1.1 client library
                </div>
            </td>
        </tr>
        <tr>
            <td id="returntomain">
                <a href="../main/index.html">Return to main page &uarr;</a>
            </td>
        </tr>
    </tbody>
    </table>
    </div>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">MQTT Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>MQTT 3.1.1 client library.<a class="anchor" id="mqtt"></a></p><blockquote class="doxtable">
<p>MQTT stands for MQ Telemetry Transport. It is a publish/subscribe, extremely simple and lightweight messaging protocol, designed for constrained devices and low-bandwidth, high-latency or unreliable networks. The design principles are to minimise network bandwidth and device resource requirements whilst also attempting to ensure reliability and some degree of assurance of delivery. These principles also turn out to make the protocol ideal of the emerging "machine-to-machine" (M2M) or "Internet of Things" world of connected devices, and for mobile applications where bandwidth and battery power are at a premium. </p>
</blockquote>
<p><span style="float:right;margin-right:4em"> &mdash; <em>Official description of MQTT from <a href="http://mqtt.org">mqtt.org</a></em></span><br />
</p>
<p>This MQTT library implements a subset of the MQTT 3.1.1 standard. Features of this library include:</p><ul>
<li>Both fully asynchronous and blocking API functions.</li>
<li>Scalable performance and footprint. The <a class="el" href="mqtt_config.html">configuration settings</a> allow this library to be tailored to a system's resources.</li>
</ul>
<dl class="section attention"><dt>Attention</dt><dd>Currently, this library does not support QoS 2 MQTT messages.</dd></dl>
<h1><a class="anchor" id="mqtt_dependencies"></a>
Dependencies</h1>
<p>Dependencies of the MQTT library.</p>
<div class="dotgraph">
<img src="dot_inline_dotgraph_1.png" alt="dot_inline_dotgraph_1.png" border="0" usemap="#dot_inline_dotgraph_1.map"/>
<map name="dot_inline_dotgraph_1.map" id="dot_inline_dotgraph_1.map"><area shape="rect" id="node2" href="../linear_containers/index.html#linear_containers" title="Linear containers" alt="" coords="5,116,140,164"/>
<area shape="rect" id="node3" href="../logging/index.html#logging" title="Logging" alt="" coords="164,116,237,164"/>
<area shape="rect" id="node4" href="../static_memory/index.html#static_memory" title="Static memory" alt="" coords="407,116,525,164"/>
<area shape="rect" id="node5" href="../taskpool/index.html#taskpool" title="Task pool" alt="" coords="549,116,631,164"/>
<area shape="rect" id="node6" href="../platform/platform_network.html" title="Network" alt="" coords="655,116,733,164"/>
</map>
<div class="caption">
MQTT direct dependencies</div>
</div>
<p>Currently, the MQTT library has the following dependencies:</p><ul>
<li>The linear containers library for maintaining the data structures for managing in-progress MQTT operations.</li>
<li>The logging library may be used if <a class="el" href="mqtt_config.html#IOT_LOG_LEVEL_MQTT">IOT_LOG_LEVEL_MQTT</a> is not <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/logging.tag:../logging/" href="../logging/iot__logging_8h.html#a11f358ff0cb9b694f6a12ebc0b41df01">IOT_LOG_NONE</a>.</li>
<li>The task pool to submit background jobs. The MQTT library does not create or manage any threads, but relies on at least one thread being available in the task pool.</li>
</ul>
<p>In addition to the components above, the MQTT library also depends on C standard library headers and the <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/index.html#platform">platform layer</a>.</p>
<h1><a class="anchor" id="mqtt_memory"></a>
Memory requirements</h1>
<p>Memory requirements of the MQTT library.</p>
<h2><a class="anchor" id="mqtt_memory_code"></a>
Code size</h2>
<p>Code size of the MQTT library.</p>
<p>The following measurements were taken with arm-none-eabi-gcc v9.2.1 (October 2019) with the <a href="https://github.com/aws/aws-iot-device-sdk-embedded-C/tree/f1a8b698b1d2fd5b8475b11a16d399181c1d867f">MQTT library from January 2020</a>. These values are rough estimates not tuned for any specific ARM processor.</p>
<p><b>Minimal Size Build</b> <br />
 No logging, asserts, or diagnostic information. Compiled using the ARM Thumb instruction set (<code>-mthumb</code>) and optimized for size (<code>-Os</code>). Values are in <em>bytes</em>.</p>
<table class="doxtable">
<tr>
<td><b>object</b> </td><td><b>text</b> </td><td><b>data</b> </td><td><b>bss</b>  </td></tr>
<tr>
<td>iot_mqtt_api </td><td>2703 </td><td>0 </td><td>4  </td></tr>
<tr>
<td>iot_mqtt_network </td><td>884 </td><td>0 </td><td>0  </td></tr>
<tr>
<td>iot_mqtt_operation </td><td>1773 </td><td>0 </td><td>0  </td></tr>
<tr>
<td>iot_mqtt_serialize </td><td>2606 </td><td>4 </td><td>0  </td></tr>
<tr>
<td>iot_mqtt_subscription </td><td>1244 </td><td>0 </td><td>0  </td></tr>
<tr>
<td>iot_mqtt_validate </td><td>444 </td><td>0 </td><td>0  </td></tr>
<tr>
<td><b>total</b> </td><td><b>9654</b> </td><td><b>4</b> </td><td><b>4</b>  </td></tr>
</table>
<p><b>Debug Build</b> <br />
 All logging, asserts, and diagnostic information enabled. Debugging symbols available. Compiled using the ARM Thumb instruction set (<code>-mthumb</code>). Values are in <em>bytes</em>.</p>
<table class="doxtable">
<tr>
<td><b>object</b> </td><td><b>text</b> </td><td><b>data</b> </td><td><b>bss</b>  </td></tr>
<tr>
<td>iot_mqtt_api </td><td>11897 </td><td>0 </td><td>4  </td></tr>
<tr>
<td>iot_mqtt_network </td><td>5412 </td><td>0 </td><td>0  </td></tr>
<tr>
<td>iot_mqtt_operation </td><td>10484 </td><td>0 </td><td>0  </td></tr>
<tr>
<td>iot_mqtt_serialize </td><td>14454 </td><td>28 </td><td>0  </td></tr>
<tr>
<td>iot_mqtt_subscription </td><td>3885 </td><td>0 </td><td>0  </td></tr>
<tr>
<td>iot_mqtt_validate </td><td>4330 </td><td>0 </td><td>0  </td></tr>
<tr>
<td><b>total</b> </td><td><b>50462</b> </td><td><b>28</b> </td><td><b>4</b>  </td></tr>
</table>
<h2><a class="anchor" id="mqtt_memory_runtime"></a>
Runtime memory requirements</h2>
<p>Runtime memory requirements of the MQTT library.</p>
<p><b>The values given below do not consider any dependencies, such as the task pool or TLS stack.</b></p>
<p>Approximate sizes of MQTT objects are given below. Note that the exact size depends on how certain platform types (such as mutexes) are implemented.<br />
 </p><table class="doxtable">
<tr>
<td>Each MQTT connection </td><td>250 bytes  </td></tr>
<tr>
<td>Each MQTT operation </td><td>150 bytes, plus the length of a topic name and message if publishing  </td></tr>
<tr>
<td>Each MQTT subscription </td><td>70 bytes, plus the length of the subscription topic filter  </td></tr>
</table>
<p>For example, consider an application that does the following:</p><ol type="1">
<li>Establishes an MQTT connection.</li>
<li>Subscribes to a topic.</li>
<li>Publishes a message to a topic.</li>
<li>Unsubscribes from a topic.</li>
<li>Closes the connection.</li>
</ol>
<p>This application is expected to have a peak runtime memory usage of about 600 bytes (not counting any usage by dependencies or the TLS stack).</p>
<p>By default, this memory would be allocated from the heap using the <a class="el" href="mqtt_config.html#mqtt_config_memory">configured memory allocation functions</a>. If <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/main.tag:../main/" href="../main/global_library_config.html#IOT_STATIC_MEMORY_ONLY">IOT_STATIC_MEMORY_ONLY</a> is defined to <code>1</code>, then the memory will be allocated at compile-time.</p>
<div class="image">
<img src="mqtt_memory_example.png" alt="mqtt_memory_example.png" width="80%"/>
</div>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- This file provides the custom footer for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Generated by
      <a href="http://www.doxygen.org/index.html">
      <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14
    </li>
    <li class="footer">
      Last updated Thu Apr 30 2020
    </li>
    <li class="footer" style="float:left">
        SDK version 4.0.0b1
    </li>
  </ul>
</div>
</body>
</html>
