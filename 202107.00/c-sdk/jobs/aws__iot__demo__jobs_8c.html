<!-- This file provides the custom header for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.14"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>
        Jobs: aws_iot_demo_jobs.c File Reference
    </title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="foobar.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
    <tbody>
        <tr style="height: 56px;">
            <td id="projectalign" style="padding-left: 0.5em;">
                <div id="projectname">
                    <span id="csdkprefix">AWS IoT Device SDK C:</span>
                    Jobs
                </div>
                <div id="projectbrief">
                    AWS IoT Jobs library
                </div>
            </td>
        </tr>
        <tr>
            <td id="returntomain">
                <a href="../main/index.html">Return to main page &uarr;</a>
            </td>
        </tr>
    </tbody>
    </table>
    </div>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('aws__iot__demo__jobs_8c.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">aws_iot_demo_jobs.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Demonstrates use of the AWS IoT Jobs library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;iot_config.h&quot;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;iot_demo_logging.h&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/iot__clock_8h.html">platform/iot_clock.h</a>&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/iot__mqtt_8h.html">iot_mqtt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="aws__iot__jobs_8h_source.html">aws_iot_jobs.h</a>&quot;</code><br />
<code>#include &quot;aws_iot_doc_parser.h&quot;</code><br />
<code>#include &quot;iot_atomic.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a53bb6ce0dbc843daa4ad914d78713ac2"><td class="memItemLeft" align="right" valign="top"><a id="a53bb6ce0dbc843daa4ad914d78713ac2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a53bb6ce0dbc843daa4ad914d78713ac2">TIMEOUT_MS</a>&#160;&#160;&#160;( ( uint32_t ) 5000u )</td></tr>
<tr class="memdesc:a53bb6ce0dbc843daa4ad914d78713ac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The timeout for Jobs and MQTT operations in this demo. <br /></td></tr>
<tr class="separator:a53bb6ce0dbc843daa4ad914d78713ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ac1f60ff759166bc80657202662f32"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a39ac1f60ff759166bc80657202662f32">KEEP_ALIVE_SECONDS</a>&#160;&#160;&#160;( ( uint16_t ) 60u )</td></tr>
<tr class="memdesc:a39ac1f60ff759166bc80657202662f32"><td class="mdescLeft">&#160;</td><td class="mdescRight">The keep-alive interval used for this demo.  <a href="#a39ac1f60ff759166bc80657202662f32">More...</a><br /></td></tr>
<tr class="separator:a39ac1f60ff759166bc80657202662f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e538cdbb20d483551fcdc47edad58d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a70e538cdbb20d483551fcdc47edad58d">JOB_ID_KEY</a>&#160;&#160;&#160;&quot;jobId&quot;</td></tr>
<tr class="memdesc:a70e538cdbb20d483551fcdc47edad58d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The JSON key of the Job ID.  <a href="#a70e538cdbb20d483551fcdc47edad58d">More...</a><br /></td></tr>
<tr class="separator:a70e538cdbb20d483551fcdc47edad58d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7bb5f537af918e43e649d7d20bab0a9"><td class="memItemLeft" align="right" valign="top"><a id="af7bb5f537af918e43e649d7d20bab0a9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#af7bb5f537af918e43e649d7d20bab0a9">JOB_ID_KEY_LENGTH</a>&#160;&#160;&#160;( sizeof( <a class="el" href="aws__iot__demo__jobs_8c.html#a70e538cdbb20d483551fcdc47edad58d">JOB_ID_KEY</a> ) - 1 )</td></tr>
<tr class="memdesc:af7bb5f537af918e43e649d7d20bab0a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The length of <a class="el" href="aws__iot__demo__jobs_8c.html#a70e538cdbb20d483551fcdc47edad58d" title="The JSON key of the Job ID. ">JOB_ID_KEY</a>. <br /></td></tr>
<tr class="separator:af7bb5f537af918e43e649d7d20bab0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c6795f8cef2f72eab3af0d91272dd24"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a3c6795f8cef2f72eab3af0d91272dd24">JOB_DOC_KEY</a>&#160;&#160;&#160;&quot;jobDocument&quot;</td></tr>
<tr class="memdesc:a3c6795f8cef2f72eab3af0d91272dd24"><td class="mdescLeft">&#160;</td><td class="mdescRight">The JSON key of the Job document.  <a href="#a3c6795f8cef2f72eab3af0d91272dd24">More...</a><br /></td></tr>
<tr class="separator:a3c6795f8cef2f72eab3af0d91272dd24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60bc20ff4caf4247e30500c28b2ee800"><td class="memItemLeft" align="right" valign="top"><a id="a60bc20ff4caf4247e30500c28b2ee800"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a60bc20ff4caf4247e30500c28b2ee800">JOB_DOC_KEY_LENGTH</a>&#160;&#160;&#160;( sizeof( <a class="el" href="aws__iot__demo__jobs_8c.html#a3c6795f8cef2f72eab3af0d91272dd24">JOB_DOC_KEY</a> ) - 1 )</td></tr>
<tr class="memdesc:a60bc20ff4caf4247e30500c28b2ee800"><td class="mdescLeft">&#160;</td><td class="mdescRight">The length of <a class="el" href="aws__iot__demo__jobs_8c.html#a3c6795f8cef2f72eab3af0d91272dd24" title="The JSON key of the Job document. ">JOB_DOC_KEY</a>. <br /></td></tr>
<tr class="separator:a60bc20ff4caf4247e30500c28b2ee800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94befe11872d82b3826f9d390221f579"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a94befe11872d82b3826f9d390221f579">JOB_ACTION_KEY</a>&#160;&#160;&#160;&quot;action&quot;</td></tr>
<tr class="memdesc:a94befe11872d82b3826f9d390221f579"><td class="mdescLeft">&#160;</td><td class="mdescRight">The JSON key whose value represents the action this demo should take.  <a href="#a94befe11872d82b3826f9d390221f579">More...</a><br /></td></tr>
<tr class="separator:a94befe11872d82b3826f9d390221f579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9be1e0500c96642d5de25d8b1e0a7423"><td class="memItemLeft" align="right" valign="top"><a id="a9be1e0500c96642d5de25d8b1e0a7423"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a9be1e0500c96642d5de25d8b1e0a7423">JOB_ACTION_KEY_LENGTH</a>&#160;&#160;&#160;( sizeof( <a class="el" href="aws__iot__demo__jobs_8c.html#a94befe11872d82b3826f9d390221f579">JOB_ACTION_KEY</a> ) - 1 )</td></tr>
<tr class="memdesc:a9be1e0500c96642d5de25d8b1e0a7423"><td class="mdescLeft">&#160;</td><td class="mdescRight">The length of <a class="el" href="aws__iot__demo__jobs_8c.html#a94befe11872d82b3826f9d390221f579" title="The JSON key whose value represents the action this demo should take. ">JOB_ACTION_KEY</a>. <br /></td></tr>
<tr class="separator:a9be1e0500c96642d5de25d8b1e0a7423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac139532178c08cd8cef2b157700443bd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#ac139532178c08cd8cef2b157700443bd">JOB_MESSAGE_KEY</a>&#160;&#160;&#160;&quot;message&quot;</td></tr>
<tr class="memdesc:ac139532178c08cd8cef2b157700443bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">A message associated with the Job action.  <a href="#ac139532178c08cd8cef2b157700443bd">More...</a><br /></td></tr>
<tr class="separator:ac139532178c08cd8cef2b157700443bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d7816c62a8c36a8ac41d2e90ba5a3e8"><td class="memItemLeft" align="right" valign="top"><a id="a5d7816c62a8c36a8ac41d2e90ba5a3e8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a5d7816c62a8c36a8ac41d2e90ba5a3e8">JOB_MESSAGE_KEY_LENGTH</a>&#160;&#160;&#160;( sizeof( <a class="el" href="aws__iot__demo__jobs_8c.html#ac139532178c08cd8cef2b157700443bd">JOB_MESSAGE_KEY</a> ) - 1 )</td></tr>
<tr class="memdesc:a5d7816c62a8c36a8ac41d2e90ba5a3e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The length of <a class="el" href="aws__iot__demo__jobs_8c.html#ac139532178c08cd8cef2b157700443bd" title="A message associated with the Job action. ">JOB_MESSAGE_KEY</a>. <br /></td></tr>
<tr class="separator:a5d7816c62a8c36a8ac41d2e90ba5a3e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8d076d74913eaa9ec6f61fe5d0f936"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#abe8d076d74913eaa9ec6f61fe5d0f936">JOB_TOPIC_KEY</a>&#160;&#160;&#160;&quot;topic&quot;</td></tr>
<tr class="memdesc:abe8d076d74913eaa9ec6f61fe5d0f936"><td class="mdescLeft">&#160;</td><td class="mdescRight">An MQTT topic associated with the Job "publish" action.  <a href="#abe8d076d74913eaa9ec6f61fe5d0f936">More...</a><br /></td></tr>
<tr class="separator:abe8d076d74913eaa9ec6f61fe5d0f936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b960004bb62a4d246f559756794cb78"><td class="memItemLeft" align="right" valign="top"><a id="a8b960004bb62a4d246f559756794cb78"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a8b960004bb62a4d246f559756794cb78">JOB_TOPIC_KEY_LENGTH</a>&#160;&#160;&#160;( sizeof( <a class="el" href="aws__iot__demo__jobs_8c.html#abe8d076d74913eaa9ec6f61fe5d0f936">JOB_TOPIC_KEY</a> ) - 1 )</td></tr>
<tr class="memdesc:a8b960004bb62a4d246f559756794cb78"><td class="mdescLeft">&#160;</td><td class="mdescRight">The length of <a class="el" href="aws__iot__demo__jobs_8c.html#abe8d076d74913eaa9ec6f61fe5d0f936" title="An MQTT topic associated with the Job &quot;publish&quot; action. ">JOB_TOPIC_KEY</a>. <br /></td></tr>
<tr class="separator:a8b960004bb62a4d246f559756794cb78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66a601dd1b8e5188a35991c05c98be95"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a66a601dd1b8e5188a35991c05c98be95">JSON_STRING_MIN_LENGTH</a>&#160;&#160;&#160;( ( size_t ) 3 )</td></tr>
<tr class="memdesc:a66a601dd1b8e5188a35991c05c98be95"><td class="mdescLeft">&#160;</td><td class="mdescRight">The minimum length of a string in a JSON Job document.  <a href="#a66a601dd1b8e5188a35991c05c98be95">More...</a><br /></td></tr>
<tr class="separator:a66a601dd1b8e5188a35991c05c98be95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb435688af53e65ec462f3edbbd8f13"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a0eb435688af53e65ec462f3edbbd8f13">JOB_ID_MAX_LENGTH</a>&#160;&#160;&#160;( ( size_t ) 64 )</td></tr>
<tr class="memdesc:a0eb435688af53e65ec462f3edbbd8f13"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum length of a Job ID.  <a href="#a0eb435688af53e65ec462f3edbbd8f13">More...</a><br /></td></tr>
<tr class="separator:a0eb435688af53e65ec462f3edbbd8f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08248c5069a2fd0d6f27d3a3a689410c"><td class="memItemLeft" align="right" valign="top"><a id="a08248c5069a2fd0d6f27d3a3a689410c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a08248c5069a2fd0d6f27d3a3a689410c">JOBS_DEMO_SHOULD_EXIT</a>&#160;&#160;&#160;( ( void * ) ( ( intptr_t ) 1 ) )</td></tr>
<tr class="memdesc:a08248c5069a2fd0d6f27d3a3a689410c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A value passed as context to <a class="el" href="aws__iot__demo__jobs_8c.html#a7da70bade62ecb137088e7c48324ec3b" title="Job operation completion callback. This function is invoked when an asynchronous Job operation finish...">_operationCompleteCallback</a> to specify that it should set the <a class="el" href="aws__iot__demo__jobs_8c.html#a5971ec6a8a1c3b31af24ca90a26b8e25" title="Flag value for signaling that the demo is finished. ">JOBS_DEMO_FINISHED</a> flag. <br /></td></tr>
<tr class="separator:a08248c5069a2fd0d6f27d3a3a689410c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4846ae6534ce1595b69cd2516c5f2b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#ad4846ae6534ce1595b69cd2516c5f2b4">JOBS_DEMO_RUNNING</a>&#160;&#160;&#160;( ( uint32_t ) 0 )</td></tr>
<tr class="memdesc:ad4846ae6534ce1595b69cd2516c5f2b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag value for signaling that the demo is still running.  <a href="#ad4846ae6534ce1595b69cd2516c5f2b4">More...</a><br /></td></tr>
<tr class="separator:ad4846ae6534ce1595b69cd2516c5f2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5971ec6a8a1c3b31af24ca90a26b8e25"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a5971ec6a8a1c3b31af24ca90a26b8e25">JOBS_DEMO_FINISHED</a>&#160;&#160;&#160;( ( uint32_t ) 1 )</td></tr>
<tr class="memdesc:a5971ec6a8a1c3b31af24ca90a26b8e25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag value for signaling that the demo is finished.  <a href="#a5971ec6a8a1c3b31af24ca90a26b8e25">More...</a><br /></td></tr>
<tr class="separator:a5971ec6a8a1c3b31af24ca90a26b8e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab49d5a7ad887dcc45274df57e0986df8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8">_jobAction_t</a> { <a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8a54325a36ea2ffa25774c032fe8d39ad7">JOB_ACTION_PRINT</a>, 
<a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8a8fb1e4d74526b3791aa52c2b7008e8f4">JOB_ACTION_PUBLISH</a>, 
<a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8a0cda3f4a746c811d386ebaad3d9d30d7">JOB_ACTION_EXIT</a>, 
<a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8abb806a24901d3b216ae57d110fb98093">JOB_ACTION_UNKNOWN</a>
 }</td></tr>
<tr class="memdesc:ab49d5a7ad887dcc45274df57e0986df8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Currently supported actions that a Job document can specify.  <a href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8">More...</a><br /></td></tr>
<tr class="separator:ab49d5a7ad887dcc45274df57e0986df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a152069d5f08db1353208ba293fbf15cb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a152069d5f08db1353208ba293fbf15cb">_initializeDemo</a> (void)</td></tr>
<tr class="memdesc:a152069d5f08db1353208ba293fbf15cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the libraries required for this demo.  <a href="#a152069d5f08db1353208ba293fbf15cb">More...</a><br /></td></tr>
<tr class="separator:a152069d5f08db1353208ba293fbf15cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91c9e290f0fc4c32a3ed38d873401c6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#ad91c9e290f0fc4c32a3ed38d873401c6">_cleanupDemo</a> (void)</td></tr>
<tr class="memdesc:ad91c9e290f0fc4c32a3ed38d873401c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up the libraries initialized by <a class="el" href="aws__iot__demo__jobs_8c.html#a152069d5f08db1353208ba293fbf15cb" title="Initialize the libraries required for this demo. ">_initializeDemo</a>.  <a href="#ad91c9e290f0fc4c32a3ed38d873401c6">More...</a><br /></td></tr>
<tr class="separator:ad91c9e290f0fc4c32a3ed38d873401c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214e88caa859420f06b971b744daf815"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a214e88caa859420f06b971b744daf815">_establishMqttConnection</a> (const char *pIdentifier, void *pNetworkServerInfo, void *pNetworkCredentialInfo, const <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/structIotNetworkInterface__t.html">IotNetworkInterface_t</a> *pNetworkInterface, <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a> *const pMqttConnection)</td></tr>
<tr class="memdesc:a214e88caa859420f06b971b744daf815"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establish a new connection to the MQTT server for the Jobs demo.  <a href="#a214e88caa859420f06b971b744daf815">More...</a><br /></td></tr>
<tr class="separator:a214e88caa859420f06b971b744daf815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dbce4c6308ad63b976ab9ed52ab6d0e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8">_jobAction_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a2dbce4c6308ad63b976ab9ed52ab6d0e">_getAction</a> (const char *pAction, size_t actionLength)</td></tr>
<tr class="memdesc:a2dbce4c6308ad63b976ab9ed52ab6d0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a string in a Job document to a <a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8" title="Currently supported actions that a Job document can specify. ">_jobAction_t</a>.  <a href="#a2dbce4c6308ad63b976ab9ed52ab6d0e">More...</a><br /></td></tr>
<tr class="separator:a2dbce4c6308ad63b976ab9ed52ab6d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2985cb5bf5d1a5298201a16d26e49ba3"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a2985cb5bf5d1a5298201a16d26e49ba3">_getJsonString</a> (const char *pJsonDoc, size_t jsonDocLength, const char *pKey, size_t keyLength, const char **pValue, size_t *valueLength)</td></tr>
<tr class="memdesc:a2985cb5bf5d1a5298201a16d26e49ba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts a JSON string from the Job document.  <a href="#a2985cb5bf5d1a5298201a16d26e49ba3">More...</a><br /></td></tr>
<tr class="separator:a2985cb5bf5d1a5298201a16d26e49ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da70bade62ecb137088e7c48324ec3b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a7da70bade62ecb137088e7c48324ec3b">_operationCompleteCallback</a> (void *pCallbackContext, <a class="el" href="structAwsIotJobsCallbackParam__t.html">AwsIotJobsCallbackParam_t</a> *pCallbackParam)</td></tr>
<tr class="memdesc:a7da70bade62ecb137088e7c48324ec3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Job operation completion callback. This function is invoked when an asynchronous Job operation finishes.  <a href="#a7da70bade62ecb137088e7c48324ec3b">More...</a><br /></td></tr>
<tr class="separator:a7da70bade62ecb137088e7c48324ec3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6442f41513b0e893cf62ef9027b7cc93"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__jobs__datatypes__enums.html#ga01241921e9064127a4743cdee7af7a51">AwsIotJobState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a6442f41513b0e893cf62ef9027b7cc93">_processMessage</a> (<a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a> mqttConnection, <a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8">_jobAction_t</a> action, const char *pJobDoc, size_t jobDocLength)</td></tr>
<tr class="memdesc:a6442f41513b0e893cf62ef9027b7cc93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an action with a message, such as "print" or "publish".  <a href="#a6442f41513b0e893cf62ef9027b7cc93">More...</a><br /></td></tr>
<tr class="separator:a6442f41513b0e893cf62ef9027b7cc93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a769ba564f4bf345eaeb0c1fb2c71cb4e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a769ba564f4bf345eaeb0c1fb2c71cb4e">_processJob</a> (const <a class="el" href="structAwsIotJobsCallbackParam__t.html">AwsIotJobsCallbackParam_t</a> *pJobInfo, const char *pJobId, size_t jobIdLength, const char *pJobDoc, size_t jobDocLength)</td></tr>
<tr class="memdesc:a769ba564f4bf345eaeb0c1fb2c71cb4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a Job received from the Notify Next callback.  <a href="#a769ba564f4bf345eaeb0c1fb2c71cb4e">More...</a><br /></td></tr>
<tr class="separator:a769ba564f4bf345eaeb0c1fb2c71cb4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6a1897fc4991fb4cacbb899565ae5b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a7f6a1897fc4991fb4cacbb899565ae5b">_jobsCallback</a> (void *pCallbackContext, <a class="el" href="structAwsIotJobsCallbackParam__t.html">AwsIotJobsCallbackParam_t</a> *pCallbackInfo)</td></tr>
<tr class="memdesc:a7f6a1897fc4991fb4cacbb899565ae5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Jobs Notify Next callback. This function is invoked when a new Job is received from the Jobs service.  <a href="#a7f6a1897fc4991fb4cacbb899565ae5b">More...</a><br /></td></tr>
<tr class="separator:a7f6a1897fc4991fb4cacbb899565ae5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e11b3623bf78a545aeafaa2bb179c16"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a9e11b3623bf78a545aeafaa2bb179c16">RunJobsDemo</a> (bool awsIotMqttMode, const char *pIdentifier, void *pNetworkServerInfo, void *pNetworkCredentialInfo, const <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/structIotNetworkInterface__t.html">IotNetworkInterface_t</a> *pNetworkInterface)</td></tr>
<tr class="memdesc:a9e11b3623bf78a545aeafaa2bb179c16"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function that runs the Jobs demo, called by the demo runner.  <a href="#a9e11b3623bf78a545aeafaa2bb179c16">More...</a><br /></td></tr>
<tr class="separator:a9e11b3623bf78a545aeafaa2bb179c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6316537fcc134a24ea34a8c81cd497e6"><td class="memItemLeft" align="right" valign="top"><a id="a6316537fcc134a24ea34a8c81cd497e6"></a>
static <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/logging.tag:../logging/" href="../logging/structIotLogConfig__t.html">IotLogConfig_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a6316537fcc134a24ea34a8c81cd497e6">_logHideAll</a> = { .hideLogLevel = true, .hideLibraryName = true, .hideTimestring = true }</td></tr>
<tr class="memdesc:a6316537fcc134a24ea34a8c81cd497e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to print log messages that do not contain any metadata. <br /></td></tr>
<tr class="separator:a6316537fcc134a24ea34a8c81cd497e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a881f9ad6e49a26292a640e58dd1f134a"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__jobs_8c.html#a881f9ad6e49a26292a640e58dd1f134a">_exitFlag</a> = 0</td></tr>
<tr class="memdesc:a881f9ad6e49a26292a640e58dd1f134a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A flag that signals the end of the demo.  <a href="#a881f9ad6e49a26292a640e58dd1f134a">More...</a><br /></td></tr>
<tr class="separator:a881f9ad6e49a26292a640e58dd1f134a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Demonstrates use of the AWS IoT Jobs library. </p>
<p>This program sets a Jobs Notify-Next callback and waits for Job documents to arrive. It will then take action based on the Job document. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a39ac1f60ff759166bc80657202662f32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39ac1f60ff759166bc80657202662f32">&#9670;&nbsp;</a></span>KEEP_ALIVE_SECONDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KEEP_ALIVE_SECONDS&#160;&#160;&#160;( ( uint16_t ) 60u )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The keep-alive interval used for this demo. </p>
<p>An MQTT ping request will be sent periodically at this interval. </p>

</div>
</div>
<a id="a70e538cdbb20d483551fcdc47edad58d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70e538cdbb20d483551fcdc47edad58d">&#9670;&nbsp;</a></span>JOB_ID_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JOB_ID_KEY&#160;&#160;&#160;&quot;jobId&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The JSON key of the Job ID. </p>
<p>Job documents are JSON documents received from the AWS IoT Jobs service. All Job documents will contain this key, whose value represents the unique identifier of a Job. </p>

</div>
</div>
<a id="a3c6795f8cef2f72eab3af0d91272dd24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c6795f8cef2f72eab3af0d91272dd24">&#9670;&nbsp;</a></span>JOB_DOC_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JOB_DOC_KEY&#160;&#160;&#160;&quot;jobDocument&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The JSON key of the Job document. </p>
<p>Job documents are JSON documents received from the AWS IoT Jobs service. All Job documents will contain this key, whose value is an application-specific JSON document. </p>

</div>
</div>
<a id="a94befe11872d82b3826f9d390221f579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94befe11872d82b3826f9d390221f579">&#9670;&nbsp;</a></span>JOB_ACTION_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JOB_ACTION_KEY&#160;&#160;&#160;&quot;action&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The JSON key whose value represents the action this demo should take. </p>
<p>This demo program expects this key to be in the Job document. It is a key specific to this demo. </p>

</div>
</div>
<a id="ac139532178c08cd8cef2b157700443bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac139532178c08cd8cef2b157700443bd">&#9670;&nbsp;</a></span>JOB_MESSAGE_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JOB_MESSAGE_KEY&#160;&#160;&#160;&quot;message&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A message associated with the Job action. </p>
<p>This demo program expects this key to be in the Job document if the "action" is either "publish" or "print". It represents the message that should be published or printed, respectively. </p>

</div>
</div>
<a id="abe8d076d74913eaa9ec6f61fe5d0f936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe8d076d74913eaa9ec6f61fe5d0f936">&#9670;&nbsp;</a></span>JOB_TOPIC_KEY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JOB_TOPIC_KEY&#160;&#160;&#160;&quot;topic&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An MQTT topic associated with the Job "publish" action. </p>
<p>This demo program expects this key to be in the Job document if the "action" is "publish". It represents the MQTT topic on which the message should be published. </p>

</div>
</div>
<a id="a66a601dd1b8e5188a35991c05c98be95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66a601dd1b8e5188a35991c05c98be95">&#9670;&nbsp;</a></span>JSON_STRING_MIN_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JSON_STRING_MIN_LENGTH&#160;&#160;&#160;( ( size_t ) 3 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The minimum length of a string in a JSON Job document. </p>
<p>At the very least the Job ID must have the quotes that identify it as a JSON string and 1 character for the string itself (the string must not be empty). </p>

</div>
</div>
<a id="a0eb435688af53e65ec462f3edbbd8f13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eb435688af53e65ec462f3edbbd8f13">&#9670;&nbsp;</a></span>JOB_ID_MAX_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JOB_ID_MAX_LENGTH&#160;&#160;&#160;( ( size_t ) 64 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum length of a Job ID. </p>
<p>This limit is defined by AWS service limits. See the following page for more information.</p>
<p><a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html#job-limits">https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html#job-limits</a> </p>

</div>
</div>
<a id="ad4846ae6534ce1595b69cd2516c5f2b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4846ae6534ce1595b69cd2516c5f2b4">&#9670;&nbsp;</a></span>JOBS_DEMO_RUNNING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JOBS_DEMO_RUNNING&#160;&#160;&#160;( ( uint32_t ) 0 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag value for signaling that the demo is still running. </p>
<p>The initial value of <a class="el" href="aws__iot__demo__jobs_8c.html#a881f9ad6e49a26292a640e58dd1f134a" title="A flag that signals the end of the demo. ">_exitFlag</a>. </p>

</div>
</div>
<a id="a5971ec6a8a1c3b31af24ca90a26b8e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5971ec6a8a1c3b31af24ca90a26b8e25">&#9670;&nbsp;</a></span>JOBS_DEMO_FINISHED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JOBS_DEMO_FINISHED&#160;&#160;&#160;( ( uint32_t ) 1 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag value for signaling that the demo is finished. </p>
<p><a class="el" href="aws__iot__demo__jobs_8c.html#a881f9ad6e49a26292a640e58dd1f134a" title="A flag that signals the end of the demo. ">_exitFlag</a> will be set to this when a Job document with { "action": "exit" } is received. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ab49d5a7ad887dcc45274df57e0986df8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab49d5a7ad887dcc45274df57e0986df8">&#9670;&nbsp;</a></span>_jobAction_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8">_jobAction_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Currently supported actions that a Job document can specify. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab49d5a7ad887dcc45274df57e0986df8a54325a36ea2ffa25774c032fe8d39ad7"></a>JOB_ACTION_PRINT&#160;</td><td class="fielddoc"><p>Print a message. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab49d5a7ad887dcc45274df57e0986df8a8fb1e4d74526b3791aa52c2b7008e8f4"></a>JOB_ACTION_PUBLISH&#160;</td><td class="fielddoc"><p>Publish a message to an MQTT topic. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab49d5a7ad887dcc45274df57e0986df8a0cda3f4a746c811d386ebaad3d9d30d7"></a>JOB_ACTION_EXIT&#160;</td><td class="fielddoc"><p>Exit the demo. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab49d5a7ad887dcc45274df57e0986df8abb806a24901d3b216ae57d110fb98093"></a>JOB_ACTION_UNKNOWN&#160;</td><td class="fielddoc"><p>Unknown action. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a152069d5f08db1353208ba293fbf15cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152069d5f08db1353208ba293fbf15cb">&#9670;&nbsp;</a></span>_initializeDemo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _initializeDemo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the libraries required for this demo. </p>
<p>Initialize the MQTT and Jobs libraries. If the Jobs library fails to initialize, the MQTT library is cleaned up.</p>
<dl class="section return"><dt>Returns</dt><dd><code>EXIT_SUCCESS</code> if all initialization succeeds; <code>EXIT_FAILURE</code> otherwise. </dd></dl>

</div>
</div>
<a id="ad91c9e290f0fc4c32a3ed38d873401c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad91c9e290f0fc4c32a3ed38d873401c6">&#9670;&nbsp;</a></span>_cleanupDemo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _cleanupDemo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clean up the libraries initialized by <a class="el" href="aws__iot__demo__jobs_8c.html#a152069d5f08db1353208ba293fbf15cb" title="Initialize the libraries required for this demo. ">_initializeDemo</a>. </p>
<dl class="section note"><dt>Note</dt><dd>Must not be called if <a class="el" href="aws__iot__demo__jobs_8c.html#a152069d5f08db1353208ba293fbf15cb" title="Initialize the libraries required for this demo. ">_initializeDemo</a> was not successfully called. </dd></dl>

</div>
</div>
<a id="a214e88caa859420f06b971b744daf815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a214e88caa859420f06b971b744daf815">&#9670;&nbsp;</a></span>_establishMqttConnection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _establishMqttConnection </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pNetworkServerInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pNetworkCredentialInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/structIotNetworkInterface__t.html">IotNetworkInterface_t</a> *&#160;</td>
          <td class="paramname"><em>pNetworkInterface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a> *const&#160;</td>
          <td class="paramname"><em>pMqttConnection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Establish a new connection to the MQTT server for the Jobs demo. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pIdentifier</td><td>NULL-terminated MQTT client identifier. The Jobs demo will use the Thing Name as the client identifier. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pNetworkServerInfo</td><td>Passed to the MQTT connect function when establishing the MQTT connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pNetworkCredentialInfo</td><td>Passed to the MQTT connect function when establishing the MQTT connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pNetworkInterface</td><td>The network interface to use for this demo. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pMqttConnection</td><td>Set to the handle to the new MQTT connection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>EXIT_SUCCESS</code> if the connection is successfully established; <code>EXIT_FAILURE</code> otherwise. </dd></dl>

</div>
</div>
<a id="a2dbce4c6308ad63b976ab9ed52ab6d0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dbce4c6308ad63b976ab9ed52ab6d0e">&#9670;&nbsp;</a></span>_getAction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8">_jobAction_t</a> _getAction </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pAction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>actionLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a string in a Job document to a <a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8" title="Currently supported actions that a Job document can specify. ">_jobAction_t</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pAction</td><td>The Job action as a string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">actionLength</td><td>The length of <code>pAction</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8" title="Currently supported actions that a Job document can specify. ">_jobAction_t</a> equivalent to the given string. </dd></dl>

</div>
</div>
<a id="a2985cb5bf5d1a5298201a16d26e49ba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2985cb5bf5d1a5298201a16d26e49ba3">&#9670;&nbsp;</a></span>_getJsonString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool _getJsonString </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pJsonDoc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>jsonDocLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>keyLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>pValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>valueLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extracts a JSON string from the Job document. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pJsonDoc</td><td>The JSON document to search. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jsonDocLength</td><td>Length of <code>pJsonDoc</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pKey</td><td>The JSON key to search for. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keyLength</td><td>Length of <code>pKey</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pValue</td><td>The extracted JSON value. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">valueLength</td><td>Length of pValue.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the key was found and the value is valid; <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="a7da70bade62ecb137088e7c48324ec3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7da70bade62ecb137088e7c48324ec3b">&#9670;&nbsp;</a></span>_operationCompleteCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _operationCompleteCallback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pCallbackContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAwsIotJobsCallbackParam__t.html">AwsIotJobsCallbackParam_t</a> *&#160;</td>
          <td class="paramname"><em>pCallbackParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Job operation completion callback. This function is invoked when an asynchronous Job operation finishes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCallbackContext</td><td>Set to a non-NULL value to exit the demo. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pCallbackParam</td><td>Information on the Job operation that completed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6442f41513b0e893cf62ef9027b7cc93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6442f41513b0e893cf62ef9027b7cc93">&#9670;&nbsp;</a></span>_processMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__jobs__datatypes__enums.html#ga01241921e9064127a4743cdee7af7a51">AwsIotJobState_t</a> _processMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a>&#160;</td>
          <td class="paramname"><em>mqttConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8">_jobAction_t</a>&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pJobDoc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>jobDocLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process an action with a message, such as "print" or "publish". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mqttConnection</td><td>The MQTT connection to use if the action is "publish". </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">action</td><td>Either <a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8a54325a36ea2ffa25774c032fe8d39ad7">JOB_ACTION_PRINT</a> or <a class="el" href="aws__iot__demo__jobs_8c.html#ab49d5a7ad887dcc45274df57e0986df8a8fb1e4d74526b3791aa52c2b7008e8f4">JOB_ACTION_PUBLISH</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pJobDoc</td><td>A pointer to the Job document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jobDocLength</td><td>The length of the Job document.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__jobs__datatypes__enums.html#gga01241921e9064127a4743cdee7af7a51a5566c640c91e13ee49a2637673ae5c7c" title="A Job has succeeded. This is a terminal state. ">AWS_IOT_JOB_STATE_SUCCEEDED</a> on success; <a class="el" href="group__jobs__datatypes__enums.html#gga01241921e9064127a4743cdee7af7a51abc9df174cd2d0898970b97d2952e20dd" title="A Job has failed. This is a terminal state. ">AWS_IOT_JOB_STATE_FAILED</a> otherwise. </dd></dl>

</div>
</div>
<a id="a769ba564f4bf345eaeb0c1fb2c71cb4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a769ba564f4bf345eaeb0c1fb2c71cb4e">&#9670;&nbsp;</a></span>_processJob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _processJob </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structAwsIotJobsCallbackParam__t.html">AwsIotJobsCallbackParam_t</a> *&#160;</td>
          <td class="paramname"><em>pJobInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pJobId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>jobIdLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pJobDoc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>jobDocLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process a Job received from the Notify Next callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pJobInfo</td><td>The parameter to the Notify Next callback that contains information about the received Job. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pJobId</td><td>A pointer to the Job ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jobIdLength</td><td>The length of the Job ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pJobDoc</td><td>A pointer to the Job document. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">jobDocLength</td><td>The length of the Job document. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7f6a1897fc4991fb4cacbb899565ae5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f6a1897fc4991fb4cacbb899565ae5b">&#9670;&nbsp;</a></span>_jobsCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _jobsCallback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pCallbackContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAwsIotJobsCallbackParam__t.html">AwsIotJobsCallbackParam_t</a> *&#160;</td>
          <td class="paramname"><em>pCallbackInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Jobs Notify Next callback. This function is invoked when a new Job is received from the Jobs service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCallbackContext</td><td>Ignored. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pCallbackInfo</td><td>Contains the received Job. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e11b3623bf78a545aeafaa2bb179c16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e11b3623bf78a545aeafaa2bb179c16">&#9670;&nbsp;</a></span>RunJobsDemo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RunJobsDemo </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>awsIotMqttMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pNetworkServerInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pNetworkCredentialInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/structIotNetworkInterface__t.html">IotNetworkInterface_t</a> *&#160;</td>
          <td class="paramname"><em>pNetworkInterface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function that runs the Jobs demo, called by the demo runner. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">awsIotMqttMode</td><td>Ignored for the Jobs demo. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pIdentifier</td><td>NULL-terminated Jobs Thing Name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pNetworkServerInfo</td><td>Passed to the MQTT connect function when establishing the MQTT connection for Jobs. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pNetworkCredentialInfo</td><td>Passed to the MQTT connect function when establishing the MQTT connection for Jobs. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pNetworkInterface</td><td>The network interface to use for this demo.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>EXIT_SUCCESS</code> if the demo completes successfully; <code>EXIT_FAILURE</code> otherwise. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a881f9ad6e49a26292a640e58dd1f134a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a881f9ad6e49a26292a640e58dd1f134a">&#9670;&nbsp;</a></span>_exitFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t _exitFlag = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A flag that signals the end of the demo. </p>
<p>When a Job document is received with { "action": "exit" }, the demo will set this flag and exit. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- This file provides the custom footer for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Generated by
      <a href="http://www.doxygen.org/index.html">
      <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14
    </li>
    <li class="footer">
      Last updated Thu Apr 30 2020
    </li>
    <li class="footer" style="float:left">
        SDK version 4.0.0b1
    </li>
  </ul>
</div>
</body>
</html>
