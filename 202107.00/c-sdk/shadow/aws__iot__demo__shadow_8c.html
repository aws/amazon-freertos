<!-- This file provides the custom header for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="generator" content="Doxygen 1.8.14"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>
        Shadow: aws_iot_demo_shadow.c File Reference
    </title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="foobar.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
    <tbody>
        <tr style="height: 56px;">
            <td id="projectalign" style="padding-left: 0.5em;">
                <div id="projectname">
                    <span id="csdkprefix">AWS IoT Device SDK C:</span>
                    Shadow
                </div>
                <div id="projectbrief">
                    AWS IoT Device Shadow library
                </div>
            </td>
        </tr>
        <tr>
            <td id="returntomain">
                <a href="../main/index.html">Return to main page &uarr;</a>
            </td>
        </tr>
    </tbody>
    </table>
    </div>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('aws__iot__demo__shadow_8c.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">aws_iot_demo_shadow.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Demonstrates usage of the Thing Shadow library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;iot_config.h&quot;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;iot_demo_logging.h&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/iot__clock_8h.html">platform/iot_clock.h</a>&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/iot__threads_8h.html">platform/iot_threads.h</a>&quot;</code><br />
<code>#include &quot;<a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/iot__mqtt_8h.html">iot_mqtt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="aws__iot__shadow_8h_source.html">aws_iot_shadow.h</a>&quot;</code><br />
<code>#include &quot;aws_iot_doc_parser.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a39ac1f60ff759166bc80657202662f32"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#a39ac1f60ff759166bc80657202662f32">KEEP_ALIVE_SECONDS</a>&#160;&#160;&#160;( 60 )</td></tr>
<tr class="memdesc:a39ac1f60ff759166bc80657202662f32"><td class="mdescLeft">&#160;</td><td class="mdescRight">The keep-alive interval used for this demo.  <a href="#a39ac1f60ff759166bc80657202662f32">More...</a><br /></td></tr>
<tr class="separator:a39ac1f60ff759166bc80657202662f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53bb6ce0dbc843daa4ad914d78713ac2"><td class="memItemLeft" align="right" valign="top"><a id="a53bb6ce0dbc843daa4ad914d78713ac2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#a53bb6ce0dbc843daa4ad914d78713ac2">TIMEOUT_MS</a>&#160;&#160;&#160;( 5000 )</td></tr>
<tr class="memdesc:a53bb6ce0dbc843daa4ad914d78713ac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The timeout for Shadow and MQTT operations in this demo. <br /></td></tr>
<tr class="separator:a53bb6ce0dbc843daa4ad914d78713ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90873f5db5f6a3d87feab706829e9ed0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#a90873f5db5f6a3d87feab706829e9ed0">SHADOW_DESIRED_JSON</a></td></tr>
<tr class="memdesc:a90873f5db5f6a3d87feab706829e9ed0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format string representing a Shadow document with a "desired" state.  <a href="#a90873f5db5f6a3d87feab706829e9ed0">More...</a><br /></td></tr>
<tr class="separator:a90873f5db5f6a3d87feab706829e9ed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd960a5d71cce1448bf01fc1ae7ef79"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#aadd960a5d71cce1448bf01fc1ae7ef79">EXPECTED_DESIRED_JSON_SIZE</a>&#160;&#160;&#160;( sizeof( <a class="el" href="aws__iot__demo__shadow_8c.html#a90873f5db5f6a3d87feab706829e9ed0">SHADOW_DESIRED_JSON</a> ) - 3 )</td></tr>
<tr class="memdesc:aadd960a5d71cce1448bf01fc1ae7ef79"><td class="mdescLeft">&#160;</td><td class="mdescRight">The expected size of <a class="el" href="aws__iot__demo__shadow_8c.html#a90873f5db5f6a3d87feab706829e9ed0" title="Format string representing a Shadow document with a &quot;desired&quot; state. ">SHADOW_DESIRED_JSON</a>.  <a href="#aadd960a5d71cce1448bf01fc1ae7ef79">More...</a><br /></td></tr>
<tr class="separator:aadd960a5d71cce1448bf01fc1ae7ef79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afac4cb1d21c2da36643362a53fcbe969"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#afac4cb1d21c2da36643362a53fcbe969">SHADOW_REPORTED_JSON</a></td></tr>
<tr class="memdesc:afac4cb1d21c2da36643362a53fcbe969"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format string representing a Shadow document with a "reported" state.  <a href="#afac4cb1d21c2da36643362a53fcbe969">More...</a><br /></td></tr>
<tr class="separator:afac4cb1d21c2da36643362a53fcbe969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea3271c571fb3a54d6e12f3c667f7592"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#aea3271c571fb3a54d6e12f3c667f7592">EXPECTED_REPORTED_JSON_SIZE</a>&#160;&#160;&#160;( sizeof( <a class="el" href="aws__iot__demo__shadow_8c.html#afac4cb1d21c2da36643362a53fcbe969">SHADOW_REPORTED_JSON</a> ) - 3 )</td></tr>
<tr class="memdesc:aea3271c571fb3a54d6e12f3c667f7592"><td class="mdescLeft">&#160;</td><td class="mdescRight">The expected size of <a class="el" href="aws__iot__demo__shadow_8c.html#afac4cb1d21c2da36643362a53fcbe969" title="Format string representing a Shadow document with a &quot;reported&quot; state. ">SHADOW_REPORTED_JSON</a>.  <a href="#aea3271c571fb3a54d6e12f3c667f7592">More...</a><br /></td></tr>
<tr class="separator:aea3271c571fb3a54d6e12f3c667f7592"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a43dd0ee9dd73e7f065aa5596221f9461"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#a43dd0ee9dd73e7f065aa5596221f9461">RunShadowDemo</a> (bool awsIotMqttMode, const char *pIdentifier, void *pNetworkServerInfo, void *pNetworkCredentialInfo, const <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/structIotNetworkInterface__t.html">IotNetworkInterface_t</a> *pNetworkInterface)</td></tr>
<tr class="memdesc:a43dd0ee9dd73e7f065aa5596221f9461"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function that runs the Shadow demo, called by the demo runner.  <a href="#a43dd0ee9dd73e7f065aa5596221f9461">More...</a><br /></td></tr>
<tr class="separator:a43dd0ee9dd73e7f065aa5596221f9461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a981e34c302618a3e6d3f27a881923044"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#a981e34c302618a3e6d3f27a881923044">_getDelta</a> (const char *pDeltaDocument, size_t deltaDocumentLength, const char *pDeltaKey, const char **pDelta, size_t *pDeltaLength)</td></tr>
<tr class="memdesc:a981e34c302618a3e6d3f27a881923044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a key in the "state" section of a Shadow delta document.  <a href="#a981e34c302618a3e6d3f27a881923044">More...</a><br /></td></tr>
<tr class="separator:a981e34c302618a3e6d3f27a881923044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00b7f4e08709bbba9c456fa34bb57648"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#a00b7f4e08709bbba9c456fa34bb57648">_getUpdatedState</a> (const char *pUpdatedDocument, size_t updatedDocumentLength, const char *pSectionKey, const char **pState, size_t *pStateLength)</td></tr>
<tr class="memdesc:a00b7f4e08709bbba9c456fa34bb57648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the "state" key from the "previous" or "current" sections of a Shadow updated document.  <a href="#a00b7f4e08709bbba9c456fa34bb57648">More...</a><br /></td></tr>
<tr class="separator:a00b7f4e08709bbba9c456fa34bb57648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff8dce1b5cdb7b4e61c5d02cace99dc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#aeff8dce1b5cdb7b4e61c5d02cace99dc">_shadowDeltaCallback</a> (void *pCallbackContext, <a class="el" href="structAwsIotShadowCallbackParam__t.html">AwsIotShadowCallbackParam_t</a> *pCallbackParam)</td></tr>
<tr class="memdesc:aeff8dce1b5cdb7b4e61c5d02cace99dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shadow delta callback, invoked when the desired and updates Shadow states differ.  <a href="#aeff8dce1b5cdb7b4e61c5d02cace99dc">More...</a><br /></td></tr>
<tr class="separator:aeff8dce1b5cdb7b4e61c5d02cace99dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2ed55655b1c3d4c947ff9aaab9b417d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#ab2ed55655b1c3d4c947ff9aaab9b417d">_shadowUpdatedCallback</a> (void *pCallbackContext, <a class="el" href="structAwsIotShadowCallbackParam__t.html">AwsIotShadowCallbackParam_t</a> *pCallbackParam)</td></tr>
<tr class="memdesc:ab2ed55655b1c3d4c947ff9aaab9b417d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shadow updated callback, invoked when the Shadow document changes.  <a href="#ab2ed55655b1c3d4c947ff9aaab9b417d">More...</a><br /></td></tr>
<tr class="separator:ab2ed55655b1c3d4c947ff9aaab9b417d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152069d5f08db1353208ba293fbf15cb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#a152069d5f08db1353208ba293fbf15cb">_initializeDemo</a> (void)</td></tr>
<tr class="memdesc:a152069d5f08db1353208ba293fbf15cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the the MQTT library and the Shadow library.  <a href="#a152069d5f08db1353208ba293fbf15cb">More...</a><br /></td></tr>
<tr class="separator:a152069d5f08db1353208ba293fbf15cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91c9e290f0fc4c32a3ed38d873401c6"><td class="memItemLeft" align="right" valign="top"><a id="ad91c9e290f0fc4c32a3ed38d873401c6"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#ad91c9e290f0fc4c32a3ed38d873401c6">_cleanupDemo</a> (void)</td></tr>
<tr class="memdesc:ad91c9e290f0fc4c32a3ed38d873401c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up the the MQTT library and the Shadow library. <br /></td></tr>
<tr class="separator:ad91c9e290f0fc4c32a3ed38d873401c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b911453f2182e7903fdc652e2572ea8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#a6b911453f2182e7903fdc652e2572ea8">_establishMqttConnection</a> (const char *pIdentifier, void *pNetworkServerInfo, void *pNetworkCredentialInfo, const <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/structIotNetworkInterface__t.html">IotNetworkInterface_t</a> *pNetworkInterface, <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a> *pMqttConnection)</td></tr>
<tr class="memdesc:a6b911453f2182e7903fdc652e2572ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establish a new connection to the MQTT server for the Shadow demo.  <a href="#a6b911453f2182e7903fdc652e2572ea8">More...</a><br /></td></tr>
<tr class="separator:a6b911453f2182e7903fdc652e2572ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e034f20c8f60e277a6d4618cc259c3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#af4e034f20c8f60e277a6d4618cc259c3">_setShadowCallbacks</a> (<a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/group__platform__datatypes__handles.html#ga8ab95c5b6c27799f3bf68c999a125bc0">IotSemaphore_t</a> *pDeltaSemaphore, <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a> mqttConnection, const char *pThingName, size_t thingNameLength)</td></tr>
<tr class="memdesc:af4e034f20c8f60e277a6d4618cc259c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Shadow callback functions used in this demo.  <a href="#af4e034f20c8f60e277a6d4618cc259c3">More...</a><br /></td></tr>
<tr class="separator:af4e034f20c8f60e277a6d4618cc259c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a466788b23b96a64bf6815632cc93498e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#a466788b23b96a64bf6815632cc93498e">_clearShadowDocument</a> (<a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a> mqttConnection, const char *const pThingName, size_t thingNameLength)</td></tr>
<tr class="memdesc:a466788b23b96a64bf6815632cc93498e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to delete any Shadow document in the cloud.  <a href="#a466788b23b96a64bf6815632cc93498e">More...</a><br /></td></tr>
<tr class="separator:a466788b23b96a64bf6815632cc93498e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf2ed7bbcdcfc5e2d57741950a4279a8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__iot__demo__shadow_8c.html#aaf2ed7bbcdcfc5e2d57741950a4279a8">_sendShadowUpdates</a> (<a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/group__platform__datatypes__handles.html#ga8ab95c5b6c27799f3bf68c999a125bc0">IotSemaphore_t</a> *pDeltaSemaphore, <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a> mqttConnection, const char *const pThingName, size_t thingNameLength)</td></tr>
<tr class="memdesc:aaf2ed7bbcdcfc5e2d57741950a4279a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the Shadow updates that will trigger the Shadow callbacks.  <a href="#aaf2ed7bbcdcfc5e2d57741950a4279a8">More...</a><br /></td></tr>
<tr class="separator:aaf2ed7bbcdcfc5e2d57741950a4279a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Demonstrates usage of the Thing Shadow library. </p>
<p>This program demonstrates the using Shadow documents to toggle a state called "powerOn" in a remote device. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a39ac1f60ff759166bc80657202662f32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39ac1f60ff759166bc80657202662f32">&#9670;&nbsp;</a></span>KEEP_ALIVE_SECONDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KEEP_ALIVE_SECONDS&#160;&#160;&#160;( 60 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The keep-alive interval used for this demo. </p>
<p>An MQTT ping request will be sent periodically at this interval. </p>

</div>
</div>
<a id="a90873f5db5f6a3d87feab706829e9ed0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90873f5db5f6a3d87feab706829e9ed0">&#9670;&nbsp;</a></span>SHADOW_DESIRED_JSON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHADOW_DESIRED_JSON</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="stringliteral">&quot;{&quot;</span>                         \</div><div class="line">    <span class="stringliteral">&quot;\&quot;state\&quot;:{&quot;</span>               \</div><div class="line">    <span class="stringliteral">&quot;\&quot;desired\&quot;:{&quot;</span>             \</div><div class="line">    <span class="stringliteral">&quot;\&quot;powerOn\&quot;:%01d&quot;</span>          \</div><div class="line">    <span class="stringliteral">&quot;}&quot;</span>                         \</div><div class="line">    <span class="stringliteral">&quot;},&quot;</span>                        \</div><div class="line">    <span class="stringliteral">&quot;\&quot;clientToken\&quot;:\&quot;%06lu\&quot;&quot;</span> \</div><div class="line">    <span class="stringliteral">&quot;}&quot;</span></div></div><!-- fragment -->
<p>Format string representing a Shadow document with a "desired" state. </p>
<p>Note the client token, which is required for all Shadow updates. The client token must be unique at any given time, but may be reused once the update is completed. For this demo, a timestamp is used for a client token. </p>

</div>
</div>
<a id="aadd960a5d71cce1448bf01fc1ae7ef79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadd960a5d71cce1448bf01fc1ae7ef79">&#9670;&nbsp;</a></span>EXPECTED_DESIRED_JSON_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXPECTED_DESIRED_JSON_SIZE&#160;&#160;&#160;( sizeof( <a class="el" href="aws__iot__demo__shadow_8c.html#a90873f5db5f6a3d87feab706829e9ed0">SHADOW_DESIRED_JSON</a> ) - 3 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The expected size of <a class="el" href="aws__iot__demo__shadow_8c.html#a90873f5db5f6a3d87feab706829e9ed0" title="Format string representing a Shadow document with a &quot;desired&quot; state. ">SHADOW_DESIRED_JSON</a>. </p>
<p>Because all the format specifiers in <a class="el" href="aws__iot__demo__shadow_8c.html#a90873f5db5f6a3d87feab706829e9ed0" title="Format string representing a Shadow document with a &quot;desired&quot; state. ">SHADOW_DESIRED_JSON</a> include a length, its full size is known at compile-time. </p>

</div>
</div>
<a id="afac4cb1d21c2da36643362a53fcbe969"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afac4cb1d21c2da36643362a53fcbe969">&#9670;&nbsp;</a></span>SHADOW_REPORTED_JSON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHADOW_REPORTED_JSON</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="stringliteral">&quot;{&quot;</span>                         \</div><div class="line">    <span class="stringliteral">&quot;\&quot;state\&quot;:{&quot;</span>               \</div><div class="line">    <span class="stringliteral">&quot;\&quot;reported\&quot;:{&quot;</span>            \</div><div class="line">    <span class="stringliteral">&quot;\&quot;powerOn\&quot;:%01d&quot;</span>          \</div><div class="line">    <span class="stringliteral">&quot;}&quot;</span>                         \</div><div class="line">    <span class="stringliteral">&quot;},&quot;</span>                        \</div><div class="line">    <span class="stringliteral">&quot;\&quot;clientToken\&quot;:\&quot;%06lu\&quot;&quot;</span> \</div><div class="line">    <span class="stringliteral">&quot;}&quot;</span></div></div><!-- fragment -->
<p>Format string representing a Shadow document with a "reported" state. </p>
<p>Note the client token, which is required for all Shadow updates. The client token must be unique at any given time, but may be reused once the update is completed. For this demo, a timestamp is used for a client token. </p>

</div>
</div>
<a id="aea3271c571fb3a54d6e12f3c667f7592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea3271c571fb3a54d6e12f3c667f7592">&#9670;&nbsp;</a></span>EXPECTED_REPORTED_JSON_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXPECTED_REPORTED_JSON_SIZE&#160;&#160;&#160;( sizeof( <a class="el" href="aws__iot__demo__shadow_8c.html#afac4cb1d21c2da36643362a53fcbe969">SHADOW_REPORTED_JSON</a> ) - 3 )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The expected size of <a class="el" href="aws__iot__demo__shadow_8c.html#afac4cb1d21c2da36643362a53fcbe969" title="Format string representing a Shadow document with a &quot;reported&quot; state. ">SHADOW_REPORTED_JSON</a>. </p>
<p>Because all the format specifiers in <a class="el" href="aws__iot__demo__shadow_8c.html#afac4cb1d21c2da36643362a53fcbe969" title="Format string representing a Shadow document with a &quot;reported&quot; state. ">SHADOW_REPORTED_JSON</a> include a length, its full size is known at compile-time. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a43dd0ee9dd73e7f065aa5596221f9461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43dd0ee9dd73e7f065aa5596221f9461">&#9670;&nbsp;</a></span>RunShadowDemo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RunShadowDemo </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>awsIotMqttMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pNetworkServerInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pNetworkCredentialInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/structIotNetworkInterface__t.html">IotNetworkInterface_t</a> *&#160;</td>
          <td class="paramname"><em>pNetworkInterface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function that runs the Shadow demo, called by the demo runner. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">awsIotMqttMode</td><td>Ignored for the Shadow demo. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pIdentifier</td><td>NULL-terminated Shadow Thing Name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pNetworkServerInfo</td><td>Passed to the MQTT connect function when establishing the MQTT connection for Shadows. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pNetworkCredentialInfo</td><td>Passed to the MQTT connect function when establishing the MQTT connection for Shadows. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pNetworkInterface</td><td>The network interface to use for this demo.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>EXIT_SUCCESS</code> if the demo completes successfully; <code>EXIT_FAILURE</code> otherwise. </dd></dl>

</div>
</div>
<a id="a981e34c302618a3e6d3f27a881923044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a981e34c302618a3e6d3f27a881923044">&#9670;&nbsp;</a></span>_getDelta()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool _getDelta </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pDeltaDocument</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>deltaDocumentLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pDeltaKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>pDelta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pDeltaLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses a key in the "state" section of a Shadow delta document. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDeltaDocument</td><td>The Shadow delta document to parse. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">deltaDocumentLength</td><td>The length of <code>pDeltaDocument</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pDeltaKey</td><td>The key in the delta document to find. Must be NULL-terminated. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pDelta</td><td>Set to the first character in the delta key. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pDeltaLength</td><td>The length of the delta key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the given delta key is found; <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="a00b7f4e08709bbba9c456fa34bb57648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00b7f4e08709bbba9c456fa34bb57648">&#9670;&nbsp;</a></span>_getUpdatedState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool _getUpdatedState </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pUpdatedDocument</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>updatedDocumentLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pSectionKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>pState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pStateLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses the "state" key from the "previous" or "current" sections of a Shadow updated document. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pUpdatedDocument</td><td>The Shadow updated document to parse. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">updatedDocumentLength</td><td>The length of <code>pUpdatedDocument</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pSectionKey</td><td>Either "previous" or "current". Must be NULL-terminated. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pState</td><td>Set to the first character in "state". </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pStateLength</td><td>Length of the "state" section.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the "state" was found; <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="aeff8dce1b5cdb7b4e61c5d02cace99dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff8dce1b5cdb7b4e61c5d02cace99dc">&#9670;&nbsp;</a></span>_shadowDeltaCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _shadowDeltaCallback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pCallbackContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAwsIotShadowCallbackParam__t.html">AwsIotShadowCallbackParam_t</a> *&#160;</td>
          <td class="paramname"><em>pCallbackParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shadow delta callback, invoked when the desired and updates Shadow states differ. </p>
<p>This function simulates a device updating its state in response to a Shadow.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCallbackContext</td><td>Not used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pCallbackParam</td><td>The received Shadow delta document. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab2ed55655b1c3d4c947ff9aaab9b417d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2ed55655b1c3d4c947ff9aaab9b417d">&#9670;&nbsp;</a></span>_shadowUpdatedCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _shadowUpdatedCallback </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pCallbackContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAwsIotShadowCallbackParam__t.html">AwsIotShadowCallbackParam_t</a> *&#160;</td>
          <td class="paramname"><em>pCallbackParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shadow updated callback, invoked when the Shadow document changes. </p>
<p>This function reports when a Shadow has been updated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pCallbackContext</td><td>Not used. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pCallbackParam</td><td>The received Shadow updated document. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a152069d5f08db1353208ba293fbf15cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152069d5f08db1353208ba293fbf15cb">&#9670;&nbsp;</a></span>_initializeDemo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _initializeDemo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the the MQTT library and the Shadow library. </p>
<dl class="section return"><dt>Returns</dt><dd><code>EXIT_SUCCESS</code> if all libraries were successfully initialized; <code>EXIT_FAILURE</code> otherwise. </dd></dl>

</div>
</div>
<a id="a6b911453f2182e7903fdc652e2572ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b911453f2182e7903fdc652e2572ea8">&#9670;&nbsp;</a></span>_establishMqttConnection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _establishMqttConnection </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pNetworkServerInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pNetworkCredentialInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/structIotNetworkInterface__t.html">IotNetworkInterface_t</a> *&#160;</td>
          <td class="paramname"><em>pNetworkInterface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a> *&#160;</td>
          <td class="paramname"><em>pMqttConnection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Establish a new connection to the MQTT server for the Shadow demo. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pIdentifier</td><td>NULL-terminated MQTT client identifier. The Shadow demo will use the Thing Name as the client identifier. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pNetworkServerInfo</td><td>Passed to the MQTT connect function when establishing the MQTT connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pNetworkCredentialInfo</td><td>Passed to the MQTT connect function when establishing the MQTT connection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pNetworkInterface</td><td>The network interface to use for this demo. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pMqttConnection</td><td>Set to the handle to the new MQTT connection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>EXIT_SUCCESS</code> if the connection is successfully established; <code>EXIT_FAILURE</code> otherwise. </dd></dl>

</div>
</div>
<a id="af4e034f20c8f60e277a6d4618cc259c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e034f20c8f60e277a6d4618cc259c3">&#9670;&nbsp;</a></span>_setShadowCallbacks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _setShadowCallbacks </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/group__platform__datatypes__handles.html#ga8ab95c5b6c27799f3bf68c999a125bc0">IotSemaphore_t</a> *&#160;</td>
          <td class="paramname"><em>pDeltaSemaphore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a>&#160;</td>
          <td class="paramname"><em>mqttConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pThingName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>thingNameLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the Shadow callback functions used in this demo. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDeltaSemaphore</td><td>Used to synchronize Shadow updates with the delta callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mqttConnection</td><td>The MQTT connection used for Shadows. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pThingName</td><td>The Thing Name for Shadows in this demo. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thingNameLength</td><td>The length of <code>pThingName</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>EXIT_SUCCESS</code> if all Shadow callbacks were set; <code>EXIT_FAILURE</code> otherwise. </dd></dl>

</div>
</div>
<a id="a466788b23b96a64bf6815632cc93498e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a466788b23b96a64bf6815632cc93498e">&#9670;&nbsp;</a></span>_clearShadowDocument()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _clearShadowDocument </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a>&#160;</td>
          <td class="paramname"><em>mqttConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>pThingName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>thingNameLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to delete any Shadow document in the cloud. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mqttConnection</td><td>The MQTT connection used for Shadows. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pThingName</td><td>The Shadow Thing Name to delete. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thingNameLength</td><td>The length of <code>pThingName</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf2ed7bbcdcfc5e2d57741950a4279a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf2ed7bbcdcfc5e2d57741950a4279a8">&#9670;&nbsp;</a></span>_sendShadowUpdates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int _sendShadowUpdates </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/platform.tag:../platform/" href="../platform/group__platform__datatypes__handles.html#ga8ab95c5b6c27799f3bf68c999a125bc0">IotSemaphore_t</a> *&#160;</td>
          <td class="paramname"><em>pDeltaSemaphore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/ubuntu/Repos/aws-iot-device-sdk-embedded-C/doc/tag/mqtt.tag:../mqtt/" href="../mqtt/group__mqtt__datatypes__handles.html#ga4780ec2a55c4c322e9f5b7ce9dec3cf7">IotMqttConnection_t</a>&#160;</td>
          <td class="paramname"><em>mqttConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>pThingName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>thingNameLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send the Shadow updates that will trigger the Shadow callbacks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDeltaSemaphore</td><td>Used to synchronize Shadow updates with the delta callback. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mqttConnection</td><td>The MQTT connection used for Shadows. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pThingName</td><td>The Thing Name for Shadows in this demo. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thingNameLength</td><td>The length of <code>pThingName</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>EXIT_SUCCESS</code> if all Shadow updates were sent; <code>EXIT_FAILURE</code> otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- This file provides the custom footer for Doxygen-generated HTML. Per the
Doxygen documentation, this file may need to be regenerated when Doxygen is
updated. -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Generated by
      <a href="http://www.doxygen.org/index.html">
      <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14
    </li>
    <li class="footer">
      Last updated Thu Apr 30 2020
    </li>
    <li class="footer" style="float:left">
        SDK version 4.0.0b1
    </li>
  </ul>
</div>
</body>
</html>
