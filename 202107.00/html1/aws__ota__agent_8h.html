<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FreeRTOS: C:/AFR/freertos-master/lib/include/aws_ota_agent.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="foobar.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FreeRTOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_72b87047ee2797b6cca2ee3bfe598722.html">AFR</a></li><li class="navelem"><a class="el" href="dir_9e9df792b0b0128c5e82ceda3410c063.html">freertos-master</a></li><li class="navelem"><a class="el" href="dir_ff4cf8d4bdeb59b5ebffb9b7ce595616.html">lib</a></li><li class="navelem"><a class="el" href="dir_06cf4a60e0f42f801d48942846628e36.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">aws_ota_agent.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>OTA Agent Interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;aws_ota_types.h&quot;</code><br />
<code>#include &quot;FreeRTOS.h&quot;</code><br />
<code>#include &quot;timers.h&quot;</code><br />
<code>#include &quot;aws_logging_task.h&quot;</code><br />
</div>
<p><a href="aws__ota__agent_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_sig256__t.html">Sig256_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_t_a___file_context__t.html">OTA_FileContext_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA File Context Information.  <a href="struct_o_t_a___file_context__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2714f6afa56c8777b5e570a390a69a58"><td class="memItemLeft" align="right" valign="top"><a id="a2714f6afa56c8777b5e570a390a69a58"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CONST_STRLEN</b>(s)&#160;&#160;&#160;( ( ( uint32_t ) sizeof( s ) ) - 1UL )</td></tr>
<tr class="separator:a2714f6afa56c8777b5e570a390a69a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8baee291088322fecd736ff0b03fb730"><td class="memItemLeft" align="right" valign="top"><a id="a8baee291088322fecd736ff0b03fb730"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OTA_FILE_SIG_KEY_STR_MAX_LENGTH</b>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a8baee291088322fecd736ff0b03fb730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae42219e07ba0882145d2709c7f0cbaf1"><td class="memItemLeft" align="right" valign="top"><a id="ae42219e07ba0882145d2709c7f0cbaf1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#ae42219e07ba0882145d2709c7f0cbaf1">OTA_DEBUG_LOG_LEVEL</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ae42219e07ba0882145d2709c7f0cbaf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special OTA Agent printing definition. <br /></td></tr>
<tr class="separator:ae42219e07ba0882145d2709c7f0cbaf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa92e773ec687af4d07c1eaa509fa34"><td class="memItemLeft" align="right" valign="top"><a id="a2fa92e773ec687af4d07c1eaa509fa34"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFINE_OTA_METHOD_NAME</b>(name)&#160;&#160;&#160;static const char OTA_METHOD_NAME[] = name;</td></tr>
<tr class="separator:a2fa92e773ec687af4d07c1eaa509fa34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d755db114d70407a35f7bb2b89ad287"><td class="memItemLeft" align="right" valign="top"><a id="a5d755db114d70407a35f7bb2b89ad287"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OTA_LOG_L1</b>&#160;&#160;&#160;vLoggingPrintf</td></tr>
<tr class="separator:a5d755db114d70407a35f7bb2b89ad287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4152935ba79eb57ded14f2e1b615a1b"><td class="memItemLeft" align="right" valign="top"><a id="ab4152935ba79eb57ded14f2e1b615a1b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFINE_OTA_METHOD_NAME_L2</b>(name)</td></tr>
<tr class="separator:ab4152935ba79eb57ded14f2e1b615a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe24ba4b248cfd2c4a754ee9549efb4"><td class="memItemLeft" align="right" valign="top"><a id="a8fe24ba4b248cfd2c4a754ee9549efb4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OTA_LOG_L2</b>(...)</td></tr>
<tr class="separator:a8fe24ba4b248cfd2c4a754ee9549efb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a761f3dd5d3e4f0047d87bd12c738bf89"><td class="memItemLeft" align="right" valign="top"><a id="a761f3dd5d3e4f0047d87bd12c738bf89"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFINE_OTA_METHOD_NAME_L3</b>(name)</td></tr>
<tr class="separator:a761f3dd5d3e4f0047d87bd12c738bf89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ab729b986b3c214f8723fad8f6d0f0"><td class="memItemLeft" align="right" valign="top"><a id="ac7ab729b986b3c214f8723fad8f6d0f0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OTA_LOG_L3</b>(...)</td></tr>
<tr class="separator:ac7ab729b986b3c214f8723fad8f6d0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a374cf454c7a4f641bb31433c410c49b7"><td class="memItemLeft" align="right" valign="top"><a id="a374cf454c7a4f641bb31433c410c49b7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>kOTA_MaxSignatureSize</b>&#160;&#160;&#160;256     /* Max bytes supported for a file signature (2048 bit RSA is 256 bytes). */</td></tr>
<tr class="separator:a374cf454c7a4f641bb31433c410c49b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bb4eeee0b63d81ab1567ea0bca8e8f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a8bb4eeee0b63d81ab1567ea0bca8e8f4">kOTA_PAL_ErrMask</a>&#160;&#160;&#160;0xffffffUL</td></tr>
<tr class="separator:a8bb4eeee0b63d81ab1567ea0bca8e8f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b7d5cf4b9551dcd6d16ed5dd71d94f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a75b7d5cf4b9551dcd6d16ed5dd71d94f">kOTA_Main_ErrMask</a>&#160;&#160;&#160;0xff000000UL</td></tr>
<tr class="separator:a75b7d5cf4b9551dcd6d16ed5dd71d94f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc670320701bc64f260e73c323b4bbf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#accc670320701bc64f260e73c323b4bbf">kOTA_MainErrShiftDownBits</a>&#160;&#160;&#160;24U</td></tr>
<tr class="separator:accc670320701bc64f260e73c323b4bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0966831bd017278016028ee58fa6c219"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a0966831bd017278016028ee58fa6c219">kOTA_Err_Panic</a>&#160;&#160;&#160;0xfe000000UL</td></tr>
<tr class="separator:a0966831bd017278016028ee58fa6c219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d050d86291f0dbdf7855fd2ae49a28"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a30d050d86291f0dbdf7855fd2ae49a28">kOTA_Err_Uninitialized</a>&#160;&#160;&#160;0xff000000UL</td></tr>
<tr class="separator:a30d050d86291f0dbdf7855fd2ae49a28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34d40e13c15bd923c9208f67f03648d"><td class="memItemLeft" align="right" valign="top"><a id="aa34d40e13c15bd923c9208f67f03648d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>kOTA_Err_None</b>&#160;&#160;&#160;0x00000000UL</td></tr>
<tr class="separator:aa34d40e13c15bd923c9208f67f03648d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b11a20ee91509f88c82e14716eb5d7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a70b11a20ee91509f88c82e14716eb5d7">kOTA_Err_SignatureCheckFailed</a>&#160;&#160;&#160;0x01000000UL</td></tr>
<tr class="separator:a70b11a20ee91509f88c82e14716eb5d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9983ebbc9ca5a06ea4c598f66f4e9144"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a9983ebbc9ca5a06ea4c598f66f4e9144">kOTA_Err_BadSignerCert</a>&#160;&#160;&#160;0x02000000UL</td></tr>
<tr class="separator:a9983ebbc9ca5a06ea4c598f66f4e9144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c23aaa410cd7d49be3dc4e00e35d688"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a5c23aaa410cd7d49be3dc4e00e35d688">kOTA_Err_OutOfMemory</a>&#160;&#160;&#160;0x03000000UL</td></tr>
<tr class="separator:a5c23aaa410cd7d49be3dc4e00e35d688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8245184ee9c1f547a31972133cf1e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a5c8245184ee9c1f547a31972133cf1e6">kOTA_Err_ActivateFailed</a>&#160;&#160;&#160;0x04000000UL</td></tr>
<tr class="separator:a5c8245184ee9c1f547a31972133cf1e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52cbfbef51475f7ac0f716b9c0062181"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a52cbfbef51475f7ac0f716b9c0062181">kOTA_Err_CommitFailed</a>&#160;&#160;&#160;0x05000000UL</td></tr>
<tr class="separator:a52cbfbef51475f7ac0f716b9c0062181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4347fe919df55a2184ca54735db30c8c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a4347fe919df55a2184ca54735db30c8c">kOTA_Err_RejectFailed</a>&#160;&#160;&#160;0x06000000UL</td></tr>
<tr class="separator:a4347fe919df55a2184ca54735db30c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5aca7732329641e06a01d20e6d9eabd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#aa5aca7732329641e06a01d20e6d9eabd">kOTA_Err_AbortFailed</a>&#160;&#160;&#160;0x07000000UL</td></tr>
<tr class="separator:aa5aca7732329641e06a01d20e6d9eabd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbdd433e0380e2f19a9d9e5c4fce7e23"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#abbdd433e0380e2f19a9d9e5c4fce7e23">kOTA_Err_PublishFailed</a>&#160;&#160;&#160;0x08000000UL</td></tr>
<tr class="separator:abbdd433e0380e2f19a9d9e5c4fce7e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a5272fab4b57164ace5a4a3e972395b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a7a5272fab4b57164ace5a4a3e972395b">kOTA_Err_BadImageState</a>&#160;&#160;&#160;0x09000000UL</td></tr>
<tr class="separator:a7a5272fab4b57164ace5a4a3e972395b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af507b51c9d8c824c4a7a4ef7e4b2654f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#af507b51c9d8c824c4a7a4ef7e4b2654f">kOTA_Err_NoActiveJob</a>&#160;&#160;&#160;0x0a000000UL</td></tr>
<tr class="separator:af507b51c9d8c824c4a7a4ef7e4b2654f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03927af21a4e744a47dd48747bc35f99"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a03927af21a4e744a47dd48747bc35f99">kOTA_Err_NoFreeContext</a>&#160;&#160;&#160;0x0b000000UL</td></tr>
<tr class="separator:a03927af21a4e744a47dd48747bc35f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cfd8cca1b4c00540d705103bca5a1d3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a0cfd8cca1b4c00540d705103bca5a1d3">kOTA_Err_FileAbort</a>&#160;&#160;&#160;0x10000000UL</td></tr>
<tr class="separator:a0cfd8cca1b4c00540d705103bca5a1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30428c44b3cfac58e5aa11c3b2b0282a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a30428c44b3cfac58e5aa11c3b2b0282a">kOTA_Err_FileClose</a>&#160;&#160;&#160;0x11000000UL</td></tr>
<tr class="separator:a30428c44b3cfac58e5aa11c3b2b0282a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221253b172af008fed6eab65b9fdf141"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a221253b172af008fed6eab65b9fdf141">kOTA_Err_RxFileCreateFailed</a>&#160;&#160;&#160;0x12000000UL</td></tr>
<tr class="separator:a221253b172af008fed6eab65b9fdf141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad02b06dd9ca1ecb8a1dc8a2f441179e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#ad02b06dd9ca1ecb8a1dc8a2f441179e4">kOTA_Err_BootInfoCreateFailed</a>&#160;&#160;&#160;0x13000000UL</td></tr>
<tr class="separator:ad02b06dd9ca1ecb8a1dc8a2f441179e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a052fd3ba800b3cd9996a19e65132761a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a052fd3ba800b3cd9996a19e65132761a">kOTA_Err_RxFileTooLarge</a>&#160;&#160;&#160;0x14000000UL</td></tr>
<tr class="separator:a052fd3ba800b3cd9996a19e65132761a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b7a812eb903f22143b2212a60ccaec2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a3b7a812eb903f22143b2212a60ccaec2">kOTA_Err_NullFilePtr</a>&#160;&#160;&#160;0x20000000UL</td></tr>
<tr class="separator:a3b7a812eb903f22143b2212a60ccaec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93bafa645c97dd78b197a7ab29990b9d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a93bafa645c97dd78b197a7ab29990b9d">kOTA_Err_MomentumAbort</a>&#160;&#160;&#160;0x21000000UL</td></tr>
<tr class="separator:a93bafa645c97dd78b197a7ab29990b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf50fb4d540294eb67fa9f3115917a6b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#abf50fb4d540294eb67fa9f3115917a6b">kOTA_Err_DowngradeNotAllowed</a>&#160;&#160;&#160;0x22000000UL</td></tr>
<tr class="separator:abf50fb4d540294eb67fa9f3115917a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd1de3c6529654735232bc497302ff8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#affd1de3c6529654735232bc497302ff8">kOTA_Err_SameFirmwareVersion</a>&#160;&#160;&#160;0x23000000UL</td></tr>
<tr class="separator:affd1de3c6529654735232bc497302ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0ac18b5cf7cce0201c5eb6cb01f693c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#af0ac18b5cf7cce0201c5eb6cb01f693c">kOTA_Err_JobParserError</a>&#160;&#160;&#160;0x24000000UL</td></tr>
<tr class="separator:af0ac18b5cf7cce0201c5eb6cb01f693c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fde83b932d97968ac4e538e5af8b395"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a6fde83b932d97968ac4e538e5af8b395">kOTA_Err_FailedToEncodeCBOR</a>&#160;&#160;&#160;0x25000000UL</td></tr>
<tr class="separator:a6fde83b932d97968ac4e538e5af8b395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01b5250d8dd341cd6264ec94d8f6b6b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#af01b5250d8dd341cd6264ec94d8f6b6b">kOTA_Err_ImageStateMismatch</a>&#160;&#160;&#160;0x26000000UL</td></tr>
<tr class="separator:af01b5250d8dd341cd6264ec94d8f6b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381f92adfa7c4706d6ac32157c5d6461"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a381f92adfa7c4706d6ac32157c5d6461">kOTA_Err_GenericIngestError</a>&#160;&#160;&#160;0x27000000UL</td></tr>
<tr class="separator:a381f92adfa7c4706d6ac32157c5d6461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f36c42abe006b3e4116ed4c5891992"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a38f36c42abe006b3e4116ed4c5891992">kOTA_Err_UserAbort</a>&#160;&#160;&#160;0x28000000UL</td></tr>
<tr class="separator:a38f36c42abe006b3e4116ed4c5891992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879e2508a9fbf027d2b59bb8fb3c52a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a879e2508a9fbf027d2b59bb8fb3c52a7">kOTA_Err_ResetNotSupported</a>&#160;&#160;&#160;0x29000000UL</td></tr>
<tr class="separator:a879e2508a9fbf027d2b59bb8fb3c52a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fa51d591efef9519b7ad47df6081c23"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a0fa51d591efef9519b7ad47df6081c23">kOTA_Err_TopicTooLarge</a>&#160;&#160;&#160;0x2a000000UL</td></tr>
<tr class="separator:a0fa51d591efef9519b7ad47df6081c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad65b7bf247fac4ec69a7dcff1bf7999c"><td class="memItemLeft" align="right" valign="top"><a id="ad65b7bf247fac4ec69a7dcff1bf7999c"></a>
typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a></td></tr>
<tr class="memdesc:ad65b7bf247fac4ec69a7dcff1bf7999c"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Error type. <br /></td></tr>
<tr class="separator:ad65b7bf247fac4ec69a7dcff1bf7999c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c3cb025cb25e7e1f67dc7f72264f936"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a8c3cb025cb25e7e1f67dc7f72264f936">pxOTACompleteCallback_t</a>) (<a class="el" href="aws__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16e">OTA_JobEvent_t</a> eEvent)</td></tr>
<tr class="memdesc:a8c3cb025cb25e7e1f67dc7f72264f936"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA update complete callback function typedef.  <a href="#a8c3cb025cb25e7e1f67dc7f72264f936">More...</a><br /></td></tr>
<tr class="separator:a8c3cb025cb25e7e1f67dc7f72264f936"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a8eddffdd56ba01c6bd0a3275241af74c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a> { <br />
&#160;&#160;<a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74cad244817928c8e5875a1371bd148a7f8e">eOTA_AgentState_Unknown</a> = -1, 
<a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74ca0ee517b1e8d51f73ba1017751be3e20c">eOTA_AgentState_NotReady</a> = 0, 
<a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74ca94ef5a5cb1feca8282ed102c54f3617c">eOTA_AgentState_Ready</a> = 1, 
<a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74ca38c699e0f0f86faed15de682c43f126d">eOTA_AgentState_Active</a> = 2, 
<br />
&#160;&#160;<a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74cae2aaa97f9796f615e6ebc98293f8bd1b">eOTA_AgentState_ShuttingDown</a> = 3, 
<b>eOTA_NumAgentStates</b> = 4
<br />
 }<tr class="memdesc:a8eddffdd56ba01c6bd0a3275241af74c"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Agent states.  <a href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a8eddffdd56ba01c6bd0a3275241af74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85403792655b68f99981c9229dfa16e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16e">OTA_JobEvent_t</a> { <a class="el" href="aws__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16ea114fb550ca7ce7ca983c8b8b56246e33">eOTA_JobEvent_Activate</a> = 0, 
<a class="el" href="aws__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16eaffe7acba7849e0a844e4a664321e1d6f">eOTA_JobEvent_Fail</a> = 1, 
<a class="el" href="aws__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16ea298b43f57160345ef78ad80a8a3acead">eOTA_JobEvent_StartTest</a> = 2, 
<b>eOTA_LastJobEvent</b> = eOTA_JobEvent_StartTest
 }<tr class="memdesc:ab85403792655b68f99981c9229dfa16e"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Job callback events.  <a href="aws__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16e">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ab85403792655b68f99981c9229dfa16e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75288843c3e7c89eb390525f67a66b25"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a> { <br />
&#160;&#160;<a class="el" href="aws__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25a6c218365f1c071ae4f6f657a7bca2e0a">eOTA_ImageState_Unknown</a> = 0, 
<a class="el" href="aws__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25a3eaede105fc88165c501ca09b04d5289">eOTA_ImageState_Testing</a> = 1, 
<a class="el" href="aws__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25a12975ca3b62a523383dd62ab2cafb53d">eOTA_ImageState_Accepted</a> = 2, 
<a class="el" href="aws__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25acad30f8b6288aec4686215dbaa74c21a">eOTA_ImageState_Rejected</a> = 3, 
<br />
&#160;&#160;<a class="el" href="aws__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25ad12abedcd867e5394040c6e3271e7bae">eOTA_ImageState_Aborted</a> = 4, 
<b>eOTA_LastImageState</b> = eOTA_ImageState_Aborted
<br />
 }<tr class="memdesc:a75288843c3e7c89eb390525f67a66b25"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Image states.  <a href="aws__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a75288843c3e7c89eb390525f67a66b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a254b308fb1c7a2738544bedf3511b4fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a254b308fb1c7a2738544bedf3511b4fb">OTA_AgentInit</a> (void *pvClient, const uint8_t *pcThingName, <a class="el" href="aws__ota__agent_8h.html#a8c3cb025cb25e7e1f67dc7f72264f936">pxOTACompleteCallback_t</a> xFunc, TickType_t xTicksToWait)</td></tr>
<tr class="memdesc:a254b308fb1c7a2738544bedf3511b4fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Agent initialization function.  <a href="#a254b308fb1c7a2738544bedf3511b4fb">More...</a><br /></td></tr>
<tr class="separator:a254b308fb1c7a2738544bedf3511b4fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c0b607cc1356d51e4e4c8c25f4c050"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a34c0b607cc1356d51e4e4c8c25f4c050">OTA_AgentShutdown</a> (TickType_t xTicksToWait)</td></tr>
<tr class="memdesc:a34c0b607cc1356d51e4e4c8c25f4c050"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal to the OTA Agent to shut down.  <a href="#a34c0b607cc1356d51e4e4c8c25f4c050">More...</a><br /></td></tr>
<tr class="separator:a34c0b607cc1356d51e4e4c8c25f4c050"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae15e4aa0f46a43e9282e5bc6ee70c2b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#ae15e4aa0f46a43e9282e5bc6ee70c2b9">OTA_GetAgentState</a> (void)</td></tr>
<tr class="memdesc:ae15e4aa0f46a43e9282e5bc6ee70c2b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current state of the OTA agent.  <a href="#ae15e4aa0f46a43e9282e5bc6ee70c2b9">More...</a><br /></td></tr>
<tr class="separator:ae15e4aa0f46a43e9282e5bc6ee70c2b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97ccf7aec8a7a1ceae33acab26a7cf3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#af97ccf7aec8a7a1ceae33acab26a7cf3">OTA_ActivateNewImage</a> (void)</td></tr>
<tr class="memdesc:af97ccf7aec8a7a1ceae33acab26a7cf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate the newest MCU image received via OTA.  <a href="#af97ccf7aec8a7a1ceae33acab26a7cf3">More...</a><br /></td></tr>
<tr class="separator:af97ccf7aec8a7a1ceae33acab26a7cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c2b0a1bbb0e17baf9269df8bd31184"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a91c2b0a1bbb0e17baf9269df8bd31184">OTA_SetImageState</a> (<a class="el" href="aws__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a> eState)</td></tr>
<tr class="memdesc:a91c2b0a1bbb0e17baf9269df8bd31184"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the state of the current MCU image.  <a href="#a91c2b0a1bbb0e17baf9269df8bd31184">More...</a><br /></td></tr>
<tr class="separator:a91c2b0a1bbb0e17baf9269df8bd31184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d6f4963c036ef7552361316aed2250"><td class="memItemLeft" align="right" valign="top"><a class="el" href="aws__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#af5d6f4963c036ef7552361316aed2250">OTA_GetImageState</a> (void)</td></tr>
<tr class="memdesc:af5d6f4963c036ef7552361316aed2250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the state of the currently running MCU image.  <a href="#af5d6f4963c036ef7552361316aed2250">More...</a><br /></td></tr>
<tr class="separator:af5d6f4963c036ef7552361316aed2250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d6dfbaee5d9428fffc91b1830f1cfd"><td class="memItemLeft" align="right" valign="top"><a id="a70d6dfbaee5d9428fffc91b1830f1cfd"></a>
<a class="el" href="aws__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>OTA_CheckForUpdate</b> (void)</td></tr>
<tr class="separator:a70d6dfbaee5d9428fffc91b1830f1cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5853484481fcf8ad51d9d2d8d214aa5d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a5853484481fcf8ad51d9d2d8d214aa5d">OTA_GetPacketsReceived</a> (void)</td></tr>
<tr class="memdesc:a5853484481fcf8ad51d9d2d8d214aa5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of OTA message packets received by the OTA agent.  <a href="#a5853484481fcf8ad51d9d2d8d214aa5d">More...</a><br /></td></tr>
<tr class="separator:a5853484481fcf8ad51d9d2d8d214aa5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acccd0652d654306770eca5aa9b680b8d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#acccd0652d654306770eca5aa9b680b8d">OTA_GetPacketsQueued</a> (void)</td></tr>
<tr class="memdesc:acccd0652d654306770eca5aa9b680b8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of OTA message packets queued by the OTA agent.  <a href="#acccd0652d654306770eca5aa9b680b8d">More...</a><br /></td></tr>
<tr class="separator:acccd0652d654306770eca5aa9b680b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a183b18b12df36666a9924b0956a1fa"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#a0a183b18b12df36666a9924b0956a1fa">OTA_GetPacketsProcessed</a> (void)</td></tr>
<tr class="memdesc:a0a183b18b12df36666a9924b0956a1fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of OTA message packets processed by the OTA agent.  <a href="#a0a183b18b12df36666a9924b0956a1fa">More...</a><br /></td></tr>
<tr class="separator:a0a183b18b12df36666a9924b0956a1fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2a07c3d269402c2fcb90ae918b56c3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__ota__agent_8h.html#aea2a07c3d269402c2fcb90ae918b56c3">OTA_GetPacketsDropped</a> (void)</td></tr>
<tr class="memdesc:aea2a07c3d269402c2fcb90ae918b56c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of OTA message packets dropped by the OTA agent.  <a href="#aea2a07c3d269402c2fcb90ae918b56c3">More...</a><br /></td></tr>
<tr class="separator:aea2a07c3d269402c2fcb90ae918b56c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1b3f4dcb3b058fa6aaac3595f72ac7f0"><td class="memItemLeft" align="right" valign="top"><a id="a1b3f4dcb3b058fa6aaac3595f72ac7f0"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><b>pcOTA_JSON_FileSignatureKey</b> [OTA_FILE_SIG_KEY_STR_MAX_LENGTH]</td></tr>
<tr class="separator:a1b3f4dcb3b058fa6aaac3595f72ac7f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>OTA Agent Interface. </p>

<p class="definition">Definition in file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aa5aca7732329641e06a01d20e6d9eabd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5aca7732329641e06a01d20e6d9eabd">&#9670;&nbsp;</a></span>kOTA_Err_AbortFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_AbortFailed&#160;&#160;&#160;0x07000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error trying to abort the OTA. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00134">134</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a5c8245184ee9c1f547a31972133cf1e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c8245184ee9c1f547a31972133cf1e6">&#9670;&nbsp;</a></span>kOTA_Err_ActivateFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_ActivateFailed&#160;&#160;&#160;0x04000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The activation of the new OTA image failed. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00131">131</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a7a5272fab4b57164ace5a4a3e972395b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a5272fab4b57164ace5a4a3e972395b">&#9670;&nbsp;</a></span>kOTA_Err_BadImageState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_BadImageState&#160;&#160;&#160;0x09000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The specified OTA image state was out of range. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00136">136</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a9983ebbc9ca5a06ea4c598f66f4e9144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9983ebbc9ca5a06ea4c598f66f4e9144">&#9670;&nbsp;</a></span>kOTA_Err_BadSignerCert</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_BadSignerCert&#160;&#160;&#160;0x02000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The signer certificate was not readable or zero length. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00129">129</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="ad02b06dd9ca1ecb8a1dc8a2f441179e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad02b06dd9ca1ecb8a1dc8a2f441179e4">&#9670;&nbsp;</a></span>kOTA_Err_BootInfoCreateFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_BootInfoCreateFailed&#160;&#160;&#160;0x13000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The PAL failed to create the OTA boot info file. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00142">142</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a52cbfbef51475f7ac0f716b9c0062181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52cbfbef51475f7ac0f716b9c0062181">&#9670;&nbsp;</a></span>kOTA_Err_CommitFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_CommitFailed&#160;&#160;&#160;0x05000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The acceptance commit of the new OTA image failed. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00132">132</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="abf50fb4d540294eb67fa9f3115917a6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf50fb4d540294eb67fa9f3115917a6b">&#9670;&nbsp;</a></span>kOTA_Err_DowngradeNotAllowed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_DowngradeNotAllowed&#160;&#160;&#160;0x22000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Firmware version is older than the previous version. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00146">146</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a6fde83b932d97968ac4e538e5af8b395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fde83b932d97968ac4e538e5af8b395">&#9670;&nbsp;</a></span>kOTA_Err_FailedToEncodeCBOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_FailedToEncodeCBOR&#160;&#160;&#160;0x25000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Failed to encode CBOR object. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00149">149</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a0cfd8cca1b4c00540d705103bca5a1d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cfd8cca1b4c00540d705103bca5a1d3">&#9670;&nbsp;</a></span>kOTA_Err_FileAbort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_FileAbort&#160;&#160;&#160;0x10000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error in low level file abort. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00139">139</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a30428c44b3cfac58e5aa11c3b2b0282a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30428c44b3cfac58e5aa11c3b2b0282a">&#9670;&nbsp;</a></span>kOTA_Err_FileClose</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_FileClose&#160;&#160;&#160;0x11000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error in low level file close. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00140">140</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a381f92adfa7c4706d6ac32157c5d6461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a381f92adfa7c4706d6ac32157c5d6461">&#9670;&nbsp;</a></span>kOTA_Err_GenericIngestError</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_GenericIngestError&#160;&#160;&#160;0x27000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A failure in block ingestion not caused by the PAL. See the error sub code. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00151">151</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="af01b5250d8dd341cd6264ec94d8f6b6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af01b5250d8dd341cd6264ec94d8f6b6b">&#9670;&nbsp;</a></span>kOTA_Err_ImageStateMismatch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_ImageStateMismatch&#160;&#160;&#160;0x26000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The OTA job was in Self Test but the platform image state was not. Possible tampering. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00150">150</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="af0ac18b5cf7cce0201c5eb6cb01f693c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0ac18b5cf7cce0201c5eb6cb01f693c">&#9670;&nbsp;</a></span>kOTA_Err_JobParserError</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_JobParserError&#160;&#160;&#160;0x24000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An error occurred during job document parsing. See reason sub-code. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00148">148</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a93bafa645c97dd78b197a7ab29990b9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93bafa645c97dd78b197a7ab29990b9d">&#9670;&nbsp;</a></span>kOTA_Err_MomentumAbort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_MomentumAbort&#160;&#160;&#160;0x21000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Too many OTA stream requests without any response. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00145">145</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="af507b51c9d8c824c4a7a4ef7e4b2654f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af507b51c9d8c824c4a7a4ef7e4b2654f">&#9670;&nbsp;</a></span>kOTA_Err_NoActiveJob</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_NoActiveJob&#160;&#160;&#160;0x0a000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt to set final image state without an active job. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00137">137</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a03927af21a4e744a47dd48747bc35f99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03927af21a4e744a47dd48747bc35f99">&#9670;&nbsp;</a></span>kOTA_Err_NoFreeContext</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_NoFreeContext&#160;&#160;&#160;0x0b000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>There wasn't an OTA file context available for processing. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00138">138</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a3b7a812eb903f22143b2212a60ccaec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b7a812eb903f22143b2212a60ccaec2">&#9670;&nbsp;</a></span>kOTA_Err_NullFilePtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_NullFilePtr&#160;&#160;&#160;0x20000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt to use a null file pointer. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00144">144</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a5c23aaa410cd7d49be3dc4e00e35d688"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c23aaa410cd7d49be3dc4e00e35d688">&#9670;&nbsp;</a></span>kOTA_Err_OutOfMemory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_OutOfMemory&#160;&#160;&#160;0x03000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>General out of memory error. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00130">130</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a0966831bd017278016028ee58fa6c219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0966831bd017278016028ee58fa6c219">&#9670;&nbsp;</a></span>kOTA_Err_Panic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_Panic&#160;&#160;&#160;0xfe000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unrecoverable FW error. Probably should log error and reboot. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00125">125</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="abbdd433e0380e2f19a9d9e5c4fce7e23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbdd433e0380e2f19a9d9e5c4fce7e23">&#9670;&nbsp;</a></span>kOTA_Err_PublishFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_PublishFailed&#160;&#160;&#160;0x08000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt to publish a MQTT message failed. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00135">135</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a4347fe919df55a2184ca54735db30c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4347fe919df55a2184ca54735db30c8c">&#9670;&nbsp;</a></span>kOTA_Err_RejectFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_RejectFailed&#160;&#160;&#160;0x06000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error trying to reject the OTA image. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00133">133</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a879e2508a9fbf027d2b59bb8fb3c52a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879e2508a9fbf027d2b59bb8fb3c52a7">&#9670;&nbsp;</a></span>kOTA_Err_ResetNotSupported</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_ResetNotSupported&#160;&#160;&#160;0x29000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>We tried to reset the device but the device doesn't support it. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00153">153</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a221253b172af008fed6eab65b9fdf141"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a221253b172af008fed6eab65b9fdf141">&#9670;&nbsp;</a></span>kOTA_Err_RxFileCreateFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_RxFileCreateFailed&#160;&#160;&#160;0x12000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The PAL failed to create the OTA receive file. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00141">141</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a052fd3ba800b3cd9996a19e65132761a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a052fd3ba800b3cd9996a19e65132761a">&#9670;&nbsp;</a></span>kOTA_Err_RxFileTooLarge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_RxFileTooLarge&#160;&#160;&#160;0x14000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The OTA receive file is too big for the platform to support. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00143">143</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="affd1de3c6529654735232bc497302ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affd1de3c6529654735232bc497302ff8">&#9670;&nbsp;</a></span>kOTA_Err_SameFirmwareVersion</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_SameFirmwareVersion&#160;&#160;&#160;0x23000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Firmware version is the same as previous. New firmware could have failed to commit. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00147">147</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a70b11a20ee91509f88c82e14716eb5d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70b11a20ee91509f88c82e14716eb5d7">&#9670;&nbsp;</a></span>kOTA_Err_SignatureCheckFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_SignatureCheckFailed&#160;&#160;&#160;0x01000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The signature check failed for the specified file. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00128">128</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a0fa51d591efef9519b7ad47df6081c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fa51d591efef9519b7ad47df6081c23">&#9670;&nbsp;</a></span>kOTA_Err_TopicTooLarge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_TopicTooLarge&#160;&#160;&#160;0x2a000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempt to build a topic string larger than the supplied buffer. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00154">154</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a30d050d86291f0dbdf7855fd2ae49a28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30d050d86291f0dbdf7855fd2ae49a28">&#9670;&nbsp;</a></span>kOTA_Err_Uninitialized</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_Uninitialized&#160;&#160;&#160;0xff000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The error code has not yet been set by a logic path. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00126">126</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a38f36c42abe006b3e4116ed4c5891992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38f36c42abe006b3e4116ed4c5891992">&#9670;&nbsp;</a></span>kOTA_Err_UserAbort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Err_UserAbort&#160;&#160;&#160;0x28000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>User aborted the active OTA. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00152">152</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a75b7d5cf4b9551dcd6d16ed5dd71d94f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b7d5cf4b9551dcd6d16ed5dd71d94f">&#9670;&nbsp;</a></span>kOTA_Main_ErrMask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_Main_ErrMask&#160;&#160;&#160;0xff000000UL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mask out all but the OTA Agent error code (high 8 bits). </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00116">116</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="accc670320701bc64f260e73c323b4bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accc670320701bc64f260e73c323b4bbf">&#9670;&nbsp;</a></span>kOTA_MainErrShiftDownBits</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_MainErrShiftDownBits&#160;&#160;&#160;24U</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The OTA Agent error code is the highest 8 bits of the word. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00117">117</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a8bb4eeee0b63d81ab1567ea0bca8e8f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bb4eeee0b63d81ab1567ea0bca8e8f4">&#9670;&nbsp;</a></span>kOTA_PAL_ErrMask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define kOTA_PAL_ErrMask&#160;&#160;&#160;0xffffffUL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The PAL layer uses the signed low 24 bits of the OTA error code. </p>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00115">115</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a8c3cb025cb25e7e1f67dc7f72264f936"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c3cb025cb25e7e1f67dc7f72264f936">&#9670;&nbsp;</a></span>pxOTACompleteCallback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* pxOTACompleteCallback_t) (<a class="el" href="aws__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16e">OTA_JobEvent_t</a> eEvent)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA update complete callback function typedef. </p>
<p>The user may register a callback function when initializing the OTA Agent. This callback is used to notify the main application when the OTA update job is complete. Typically, it is used to reset the device after a successful update by calling <a class="el" href="aws__ota__agent_8h.html#af97ccf7aec8a7a1ceae33acab26a7cf3" title="Activate the newest MCU image received via OTA. ">OTA_ActivateNewImage()</a> and may also be used to kick off user specified self tests during the Self Test phase. If the user does not supply a custom callback function, a default callback handler is used that automatically calls <a class="el" href="aws__ota__agent_8h.html#af97ccf7aec8a7a1ceae33acab26a7cf3" title="Activate the newest MCU image received via OTA. ">OTA_ActivateNewImage()</a> after a successful update.</p>
<dl class="section note"><dt>Note</dt><dd>:</dd></dl>
<p>The callback function is called with one of the following arguments: </p><pre class="fragment"> eOTA_JobEvent_Activate      OTA update is authenticated and ready to activate.
 eOTA_JobEvent_Fail          OTA update failed. Unable to use this update.
 eOTA_JobEvent_StartTest     OTA job is now ready for optional user self tests.
</pre><p>When eOTA_JobEvent_Activate is received, the job status details have been updated with the state as ready for Self Test. After reboot, the new firmware will (normally) be notified that it is in the Self Test phase via the callback and the application may then optionally run its own tests before committing the new image.</p>
<p>If the callback function is called with a result of eOTA_JobEvent_Fail, the OTA update job has failed in some way and should be rejected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">eEvent</td><td>An OTA update event from the OTA_JobEvent_t enum. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00269">269</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a75288843c3e7c89eb390525f67a66b25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75288843c3e7c89eb390525f67a66b25">&#9670;&nbsp;</a></span>OTA_ImageState_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="aws__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Image states. </p>
<p>After an OTA update image is received and authenticated, it is logically moved to the Self Test state by the OTA agent pending final acceptance. After the image is activated and tested by your user code, you should put it into either the Accepted or Rejected state by calling OTA_SetImageState( eOTA_ImageState_Accepted ) or OTA_SetImageState( eOTA_ImageState_Rejected ). If the image is accepted, it becomes the main firmware image to be booted from then on. If it is rejected, the image is no longer valid and shall not be used, reverting to the last known good image.</p>
<p>If you want to abort an active OTA transfer, you may do so by calling the API OTA_SetImageState( eOTA_ImageState_Aborted ). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a75288843c3e7c89eb390525f67a66b25a6c218365f1c071ae4f6f657a7bca2e0a"></a>eOTA_ImageState_Unknown&#160;</td><td class="fielddoc"><p>The initial state of the OTA MCU Image. </p>
</td></tr>
<tr><td class="fieldname"><a id="a75288843c3e7c89eb390525f67a66b25a3eaede105fc88165c501ca09b04d5289"></a>eOTA_ImageState_Testing&#160;</td><td class="fielddoc"><p>The state of the OTA MCU Image post successful download and reboot. </p>
</td></tr>
<tr><td class="fieldname"><a id="a75288843c3e7c89eb390525f67a66b25a12975ca3b62a523383dd62ab2cafb53d"></a>eOTA_ImageState_Accepted&#160;</td><td class="fielddoc"><p>The state of the OTA MCU Image post successful download and successful self_test. </p>
</td></tr>
<tr><td class="fieldname"><a id="a75288843c3e7c89eb390525f67a66b25acad30f8b6288aec4686215dbaa74c21a"></a>eOTA_ImageState_Rejected&#160;</td><td class="fielddoc"><p>The state of the OTA MCU Image when the job has been rejected. </p>
</td></tr>
<tr><td class="fieldname"><a id="a75288843c3e7c89eb390525f67a66b25ad12abedcd867e5394040c6e3271e7bae"></a>eOTA_ImageState_Aborted&#160;</td><td class="fielddoc"><p>The state of the OTA MCU Image after a timeout publish to the stream request fails. Also if the OTA MCU image is aborted in the middle of a stream. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00194">194</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="ab85403792655b68f99981c9229dfa16e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab85403792655b68f99981c9229dfa16e">&#9670;&nbsp;</a></span>OTA_JobEvent_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="aws__ota__agent_8h.html#ab85403792655b68f99981c9229dfa16e">OTA_JobEvent_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Job callback events. </p>
<p>After an OTA update image is received and authenticated, the agent calls the user callback (set with the OTA_AgentInit API) with the value eOTA_JobEvent_Activate to signal that the device must be rebooted to activate the new image. When the device boots, if the OTA job status is in self test mode, the agent calls the user callback with the value eOTA_JobEvent_StartTest, signaling that any additional self tests should be performed.</p>
<p>If the OTA receive fails for any reason, the agent calls the user callback with the value eOTA_JobEvent_Fail instead to allow the user to log the failure and take any action deemed appropriate by the user code.</p>
<p>See the OTA_ImageState_t type for more information. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab85403792655b68f99981c9229dfa16ea114fb550ca7ce7ca983c8b8b56246e33"></a>eOTA_JobEvent_Activate&#160;</td><td class="fielddoc"><p>OTA receive is authenticated and ready to activate. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab85403792655b68f99981c9229dfa16eaffe7acba7849e0a844e4a664321e1d6f"></a>eOTA_JobEvent_Fail&#160;</td><td class="fielddoc"><p>OTA receive failed. Unable to use this update. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab85403792655b68f99981c9229dfa16ea298b43f57160345ef78ad80a8a3acead"></a>eOTA_JobEvent_StartTest&#160;</td><td class="fielddoc"><p>OTA job is now in self test, perform user tests. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00172">172</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<a id="a8eddffdd56ba01c6bd0a3275241af74c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eddffdd56ba01c6bd0a3275241af74c">&#9670;&nbsp;</a></span>OTA_State_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Agent states. </p>
<p>The current state of the OTA Task (OTA Agent).</p>
<dl class="section note"><dt>Note</dt><dd>There is currently support only for a single OTA context. </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8eddffdd56ba01c6bd0a3275241af74cad244817928c8e5875a1371bd148a7f8e"></a>eOTA_AgentState_Unknown&#160;</td><td class="fielddoc"><p>The OTA agent state is not yet known. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8eddffdd56ba01c6bd0a3275241af74ca0ee517b1e8d51f73ba1017751be3e20c"></a>eOTA_AgentState_NotReady&#160;</td><td class="fielddoc"><p>The OTA agent task is not running. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8eddffdd56ba01c6bd0a3275241af74ca94ef5a5cb1feca8282ed102c54f3617c"></a>eOTA_AgentState_Ready&#160;</td><td class="fielddoc"><p>The OTA agent task is running and ready to transfer. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8eddffdd56ba01c6bd0a3275241af74ca38c699e0f0f86faed15de682c43f126d"></a>eOTA_AgentState_Active&#160;</td><td class="fielddoc"><p>The OTA agent is actively receiving an update. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8eddffdd56ba01c6bd0a3275241af74cae2aaa97f9796f615e6ebc98293f8bd1b"></a>eOTA_AgentState_ShuttingDown&#160;</td><td class="fielddoc"><p>The OTA agent task is performing shut down activities. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="aws__ota__agent_8h_source.html#l00084">84</a> of file <a class="el" href="aws__ota__agent_8h_source.html">aws_ota_agent.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af97ccf7aec8a7a1ceae33acab26a7cf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af97ccf7aec8a7a1ceae33acab26a7cf3">&#9670;&nbsp;</a></span>OTA_ActivateNewImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a> OTA_ActivateNewImage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate the newest MCU image received via OTA. </p>
<p>This function should reset the MCU and cause a reboot of the system to execute the newly updated firmware. It should be called by the user code sometime after the eOTA_JobEvent_Activate event is passed to the users application via the OTA Job Complete Callback mechanism. Refer to the <a class="el" href="aws__ota__agent_8h.html#a254b308fb1c7a2738544bedf3511b4fb" title="OTA Agent initialization function. ">OTA_AgentInit()</a> function for more information about configuring the callback.</p>
<dl class="section return"><dt>Returns</dt><dd>kOTA_Err_None if successful, otherwise an error code prefixed with 'kOTA_Err_' from the list above. </dd></dl>

</div>
</div>
<a id="a254b308fb1c7a2738544bedf3511b4fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a254b308fb1c7a2738544bedf3511b4fb">&#9670;&nbsp;</a></span>OTA_AgentInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a> OTA_AgentInit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>pcThingName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="aws__ota__agent_8h.html#a8c3cb025cb25e7e1f67dc7f72264f936">pxOTACompleteCallback_t</a>&#160;</td>
          <td class="paramname"><em>xFunc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TickType_t&#160;</td>
          <td class="paramname"><em>xTicksToWait</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Agent initialization function. </p>
<p>Initialize the OTA engine by starting the OTA Agent ("OTA Task") in the system. This function must be called with the MQTT messaging client context before calling OTA_CheckForUpdate(). Only one OTA Agent may exist.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pvClient</td><td>The messaging protocol client context (e.g. an MQTT context). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pcThingName</td><td>A pointer to a C string holding the Thing name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xFunc</td><td>Static callback function for when an OTA job is complete. This function will have input of the state of the OTA image after download and during self-test. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">xTicksToWait</td><td>The number of ticks to wait until the OTA Task signals that it is ready. If this is set to zero, then the function will return immediately after creating the OTA task but the OTA task may not be ready to operate yet. The state may be queried with <a class="el" href="aws__ota__agent_8h.html#ae15e4aa0f46a43e9282e5bc6ee70c2b9" title="Get the current state of the OTA agent. ">OTA_GetAgentState()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The state of the OTA Agent upon return from the OTA_State_t enum. If the agent was successfully initialized and ready to operate, the state will be eOTA_AgentState_Ready. Otherwise, it will be one of the other OTA_State_t enum values. </dd></dl>

</div>
</div>
<a id="a34c0b607cc1356d51e4e4c8c25f4c050"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34c0b607cc1356d51e4e4c8c25f4c050">&#9670;&nbsp;</a></span>OTA_AgentShutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a> OTA_AgentShutdown </td>
          <td>(</td>
          <td class="paramtype">TickType_t&#160;</td>
          <td class="paramname"><em>xTicksToWait</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal to the OTA Agent to shut down. </p>
<p>Signals the OTA agent task to shut down. The OTA agent will unsubscribe from all MQTT job notification topics, stop in progress OTA jobs, if any, and clear all resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">xTicksToWait</td><td>The number of ticks to wait for the OTA Agent to complete the shutdown process. If this is set to zero, the function will return immediately without waiting. The actual state is returned to the caller.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the OTA agent states from the OTA_State_t enum. A normal shutdown will return eOTA_AgentState_NotReady. Otherwise, refer to the OTA_State_t enum for details. </dd></dl>

</div>
</div>
<a id="ae15e4aa0f46a43e9282e5bc6ee70c2b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae15e4aa0f46a43e9282e5bc6ee70c2b9">&#9670;&nbsp;</a></span>OTA_GetAgentState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__ota__agent_8h.html#a8eddffdd56ba01c6bd0a3275241af74c">OTA_State_t</a> OTA_GetAgentState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current state of the OTA agent. </p>
<dl class="section return"><dt>Returns</dt><dd>The current state of the OTA agent. </dd></dl>

</div>
</div>
<a id="af5d6f4963c036ef7552361316aed2250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d6f4963c036ef7552361316aed2250">&#9670;&nbsp;</a></span>OTA_GetImageState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a> OTA_GetImageState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the state of the currently running MCU image. </p>
<p>The states are eOTA_ImageState_Testing, eOTA_ImageState_Accepted, eOTA_ImageState_Aborted or eOTA_ImageState_Rejected; see OTA_ImageState_t documentation.</p>
<dl class="section return"><dt>Returns</dt><dd>The state of the current context's OTA image. </dd></dl>

</div>
</div>
<a id="aea2a07c3d269402c2fcb90ae918b56c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea2a07c3d269402c2fcb90ae918b56c3">&#9670;&nbsp;</a></span>OTA_GetPacketsDropped()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OTA_GetPacketsDropped </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of OTA message packets dropped by the OTA agent. </p>
<dl class="section note"><dt>Note</dt><dd>Calling <a class="el" href="aws__ota__agent_8h.html#a254b308fb1c7a2738544bedf3511b4fb" title="OTA Agent initialization function. ">OTA_AgentInit()</a> will reset this statistic.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the number of OTA packets that have been dropped because of either no queue or at shutdown cleanup. </dd></dl>

</div>
</div>
<a id="a0a183b18b12df36666a9924b0956a1fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a183b18b12df36666a9924b0956a1fa">&#9670;&nbsp;</a></span>OTA_GetPacketsProcessed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OTA_GetPacketsProcessed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of OTA message packets processed by the OTA agent. </p>
<dl class="section note"><dt>Note</dt><dd>Calling <a class="el" href="aws__ota__agent_8h.html#a254b308fb1c7a2738544bedf3511b4fb" title="OTA Agent initialization function. ">OTA_AgentInit()</a> will reset this statistic.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the number of OTA packets that have actually been processed. </dd></dl>

</div>
</div>
<a id="acccd0652d654306770eca5aa9b680b8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acccd0652d654306770eca5aa9b680b8d">&#9670;&nbsp;</a></span>OTA_GetPacketsQueued()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OTA_GetPacketsQueued </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of OTA message packets queued by the OTA agent. </p>
<dl class="section note"><dt>Note</dt><dd>Calling <a class="el" href="aws__ota__agent_8h.html#a254b308fb1c7a2738544bedf3511b4fb" title="OTA Agent initialization function. ">OTA_AgentInit()</a> will reset this statistic.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The number of OTA packets that have been queued for processing. This implies there was a free message queue entry so it can be passed to the agent for processing. </dd></dl>

</div>
</div>
<a id="a5853484481fcf8ad51d9d2d8d214aa5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5853484481fcf8ad51d9d2d8d214aa5d">&#9670;&nbsp;</a></span>OTA_GetPacketsReceived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OTA_GetPacketsReceived </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of OTA message packets received by the OTA agent. </p>
<dl class="section note"><dt>Note</dt><dd>Calling <a class="el" href="aws__ota__agent_8h.html#a254b308fb1c7a2738544bedf3511b4fb" title="OTA Agent initialization function. ">OTA_AgentInit()</a> will reset this statistic.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The number of OTA packets that have been received but not necessarily queued for processing by the OTA agent. </dd></dl>

</div>
</div>
<a id="a91c2b0a1bbb0e17baf9269df8bd31184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c2b0a1bbb0e17baf9269df8bd31184">&#9670;&nbsp;</a></span>OTA_SetImageState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="aws__ota__agent_8h.html#ad65b7bf247fac4ec69a7dcff1bf7999c">OTA_Err_t</a> OTA_SetImageState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="aws__ota__agent_8h.html#a75288843c3e7c89eb390525f67a66b25">OTA_ImageState_t</a>&#160;</td>
          <td class="paramname"><em>eState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the state of the current MCU image. </p>
<p>The states are eOTA_ImageState_Testing, eOTA_ImageState_Accepted, eOTA_ImageState_Aborted or eOTA_ImageState_Rejected; see OTA_ImageState_t documentation. This will update the status of the current image and publish to the active job status topic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">The</td><td>state to set of the OTA image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>kOTA_Err_None if successful, otherwise an error code prefixed with 'kOTA_Err_' from the list above. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
