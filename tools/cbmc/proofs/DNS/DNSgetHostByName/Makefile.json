# This configuration sets callback to 0. MAX_HOSTNAME_LEN is 10 and
# MAX_REQ_SIZE is 50 for performance reasons. MAX_HOST_NAME is up to 255 according
# to the specification.
{
  "variables": {
    "ENTRY": "DNSgetHostByName",
    "callback": 0,
    "MAX_HOSTNAME_LEN": 10,
    "MAX_REQ_SIZE": 50,
    "HOSTNAME_UNWIND": "__eval {MAX_HOSTNAME_LEN} + 1",
    "OPT": "-m32"
  },
  "lists": {
    "CBMCFLAGS": [
      "--unwindset prvProcessDNSCache.0:5,prvGetHostByName.0:{HOSTNAME_UNWIND},prvCreateDNSMessage.0:{HOSTNAME_UNWIND},prvCreateDNSMessage.1:{HOSTNAME_UNWIND},strlen.0:{HOSTNAME_UNWIND},__builtin___strcpy_chk.0:{HOSTNAME_UNWIND},strcmp.0:{HOSTNAME_UNWIND},strcpy.0:{HOSTNAME_UNWIND}"
    ],
    "OBJS": [
      "$(ENTRY)_harness.goto",
      "$(FREERTOS)/libraries/freertos_plus/standard/freertos_plus_tcp/source/FreeRTOS_DNS.goto",
      "$(FREERTOS)/freertos_kernel/tasks.goto"
    ],
    "DEF": [
      "ipconfigDNS_USE_CALLBACKS={callback}",
      "MAX_HOSTNAME_LEN={MAX_HOSTNAME_LEN}",
      "MAX_REQ_SIZE={MAX_REQ_SIZE}"
    ]
  },
  "makefile-control": {
    "nondet_static": true
  }
}
