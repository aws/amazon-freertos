<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PSoC 6 Peripheral Driver Library: MISRA-C:2004 Compliance</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="cypress_logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PSoC 6 Peripheral Driver Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_misra.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MISRA-C:2004 Compliance </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page describes MISRA-C:2004 compliance and deviations for the PDL.</p>
<p>MISRA stands for Motor Industry Software Reliability Association. The MISRA specification covers a set of 122 mandatory rules and 20 advisory rules that apply to firmware design and has been put together by the Automotive Industry to enhance the quality and robustness of the firmware code embedded in automotive devices.</p>
<p>There are two types of deviations defined:</p><ul>
<li>project deviations - deviations that are applicable for all PDL drivers</li>
<li>specific deviations - deviations that are applicable for the specific driver</li>
</ul>
<h1>Verification Environment</h1>
<p>This section provides MISRA compliance analysis environment description.</p>
<table class="doxtable">
<tr>
<th>Component </th><th>Name </th><th>Version  </th></tr>
<tr>
<td>Test Specification </td><td>MISRA-C:2004 Guidelines for the use of the C language in critical systems </td><td>October 2004  </td></tr>
<tr>
<td rowspan="2">MISRA Checking Tool </td><td>Programming Research QA C source code analyzer for Windows </td><td>9.4.1  </td></tr>
<tr>
<td>Programming Research QA C MISRA-C:2004 Compliance Module (M2CM) </td><td>3.3.3  </td></tr>
</table>
<h1>Project Deviation</h1>
<p>The list of deviated rules is provided in the table below:</p>
<table class="doxtable">
<tr>
<th>MISRA rule </th><th>Rule Class (Required/Advisory) </th><th>Rule Description </th><th>Description of Deviation(s)  </th></tr>
<tr>
<td>1.1 </td><td>R </td><td>This rule states that code shall conform to C ISO/IEC 9899:1990 standard. </td><td>PDL supports ISO:C99 standard.  </td></tr>
<tr>
<td>1.2 </td><td>R </td><td>No reliance shall be placed on undefined or unspecified behaviour. </td><td>This specific behavior is explicitly covered in rules 5.1, 20.1.  </td></tr>
<tr>
<td>1.3 </td><td>R </td><td>Multiple compilers and/or languages shall be used only if there is a common defined interface standard for object code to which the languages/compilers/assemblers conform. </td><td>Violated because PDL supports GCC, IAR and MDK-ARM compilers.  </td></tr>
<tr>
<td>3.1 </td><td>R </td><td>All usage of implementation-defined behaviour shall be documented. </td><td>Refer to the compiler documentation for the compiler-specific behaviour.  </td></tr>
<tr>
<td>5.1 </td><td>R </td><td>Identifiers (internal and external) shall not rely on the significance of more than 31 characters. </td><td>This rule applies to ISO:C90 standard. PDL conforms to ISO:C99 that does not require this limitation.  </td></tr>
<tr>
<td>11.3 </td><td>R </td><td>This rule states that cast should not be performed between a pointer type and an integral type. </td><td>The cast from unsigned int to pointer does not have any unintended effect, as it is a consequence of the definition of a structure based on hardware registers.  </td></tr>
<tr>
<td>11.5 </td><td>R </td><td>A cast shall not be performed that removes any const or volatile qualification from the type addressed by a pointer. </td><td>Drivers access hardware register by macro, which is used for both read and write access. In that case remove of const qualification does not have any unintended effect, as it is a consequence of the macro usage.   </td></tr>
<tr>
<td>17.4 </td><td>R </td><td>Array indexing shall be the only allowed form of pointer arithmetic. </td><td>There are several instances of pointer arithmetic in drivers. They cannot be avoided, so are manually checked and reviewed to be safe.  </td></tr>
<tr>
<td>19.4 </td><td>R </td><td>Macros shall only expand to a limited set of constructs. </td><td>There are some CMSIS-CORE defines are used for structure members definitions, that cannot be enclosed in parentheses.  </td></tr>
<tr>
<td>19.7 </td><td>A </td><td>A function should be used in preference to a function-like macro. </td><td>Deviated since function-like macros are used to allow more efficient code.  </td></tr>
<tr>
<td>20.1 </td><td>R </td><td>Reserved identifiers, macros and functions in the standard library, shall not be defined, redefined or undefined. </td><td>PDL header files contain preprocessor guard macros with leading underscores. PDL uses CMSIS macros with leading underscores and therefore inherits its MISRA violations.  </td></tr>
<tr>
<td>20.2 </td><td>R </td><td>The names of standard library macros, objects and functions shall not be reused. </td><td>Some PDL macros begin with '__'. The PDL is verified with various compilers and avoids conflicts with the standard library names.  </td></tr>
<tr>
<td>21.1 </td><td>R </td><td>Minimization of run-time failures shall be ensured by the use of at least one of:<br />
 a) static analysis tools/techniques;<br />
 b) dynamic analysis tools/techniques;<br />
 c) explicit coding of checks to handle run-time faults. </td><td>Some drivers can contain redundant operations introduced because of generalized implementation approach.  </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>PSoC 6 Peripheral Driver Library</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
